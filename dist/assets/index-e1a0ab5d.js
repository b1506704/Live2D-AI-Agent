(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ys(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Fv={exports:{}},qs={},Lv={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=Symbol.for("react.element"),mg=Symbol.for("react.portal"),yg=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Sg=Symbol.for("react.memo"),bg=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Pg(t){return t===null||typeof t!="object"?null:(t=Lc&&t[Lc]||t["@@iterator"],typeof t=="function"?t:null)}var Bv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kv=Object.assign,Uv={};function Ti(t,e,r){this.props=t,this.context=e,this.refs=Uv,this.updater=r||Bv}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gv(){}Gv.prototype=Ti.prototype;function Pf(t,e,r){this.props=t,this.context=e,this.refs=Uv,this.updater=r||Bv}var Cf=Pf.prototype=new Gv;Cf.constructor=Pf;kv(Cf,Ti.prototype);Cf.isPureReactComponent=!0;var Bc=Array.isArray,jv=Object.prototype.hasOwnProperty,Rf={current:null},Hv={key:!0,ref:!0,__self:!0,__source:!0};function zv(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)jv.call(e,n)&&!Hv.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ko,type:t,key:o,ref:a,props:i,_owner:Rf.current}}function Cg(t,e){return{$$typeof:ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Af(t){return typeof t=="object"&&t!==null&&t.$$typeof===ko}function Rg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var kc=/\/+/g;function xl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rg(""+t.key):e.toString(36)}function Ha(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ko:case mg:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+xl(a,0):n,Bc(i)?(r="",t!=null&&(r=t.replace(kc,"$&/")+"/"),Ha(i,e,r,"",function(u){return u})):i!=null&&(Af(i)&&(i=Cg(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kc,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Bc(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+xl(o,s);a+=Ha(o,e,r,l,i)}else if(l=Pg(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+xl(o,s++),a+=Ha(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zo(t,e,r){if(t==null)return t;var n=[],i=0;return Ha(t,n,"","",function(o){return e.call(r,o,i++)}),n}function Ag(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},za={transition:null},Og={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:za,ReactCurrentOwner:Rf};function Xv(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Zo,forEach:function(t,e,r){Zo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zo(t,function(){e++}),e},toArray:function(t){return Zo(t,function(e){return e})||[]},only:function(t){if(!Af(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Ti;ee.Fragment=yg;ee.Profiler=_g;ee.PureComponent=Pf;ee.StrictMode=gg;ee.Suspense=Tg;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Og;ee.act=Xv;ee.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=kv({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Rf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)jv.call(e,l)&&!Hv.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:ko,type:t.type,key:i,ref:o,props:n,_owner:a}};ee.createContext=function(t){return t={$$typeof:Eg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xg,_context:t},t.Consumer=t};ee.createElement=zv;ee.createFactory=function(t){var e=zv.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:wg,render:t}};ee.isValidElement=Af;ee.lazy=function(t){return{$$typeof:bg,_payload:{_status:-1,_result:t},_init:Ag}};ee.memo=function(t,e){return{$$typeof:Sg,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=za.transition;za.transition={};try{t()}finally{za.transition=e}};ee.unstable_act=Xv;ee.useCallback=function(t,e){return nt.current.useCallback(t,e)};ee.useContext=function(t){return nt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return nt.current.useEffect(t,e)};ee.useId=function(){return nt.current.useId()};ee.useImperativeHandle=function(t,e,r){return nt.current.useImperativeHandle(t,e,r)};ee.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return nt.current.useMemo(t,e)};ee.useReducer=function(t,e,r){return nt.current.useReducer(t,e,r)};ee.useRef=function(t){return nt.current.useRef(t)};ee.useState=function(t){return nt.current.useState(t)};ee.useSyncExternalStore=function(t,e,r){return nt.current.useSyncExternalStore(t,e,r)};ee.useTransition=function(){return nt.current.useTransition()};ee.version="18.3.1";Lv.exports=ee;var z=Lv.exports;const cn=Ys(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=z,Mg=Symbol.for("react.element"),Ng=Symbol.for("react.fragment"),Dg=Object.prototype.hasOwnProperty,Fg=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lg={key:!0,ref:!0,__self:!0,__source:!0};function Vv(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Dg.call(e,n)&&!Lg.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Mg,type:t,key:o,ref:a,props:i,_owner:Fg.current}}qs.Fragment=Ng;qs.jsx=Vv;qs.jsxs=Vv;Fv.exports=qs;var P=Fv.exports;var Wv={exports:{}},yt={},$v={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,k){var S=D.length;D.push(k);e:for(;0<S;){var C=S-1>>>1,I=D[C];if(0<i(I,k))D[C]=k,D[S]=I,S=C;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var k=D[0],S=D.pop();if(S!==k){D[0]=S;e:for(var C=0,I=D.length,Y=I>>>1;C<Y;){var M=2*(C+1)-1,q=D[M],Z=M+1,te=D[Z];if(0>i(q,S))Z<I&&0>i(te,q)?(D[C]=te,D[Z]=S,C=Z):(D[C]=q,D[M]=S,C=M);else if(Z<I&&0>i(te,S))D[C]=te,D[Z]=S,C=Z;else break e}}return k}function i(D,k){var S=D.sortIndex-k.sortIndex;return S!==0?S:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],h=1,c=null,f=3,d=!1,p=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=D)n(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=r(u)}}function x(D){if(v=!1,y(D),!p)if(r(l)!==null)p=!0,U(E);else{var k=r(u);k!==null&&$(x,k.startTime-D)}}function E(D,k){p=!1,v&&(v=!1,m(R),R=-1),d=!0;var S=f;try{for(y(k),c=r(l);c!==null&&(!(c.expirationTime>k)||D&&!O());){var C=c.callback;if(typeof C=="function"){c.callback=null,f=c.priorityLevel;var I=C(c.expirationTime<=k);k=t.unstable_now(),typeof I=="function"?c.callback=I:c===r(l)&&n(l),y(k)}else n(l);c=r(l)}if(c!==null)var Y=!0;else{var M=r(u);M!==null&&$(x,M.startTime-k),Y=!1}return Y}finally{c=null,f=S,d=!1}}var w=!1,T=null,R=-1,A=5,b=-1;function O(){return!(t.unstable_now()-b<A)}function F(){if(T!==null){var D=t.unstable_now();b=D;var k=!0;try{k=T(!0,D)}finally{k?G():(w=!1,T=null)}}else w=!1}var G;if(typeof g=="function")G=function(){g(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,L=X.port2;X.port1.onmessage=F,G=function(){L.postMessage(null)}}else G=function(){_(F,0)};function U(D){T=D,w||(w=!0,G())}function $(D,k){R=_(function(){D(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,U(E))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var S=f;f=k;try{return D()}finally{f=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var S=f;f=D;try{return k()}finally{f=S}},t.unstable_scheduleCallback=function(D,k,S){var C=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?C+S:C):S=C,D){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=S+I,D={id:h++,callback:k,priorityLevel:D,startTime:S,expirationTime:I,sortIndex:-1},S>C?(D.sortIndex=S,e(u,D),r(l)===null&&D===r(u)&&(v?(m(R),R=-1):v=!0,$(x,S-C))):(D.sortIndex=I,e(l,D),p||d||(p=!0,U(E))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var k=f;return function(){var S=f;f=k;try{return D.apply(this,arguments)}finally{f=S}}}})(Yv);$v.exports=Yv;var Bg=$v.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=z,mt=Bg;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qv=new Set,uo={};function Cn(t,e){ci(t,e),ci(t+"Capture",e)}function ci(t,e){for(uo[t]=e,t=0;t<e.length;t++)qv.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=Object.prototype.hasOwnProperty,Ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Gc={};function Gg(t){return Hu.call(Gc,t)?!0:Hu.call(Uc,t)?!1:Ug.test(t)?Gc[t]=!0:(Uc[t]=!0,!1)}function jg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hg(t,e,r,n){if(e===null||typeof e>"u"||jg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function If(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Of,If);qe[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Of,If);qe[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Of,If);qe[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mf(t,e,r,n){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hg(e,r,i,n)&&(r=null),n||i===null?Gg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _r=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jo=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Qv=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Vu=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Zv=Symbol.for("react.offscreen"),jc=Symbol.iterator;function Ri(t){return t===null||typeof t!="object"?null:(t=jc&&t[jc]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,El;function Xi(t){if(El===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);El=e&&e[1]||""}return`
`+El+t}var wl=!1;function Tl(t,e){if(!t||wl)return"";wl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{wl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xi(t):""}function zg(t){switch(t.tag){case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return t=Tl(t.type,!1),t;case 11:return t=Tl(t.type.render,!1),t;case 1:return t=Tl(t.type,!0),t;default:return""}}function Wu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jn:return"Fragment";case Gn:return"Portal";case zu:return"Profiler";case Nf:return"StrictMode";case Xu:return"Suspense";case Vu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qv:return(t.displayName||"Context")+".Consumer";case Kv:return(t._context.displayName||"Context")+".Provider";case Df:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ff:return e=t.displayName||null,e!==null?e:Wu(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Wu(t(e))}catch{}}return null}function Xg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(e);case 8:return e===Nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vg(t){var e=Jv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ea(t){t._valueTracker||(t._valueTracker=Vg(t))}function em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Jv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $u(t,e){var r=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Hr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tm(t,e){e=e.checked,e!=null&&Mf(t,"checked",e,!1)}function Yu(t,e){tm(t,e);var r=Hr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qu(t,e.type,r):e.hasOwnProperty("defaultValue")&&qu(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qu(t,e,r){(e!=="number"||os(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Vi=Array.isArray;function ri(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Hr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ku(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(Vi(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Hr(r)}}function rm(t,e){var r=Hr(e.value),n=Hr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Vc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ta,im=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ta.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ho(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wg=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(t){Wg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qi[e]=qi[t]})});function om(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||qi.hasOwnProperty(t)&&qi[t]?(""+e).trim():e+"px"}function am(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=om(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var $g=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zu(t,e){if(e){if($g[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Ju(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=null;function Lf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var th=null,ni=null,ii=null;function Wc(t){if(t=jo(t)){if(typeof th!="function")throw Error(N(280));var e=t.stateNode;e&&(e=el(e),th(t.stateNode,t.type,e))}}function sm(t){ni?ii?ii.push(t):ii=[t]:ni=t}function lm(){if(ni){var t=ni,e=ii;if(ii=ni=null,Wc(t),e)for(t=0;t<e.length;t++)Wc(e[t])}}function um(t,e){return t(e)}function hm(){}var Sl=!1;function fm(t,e,r){if(Sl)return t(e,r);Sl=!0;try{return um(t,e,r)}finally{Sl=!1,(ni!==null||ii!==null)&&(hm(),lm())}}function fo(t,e){var r=t.stateNode;if(r===null)return null;var n=el(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var rh=!1;if(dr)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){rh=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{rh=!1}function Yg(t,e,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Ki=!1,as=null,ss=!1,nh=null,qg={onError:function(t){Ki=!0,as=t}};function Kg(t,e,r,n,i,o,a,s,l){Ki=!1,as=null,Yg.apply(qg,arguments)}function Qg(t,e,r,n,i,o,a,s,l){if(Kg.apply(this,arguments),Ki){if(Ki){var u=as;Ki=!1,as=null}else throw Error(N(198));ss||(ss=!0,nh=u)}}function Rn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $c(t){if(Rn(t)!==t)throw Error(N(188))}function Zg(t){var e=t.alternate;if(!e){if(e=Rn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return $c(i),t;if(o===n)return $c(i),e;o=o.sibling}throw Error(N(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function dm(t){return t=Zg(t),t!==null?pm(t):null}function pm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pm(t);if(e!==null)return e;t=t.sibling}return null}var vm=mt.unstable_scheduleCallback,Yc=mt.unstable_cancelCallback,Jg=mt.unstable_shouldYield,e_=mt.unstable_requestPaint,Ie=mt.unstable_now,t_=mt.unstable_getCurrentPriorityLevel,Bf=mt.unstable_ImmediatePriority,mm=mt.unstable_UserBlockingPriority,ls=mt.unstable_NormalPriority,r_=mt.unstable_LowPriority,ym=mt.unstable_IdlePriority,Ks=null,Kt=null;function n_(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ks,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:a_,i_=Math.log,o_=Math.LN2;function a_(t){return t>>>=0,t===0?32:31-(i_(t)/o_|0)|0}var ra=64,na=4194304;function Wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function us(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=Wi(s):(o&=a,o!==0&&(n=Wi(o)))}else a=r&~i,a!==0?n=Wi(a):o!==0&&(n=Wi(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Dt(e),i=1<<r,n|=t[r],e&=~i;return n}function s_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Dt(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=s_(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gm(){var t=ra;return ra<<=1,!(ra&4194240)&&(ra=64),t}function bl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Uo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=r}function u_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Dt(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function kf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Dt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var le=0;function _m(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xm,Uf,Em,wm,Tm,oh=!1,ia=[],Nr=null,Dr=null,Fr=null,co=new Map,po=new Map,Cr=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":co.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(e.pointerId)}}function Oi(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=jo(e),e!==null&&Uf(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function f_(t,e,r,n,i){switch(e){case"focusin":return Nr=Oi(Nr,t,e,r,n,i),!0;case"dragenter":return Dr=Oi(Dr,t,e,r,n,i),!0;case"mouseover":return Fr=Oi(Fr,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return co.set(o,Oi(co.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,po.set(o,Oi(po.get(o)||null,t,e,r,n,i)),!0}return!1}function Sm(t){var e=un(t.target);if(e!==null){var r=Rn(e);if(r!==null){if(e=r.tag,e===13){if(e=cm(r),e!==null){t.blockedOn=e,Tm(t.priority,function(){Em(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);eh=n,r.target.dispatchEvent(n),eh=null}else return e=jo(r),e!==null&&Uf(e),t.blockedOn=r,!1;e.shift()}return!0}function Kc(t,e,r){Xa(t)&&r.delete(e)}function c_(){oh=!1,Nr!==null&&Xa(Nr)&&(Nr=null),Dr!==null&&Xa(Dr)&&(Dr=null),Fr!==null&&Xa(Fr)&&(Fr=null),co.forEach(Kc),po.forEach(Kc)}function Ii(t,e){t.blockedOn===e&&(t.blockedOn=null,oh||(oh=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,c_)))}function vo(t){function e(i){return Ii(i,t)}if(0<ia.length){Ii(ia[0],t);for(var r=1;r<ia.length;r++){var n=ia[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nr!==null&&Ii(Nr,t),Dr!==null&&Ii(Dr,t),Fr!==null&&Ii(Fr,t),co.forEach(e),po.forEach(e),r=0;r<Cr.length;r++)n=Cr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cr.length&&(r=Cr[0],r.blockedOn===null);)Sm(r),r.blockedOn===null&&Cr.shift()}var oi=_r.ReactCurrentBatchConfig,hs=!0;function d_(t,e,r,n){var i=le,o=oi.transition;oi.transition=null;try{le=1,Gf(t,e,r,n)}finally{le=i,oi.transition=o}}function p_(t,e,r,n){var i=le,o=oi.transition;oi.transition=null;try{le=4,Gf(t,e,r,n)}finally{le=i,oi.transition=o}}function Gf(t,e,r,n){if(hs){var i=ah(t,e,r,n);if(i===null)Fl(t,e,n,fs,r),qc(t,n);else if(f_(i,t,e,r,n))n.stopPropagation();else if(qc(t,n),e&4&&-1<h_.indexOf(t)){for(;i!==null;){var o=jo(i);if(o!==null&&xm(o),o=ah(t,e,r,n),o===null&&Fl(t,e,n,fs,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Fl(t,e,n,null,r)}}var fs=null;function ah(t,e,r,n){if(fs=null,t=Lf(n),t=un(t),t!==null)if(e=Rn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=cm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fs=t,null}function bm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t_()){case Bf:return 1;case mm:return 4;case ls:case r_:return 16;case ym:return 536870912;default:return 16}default:return 16}}var Ar=null,jf=null,Va=null;function Pm(){if(Va)return Va;var t,e=jf,r=e.length,n,i="value"in Ar?Ar.value:Ar.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Va=i.slice(t,1<n?1-n:void 0)}function Wa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oa(){return!0}function Qc(){return!1}function gt(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oa:Qc,this.isPropagationStopped=Qc,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),e}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hf=gt(Si),Go=Ce({},Si,{view:0,detail:0}),v_=gt(Go),Pl,Cl,Mi,Qs=Ce({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Pl=t.screenX-Mi.screenX,Cl=t.screenY-Mi.screenY):Cl=Pl=0,Mi=t),Pl)},movementY:function(t){return"movementY"in t?t.movementY:Cl}}),Zc=gt(Qs),m_=Ce({},Qs,{dataTransfer:0}),y_=gt(m_),g_=Ce({},Go,{relatedTarget:0}),Rl=gt(g_),__=Ce({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=gt(__),E_=Ce({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w_=gt(E_),T_=Ce({},Si,{data:0}),Jc=gt(T_),S_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P_[t])?!!e[t]:!1}function zf(){return C_}var R_=Ce({},Go,{key:function(t){if(t.key){var e=S_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zf,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A_=gt(R_),O_=Ce({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ed=gt(O_),I_=Ce({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zf}),M_=gt(I_),N_=Ce({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),D_=gt(N_),F_=Ce({},Qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=gt(F_),B_=[9,13,27,32],Xf=dr&&"CompositionEvent"in window,Qi=null;dr&&"documentMode"in document&&(Qi=document.documentMode);var k_=dr&&"TextEvent"in window&&!Qi,Cm=dr&&(!Xf||Qi&&8<Qi&&11>=Qi),td=String.fromCharCode(32),rd=!1;function Rm(t,e){switch(t){case"keyup":return B_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function U_(t,e){switch(t){case"compositionend":return Am(e);case"keypress":return e.which!==32?null:(rd=!0,td);case"textInput":return t=e.data,t===td&&rd?null:t;default:return null}}function G_(t,e){if(Hn)return t==="compositionend"||!Xf&&Rm(t,e)?(t=Pm(),Va=jf=Ar=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cm&&e.locale!=="ko"?null:e.data;default:return null}}var j_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j_[t.type]:e==="textarea"}function Om(t,e,r,n){sm(n),e=cs(e,"onChange"),0<e.length&&(r=new Hf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Zi=null,mo=null;function H_(t){jm(t,0)}function Zs(t){var e=Vn(t);if(em(e))return t}function z_(t,e){if(t==="change")return e}var Im=!1;if(dr){var Al;if(dr){var Ol="oninput"in document;if(!Ol){var id=document.createElement("div");id.setAttribute("oninput","return;"),Ol=typeof id.oninput=="function"}Al=Ol}else Al=!1;Im=Al&&(!document.documentMode||9<document.documentMode)}function od(){Zi&&(Zi.detachEvent("onpropertychange",Mm),mo=Zi=null)}function Mm(t){if(t.propertyName==="value"&&Zs(mo)){var e=[];Om(e,mo,t,Lf(t)),fm(H_,e)}}function X_(t,e,r){t==="focusin"?(od(),Zi=e,mo=r,Zi.attachEvent("onpropertychange",Mm)):t==="focusout"&&od()}function V_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zs(mo)}function W_(t,e){if(t==="click")return Zs(e)}function $_(t,e){if(t==="input"||t==="change")return Zs(e)}function Y_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kt=typeof Object.is=="function"?Object.is:Y_;function yo(t,e){if(kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Hu.call(e,i)||!kt(t[i],e[i]))return!1}return!0}function ad(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sd(t,e){var r=ad(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ad(r)}}function Nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dm(){for(var t=window,e=os();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=os(t.document)}return e}function Vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q_(t){var e=Dm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Nm(r.ownerDocument.documentElement,r)){if(n!==null&&Vf(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=sd(r,o);var a=sd(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K_=dr&&"documentMode"in document&&11>=document.documentMode,zn=null,sh=null,Ji=null,lh=!1;function ld(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lh||zn==null||zn!==os(n)||(n=zn,"selectionStart"in n&&Vf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ji&&yo(Ji,n)||(Ji=n,n=cs(sh,"onSelect"),0<n.length&&(e=new Hf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zn)))}function aa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xn={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},Il={},Fm={};dr&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function Js(t){if(Il[t])return Il[t];if(!Xn[t])return t;var e=Xn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fm)return Il[t]=e[r];return t}var Lm=Js("animationend"),Bm=Js("animationiteration"),km=Js("animationstart"),Um=Js("transitionend"),Gm=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){Gm.set(t,e),Cn(e,[t])}for(var Ml=0;Ml<ud.length;Ml++){var Nl=ud[Ml],Q_=Nl.toLowerCase(),Z_=Nl[0].toUpperCase()+Nl.slice(1);Vr(Q_,"on"+Z_)}Vr(Lm,"onAnimationEnd");Vr(Bm,"onAnimationIteration");Vr(km,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Um,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J_=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function hd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Qg(n,e,void 0,t),t.currentTarget=null}function jm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;hd(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;hd(i,s,u),o=l}}}if(ss)throw t=nh,ss=!1,nh=null,t}function ve(t,e){var r=e[dh];r===void 0&&(r=e[dh]=new Set);var n=t+"__bubble";r.has(n)||(Hm(e,t,2,!1),r.add(n))}function Dl(t,e,r){var n=0;e&&(n|=4),Hm(r,t,n,e)}var sa="_reactListening"+Math.random().toString(36).slice(2);function go(t){if(!t[sa]){t[sa]=!0,qv.forEach(function(r){r!=="selectionchange"&&(J_.has(r)||Dl(r,!1,t),Dl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sa]||(e[sa]=!0,Dl("selectionchange",!1,e))}}function Hm(t,e,r,n){switch(bm(e)){case 1:var i=d_;break;case 4:i=p_;break;default:i=Gf}r=i.bind(null,e,r,t),i=void 0,!rh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Fl(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=un(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}fm(function(){var u=o,h=Lf(r),c=[];e:{var f=Gm.get(t);if(f!==void 0){var d=Hf,p=t;switch(t){case"keypress":if(Wa(r)===0)break e;case"keydown":case"keyup":d=A_;break;case"focusin":p="focus",d=Rl;break;case"focusout":p="blur",d=Rl;break;case"beforeblur":case"afterblur":d=Rl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=M_;break;case Lm:case Bm:case km:d=x_;break;case Um:d=D_;break;case"scroll":d=v_;break;case"wheel":d=L_;break;case"copy":case"cut":case"paste":d=w_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ed}var v=(e&4)!==0,_=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,m!==null&&(x=fo(g,m),x!=null&&v.push(_o(g,x,y)))),_)break;g=g.return}0<v.length&&(f=new d(f,p,null,r,h),c.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&r!==eh&&(p=r.relatedTarget||r.fromElement)&&(un(p)||p[pr]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?un(p):null,p!==null&&(_=Rn(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(v=Zc,x="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=ed,x="onPointerLeave",m="onPointerEnter",g="pointer"),_=d==null?f:Vn(d),y=p==null?f:Vn(p),f=new v(x,g+"leave",d,r,h),f.target=_,f.relatedTarget=y,x=null,un(h)===u&&(v=new v(m,g+"enter",p,r,h),v.target=y,v.relatedTarget=_,x=v),_=x,d&&p)t:{for(v=d,m=p,g=0,y=v;y;y=Mn(y))g++;for(y=0,x=m;x;x=Mn(x))y++;for(;0<g-y;)v=Mn(v),g--;for(;0<y-g;)m=Mn(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Mn(v),m=Mn(m)}v=null}else v=null;d!==null&&fd(c,f,d,v,!1),p!==null&&_!==null&&fd(c,_,p,v,!0)}}e:{if(f=u?Vn(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var E=z_;else if(nd(f))if(Im)E=$_;else{E=V_;var w=X_}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=W_);if(E&&(E=E(t,u))){Om(c,E,r,h);break e}w&&w(t,f,u),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&qu(f,"number",f.value)}switch(w=u?Vn(u):window,t){case"focusin":(nd(w)||w.contentEditable==="true")&&(zn=w,sh=u,Ji=null);break;case"focusout":Ji=sh=zn=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,ld(c,r,h);break;case"selectionchange":if(K_)break;case"keydown":case"keyup":ld(c,r,h)}var T;if(Xf)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Hn?Rm(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Cm&&r.locale!=="ko"&&(Hn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Hn&&(T=Pm()):(Ar=h,jf="value"in Ar?Ar.value:Ar.textContent,Hn=!0)),w=cs(u,R),0<w.length&&(R=new Jc(R,t,null,r,h),c.push({event:R,listeners:w}),T?R.data=T:(T=Am(r),T!==null&&(R.data=T)))),(T=k_?U_(t,r):G_(t,r))&&(u=cs(u,"onBeforeInput"),0<u.length&&(h=new Jc("onBeforeInput","beforeinput",null,r,h),c.push({event:h,listeners:u}),h.data=T))}jm(c,e)})}function _o(t,e,r){return{instance:t,listener:e,currentTarget:r}}function cs(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fo(t,r),o!=null&&n.unshift(_o(t,o,i)),o=fo(t,e),o!=null&&n.push(_o(t,o,i))),t=t.return}return n}function Mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fd(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=fo(r,o),l!=null&&a.unshift(_o(r,l,s))):i||(l=fo(r,o),l!=null&&a.push(_o(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var e1=/\r\n?/g,t1=/\u0000|\uFFFD/g;function cd(t){return(typeof t=="string"?t:""+t).replace(e1,`
`).replace(t1,"")}function la(t,e,r){if(e=cd(e),cd(t)!==e&&r)throw Error(N(425))}function ds(){}var uh=null,hh=null;function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(t){return dd.resolve(null).then(t).catch(i1)}:ch;function i1(t){setTimeout(function(){throw t})}function Ll(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),vo(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vo(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bi=Math.random().toString(36).slice(2),$t="__reactFiber$"+bi,xo="__reactProps$"+bi,pr="__reactContainer$"+bi,dh="__reactEvents$"+bi,o1="__reactListeners$"+bi,a1="__reactHandles$"+bi;function un(t){var e=t[$t];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pr]||r[$t]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=pd(t);t!==null;){if(r=t[$t])return r;t=pd(t)}return e}t=r,r=t.parentNode}return null}function jo(t){return t=t[$t]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function el(t){return t[xo]||null}var ph=[],Wn=-1;function Wr(t){return{current:t}}function me(t){0>Wn||(t.current=ph[Wn],ph[Wn]=null,Wn--)}function fe(t,e){Wn++,ph[Wn]=t.current,t.current=e}var zr={},Je=Wr(zr),ut=Wr(!1),gn=zr;function di(t,e){var r=t.type.contextTypes;if(!r)return zr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ht(t){return t=t.childContextTypes,t!=null}function ps(){me(ut),me(Je)}function vd(t,e,r){if(Je.current!==zr)throw Error(N(168));fe(Je,e),fe(ut,r)}function zm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(N(108,Xg(t)||"Unknown",i));return Ce({},r,n)}function vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,gn=Je.current,fe(Je,t),fe(ut,ut.current),!0}function md(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=zm(t,e,gn),n.__reactInternalMemoizedMergedChildContext=t,me(ut),me(Je),fe(Je,t)):me(ut),fe(ut,r)}var sr=null,tl=!1,Bl=!1;function Xm(t){sr===null?sr=[t]:sr.push(t)}function s1(t){tl=!0,Xm(t)}function $r(){if(!Bl&&sr!==null){Bl=!0;var t=0,e=le;try{var r=sr;for(le=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}sr=null,tl=!1}catch(i){throw sr!==null&&(sr=sr.slice(t+1)),vm(Bf,$r),i}finally{le=e,Bl=!1}}return null}var $n=[],Yn=0,ms=null,ys=0,_t=[],xt=0,_n=null,hr=1,fr="";function tn(t,e){$n[Yn++]=ys,$n[Yn++]=ms,ms=t,ys=e}function Vm(t,e,r){_t[xt++]=hr,_t[xt++]=fr,_t[xt++]=_n,_n=t;var n=hr;t=fr;var i=32-Dt(n)-1;n&=~(1<<i),r+=1;var o=32-Dt(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,hr=1<<32-Dt(e)+i|r<<i|n,fr=o+t}else hr=1<<o|r<<i|n,fr=t}function Wf(t){t.return!==null&&(tn(t,1),Vm(t,1,0))}function $f(t){for(;t===ms;)ms=$n[--Yn],$n[Yn]=null,ys=$n[--Yn],$n[Yn]=null;for(;t===_n;)_n=_t[--xt],_t[xt]=null,fr=_t[--xt],_t[xt]=null,hr=_t[--xt],_t[xt]=null}var vt=null,dt=null,Ee=!1,It=null;function Wm(t,e){var r=Et(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function yd(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,dt=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=_n!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Et(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,vt=t,dt=null,!0):!1;default:return!1}}function vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mh(t){if(Ee){var e=dt;if(e){var r=e;if(!yd(t,e)){if(vh(t))throw Error(N(418));e=Lr(r.nextSibling);var n=vt;e&&yd(t,e)?Wm(n,r):(t.flags=t.flags&-4097|2,Ee=!1,vt=t)}}else{if(vh(t))throw Error(N(418));t.flags=t.flags&-4097|2,Ee=!1,vt=t}}}function gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function ua(t){if(t!==vt)return!1;if(!Ee)return gd(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fh(t.type,t.memoizedProps)),e&&(e=dt)){if(vh(t))throw $m(),Error(N(418));for(;e;)Wm(t,e),e=Lr(e.nextSibling)}if(gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){dt=Lr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=vt?Lr(t.stateNode.nextSibling):null;return!0}function $m(){for(var t=dt;t;)t=Lr(t.nextSibling)}function pi(){dt=vt=null,Ee=!1}function Yf(t){It===null?It=[t]:It.push(t)}var l1=_r.ReactCurrentBatchConfig;function Ni(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function ha(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _d(t){var e=t._init;return e(t._payload)}function Ym(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function r(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Gr(m,g),m.index=0,m.sibling=null,m}function o(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,g,y,x){return g===null||g.tag!==6?(g=Xl(y,m.mode,x),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,x){var E=y.type;return E===jn?h(m,g,y.props.children,x,y.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===br&&_d(E)===g.type)?(x=i(g,y.props),x.ref=Ni(m,g,y),x.return=m,x):(x=Ja(y.type,y.key,y.props,null,m.mode,x),x.ref=Ni(m,g,y),x.return=m,x)}function u(m,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Vl(y,m.mode,x),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function h(m,g,y,x,E){return g===null||g.tag!==7?(g=pn(y,m.mode,x,E),g.return=m,g):(g=i(g,y),g.return=m,g)}function c(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xl(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jo:return y=Ja(g.type,g.key,g.props,null,m.mode,y),y.ref=Ni(m,null,g),y.return=m,y;case Gn:return g=Vl(g,m.mode,y),g.return=m,g;case br:var x=g._init;return c(m,x(g._payload),y)}if(Vi(g)||Ri(g))return g=pn(g,m.mode,y,null),g.return=m,g;ha(m,g)}return null}function f(m,g,y,x){var E=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:s(m,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jo:return y.key===E?l(m,g,y,x):null;case Gn:return y.key===E?u(m,g,y,x):null;case br:return E=y._init,f(m,g,E(y._payload),x)}if(Vi(y)||Ri(y))return E!==null?null:h(m,g,y,x,null);ha(m,y)}return null}function d(m,g,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(y)||null,s(g,m,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jo:return m=m.get(x.key===null?y:x.key)||null,l(g,m,x,E);case Gn:return m=m.get(x.key===null?y:x.key)||null,u(g,m,x,E);case br:var w=x._init;return d(m,g,y,w(x._payload),E)}if(Vi(x)||Ri(x))return m=m.get(y)||null,h(g,m,x,E,null);ha(g,x)}return null}function p(m,g,y,x){for(var E=null,w=null,T=g,R=g=0,A=null;T!==null&&R<y.length;R++){T.index>R?(A=T,T=null):A=T.sibling;var b=f(m,T,y[R],x);if(b===null){T===null&&(T=A);break}t&&T&&b.alternate===null&&e(m,T),g=o(b,g,R),w===null?E=b:w.sibling=b,w=b,T=A}if(R===y.length)return r(m,T),Ee&&tn(m,R),E;if(T===null){for(;R<y.length;R++)T=c(m,y[R],x),T!==null&&(g=o(T,g,R),w===null?E=T:w.sibling=T,w=T);return Ee&&tn(m,R),E}for(T=n(m,T);R<y.length;R++)A=d(T,m,R,y[R],x),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?R:A.key),g=o(A,g,R),w===null?E=A:w.sibling=A,w=A);return t&&T.forEach(function(O){return e(m,O)}),Ee&&tn(m,R),E}function v(m,g,y,x){var E=Ri(y);if(typeof E!="function")throw Error(N(150));if(y=E.call(y),y==null)throw Error(N(151));for(var w=E=null,T=g,R=g=0,A=null,b=y.next();T!==null&&!b.done;R++,b=y.next()){T.index>R?(A=T,T=null):A=T.sibling;var O=f(m,T,b.value,x);if(O===null){T===null&&(T=A);break}t&&T&&O.alternate===null&&e(m,T),g=o(O,g,R),w===null?E=O:w.sibling=O,w=O,T=A}if(b.done)return r(m,T),Ee&&tn(m,R),E;if(T===null){for(;!b.done;R++,b=y.next())b=c(m,b.value,x),b!==null&&(g=o(b,g,R),w===null?E=b:w.sibling=b,w=b);return Ee&&tn(m,R),E}for(T=n(m,T);!b.done;R++,b=y.next())b=d(T,m,R,b.value,x),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?R:b.key),g=o(b,g,R),w===null?E=b:w.sibling=b,w=b);return t&&T.forEach(function(F){return e(m,F)}),Ee&&tn(m,R),E}function _(m,g,y,x){if(typeof y=="object"&&y!==null&&y.type===jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Jo:e:{for(var E=y.key,w=g;w!==null;){if(w.key===E){if(E=y.type,E===jn){if(w.tag===7){r(m,w.sibling),g=i(w,y.props.children),g.return=m,m=g;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===br&&_d(E)===w.type){r(m,w.sibling),g=i(w,y.props),g.ref=Ni(m,w,y),g.return=m,m=g;break e}r(m,w);break}else e(m,w);w=w.sibling}y.type===jn?(g=pn(y.props.children,m.mode,x,y.key),g.return=m,m=g):(x=Ja(y.type,y.key,y.props,null,m.mode,x),x.ref=Ni(m,g,y),x.return=m,m=x)}return a(m);case Gn:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else e(m,g);g=g.sibling}g=Vl(y,m.mode,x),g.return=m,m=g}return a(m);case br:return w=y._init,_(m,g,w(y._payload),x)}if(Vi(y))return p(m,g,y,x);if(Ri(y))return v(m,g,y,x);ha(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,y),g.return=m,m=g):(r(m,g),g=Xl(y,m.mode,x),g.return=m,m=g),a(m)):r(m,g)}return _}var vi=Ym(!0),qm=Ym(!1),gs=Wr(null),_s=null,qn=null,qf=null;function Kf(){qf=qn=_s=null}function Qf(t){var e=gs.current;me(gs),t._currentValue=e}function yh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ai(t,e){_s=t,qf=qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function Tt(t){var e=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:e,next:null},qn===null){if(_s===null)throw Error(N(308));qn=t,_s.dependencies={lanes:0,firstContext:t}}else qn=qn.next=t;return e}var hn=null;function Zf(t){hn===null?hn=[t]:hn.push(t)}function Km(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Zf(e)):(r.next=i.next,i.next=r),e.interleaved=r,vr(t,n)}function vr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pr=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vr(t,r)}return i=n.interleaved,i===null?(e.next=e,Zf(n)):(e.next=i.next,i.next=e),n.interleaved=e,vr(t,r)}function $a(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,kf(t,r)}}function xd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xs(t,e,r,n){var i=t.updateQueue;Pr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,h=u=l=null,s=o;do{var f=s.lane,d=s.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,v=s;switch(f=e,d=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){c=p.call(d,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(d,c,f):p,f==null)break e;c=Ce({},c,f);break e;case 2:Pr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=d,l=c):h=h.next=d,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);En|=a,t.lanes=a,t.memoizedState=c}}function Ed(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(N(191,i));i.call(n)}}}var Ho={},Qt=Wr(Ho),Eo=Wr(Ho),wo=Wr(Ho);function fn(t){if(t===Ho)throw Error(N(174));return t}function ec(t,e){switch(fe(wo,e),fe(Eo,t),fe(Qt,Ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qu(e,t)}me(Qt),fe(Qt,e)}function mi(){me(Qt),me(Eo),me(wo)}function Zm(t){fn(wo.current);var e=fn(Qt.current),r=Qu(e,t.type);e!==r&&(fe(Eo,t),fe(Qt,r))}function tc(t){Eo.current===t&&(me(Qt),me(Eo))}var Te=Wr(0);function Es(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kl=[];function rc(){for(var t=0;t<kl.length;t++)kl[t]._workInProgressVersionPrimary=null;kl.length=0}var Ya=_r.ReactCurrentDispatcher,Ul=_r.ReactCurrentBatchConfig,xn=0,be=null,Be=null,He=null,ws=!1,eo=!1,To=0,u1=0;function Ke(){throw Error(N(321))}function nc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!kt(t[r],e[r]))return!1;return!0}function ic(t,e,r,n,i,o){if(xn=o,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ya.current=t===null||t.memoizedState===null?d1:p1,t=r(n,i),eo){o=0;do{if(eo=!1,To=0,25<=o)throw Error(N(301));o+=1,He=Be=null,e.updateQueue=null,Ya.current=v1,t=r(n,i)}while(eo)}if(Ya.current=Ts,e=Be!==null&&Be.next!==null,xn=0,He=Be=be=null,ws=!1,e)throw Error(N(300));return t}function oc(){var t=To!==0;return To=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?be.memoizedState=He=t:He=He.next=t,He}function St(){if(Be===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=He===null?be.memoizedState:He.next;if(e!==null)He=e,Be=t;else{if(t===null)throw Error(N(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?be.memoizedState=He=t:He=He.next=t}return He}function So(t,e){return typeof e=="function"?e(t):e}function Gl(t){var e=St(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=Be,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var h=u.lane;if((xn&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=n):l=l.next=c,be.lanes|=h,En|=h}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,kt(n,e.memoizedState)||(lt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,be.lanes|=o,En|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jl(t){var e=St(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);kt(o,e.memoizedState)||(lt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Jm(){}function e0(t,e){var r=be,n=St(),i=e(),o=!kt(n.memoizedState,i);if(o&&(n.memoizedState=i,lt=!0),n=n.queue,ac(n0.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,bo(9,r0.bind(null,r,n,i,e),void 0,null),Xe===null)throw Error(N(349));xn&30||t0(r,e,i)}return i}function t0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function r0(t,e,r,n){e.value=r,e.getSnapshot=n,i0(e)&&o0(t)}function n0(t,e,r){return r(function(){i0(e)&&o0(t)})}function i0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kt(t,r)}catch{return!0}}function o0(t){var e=vr(t,1);e!==null&&Ft(e,t,1,-1)}function wd(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},e.queue=t,t=t.dispatch=c1.bind(null,be,t),[e.memoizedState,t]}function bo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function a0(){return St().memoizedState}function qa(t,e,r,n){var i=Xt();be.flags|=t,i.memoizedState=bo(1|e,r,void 0,n===void 0?null:n)}function rl(t,e,r,n){var i=St();n=n===void 0?null:n;var o=void 0;if(Be!==null){var a=Be.memoizedState;if(o=a.destroy,n!==null&&nc(n,a.deps)){i.memoizedState=bo(e,r,o,n);return}}be.flags|=t,i.memoizedState=bo(1|e,r,o,n)}function Td(t,e){return qa(8390656,8,t,e)}function ac(t,e){return rl(2048,8,t,e)}function s0(t,e){return rl(4,2,t,e)}function l0(t,e){return rl(4,4,t,e)}function u0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h0(t,e,r){return r=r!=null?r.concat([t]):null,rl(4,4,u0.bind(null,e,t),r)}function sc(){}function f0(t,e){var r=St();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function c0(t,e){var r=St();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function d0(t,e,r){return xn&21?(kt(r,e)||(r=gm(),be.lanes|=r,En|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=r)}function h1(t,e){var r=le;le=r!==0&&4>r?r:4,t(!0);var n=Ul.transition;Ul.transition={};try{t(!1),e()}finally{le=r,Ul.transition=n}}function p0(){return St().memoizedState}function f1(t,e,r){var n=Ur(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v0(t))m0(e,r);else if(r=Km(t,e,r,n),r!==null){var i=rt();Ft(r,t,n,i),y0(r,e,n)}}function c1(t,e,r){var n=Ur(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v0(t))m0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,kt(s,a)){var l=e.interleaved;l===null?(i.next=i,Zf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Km(t,e,i,n),r!==null&&(i=rt(),Ft(r,t,n,i),y0(r,e,n))}}function v0(t){var e=t.alternate;return t===be||e!==null&&e===be}function m0(t,e){eo=ws=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function y0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,kf(t,r)}}var Ts={readContext:Tt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},d1={readContext:Tt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:Td,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,qa(4194308,4,u0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return qa(4,2,t,e)},useMemo:function(t,e){var r=Xt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=f1.bind(null,be,t),[n.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:wd,useDebugValue:sc,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=wd(!1),e=t[0];return t=h1.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=be,i=Xt();if(Ee){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),Xe===null)throw Error(N(349));xn&30||t0(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Td(n0.bind(null,n,o,t),[t]),n.flags|=2048,bo(9,r0.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Xt(),e=Xe.identifierPrefix;if(Ee){var r=fr,n=hr;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=To++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=u1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p1={readContext:Tt,useCallback:f0,useContext:Tt,useEffect:ac,useImperativeHandle:h0,useInsertionEffect:s0,useLayoutEffect:l0,useMemo:c0,useReducer:Gl,useRef:a0,useState:function(){return Gl(So)},useDebugValue:sc,useDeferredValue:function(t){var e=St();return d0(e,Be.memoizedState,t)},useTransition:function(){var t=Gl(So)[0],e=St().memoizedState;return[t,e]},useMutableSource:Jm,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1},v1={readContext:Tt,useCallback:f0,useContext:Tt,useEffect:ac,useImperativeHandle:h0,useInsertionEffect:s0,useLayoutEffect:l0,useMemo:c0,useReducer:jl,useRef:a0,useState:function(){return jl(So)},useDebugValue:sc,useDeferredValue:function(t){var e=St();return Be===null?e.memoizedState=t:d0(e,Be.memoizedState,t)},useTransition:function(){var t=jl(So)[0],e=St().memoizedState;return[t,e]},useMutableSource:Jm,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1};function At(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nl={isMounted:function(t){return(t=t._reactInternals)?Rn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=rt(),i=Ur(t),o=cr(n,i);o.payload=e,r!=null&&(o.callback=r),e=Br(t,o,i),e!==null&&(Ft(e,t,i,n),$a(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=rt(),i=Ur(t),o=cr(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Br(t,o,i),e!==null&&(Ft(e,t,i,n),$a(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=rt(),n=Ur(t),i=cr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Br(t,i,n),e!==null&&(Ft(e,t,n,r),$a(e,t,n))}};function Sd(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!yo(r,n)||!yo(i,o):!0}function g0(t,e,r){var n=!1,i=zr,o=e.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=ht(e)?gn:Je.current,n=e.contextTypes,o=(n=n!=null)?di(t,i):zr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nl.enqueueReplaceState(e,e.state,null)}function _h(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Jf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=ht(e)?gn:Je.current,i.context=di(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gh(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nl.enqueueReplaceState(i,i.state,null),xs(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,e){try{var r="",n=e;do r+=zg(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var m1=typeof WeakMap=="function"?WeakMap:Map;function _0(t,e,r){r=cr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bs||(bs=!0,Oh=n),xh(t,e)},r}function x0(t,e,r){r=cr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){xh(t,e),typeof n!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Pd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new m1;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=O1.bind(null,t,e,r),e.then(t,t))}function Cd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rd(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=cr(-1,1),e.tag=2,Br(r,e,1))),r.lanes|=1),t)}var y1=_r.ReactCurrentOwner,lt=!1;function tt(t,e,r,n){e.child=t===null?qm(e,null,r,n):vi(e,t.child,r,n)}function Ad(t,e,r,n,i){r=r.render;var o=e.ref;return ai(e,i),n=ic(t,e,r,n,o,i),r=oc(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(Ee&&r&&Wf(e),e.flags|=1,tt(t,e,n,i),e.child)}function Od(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!vc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,E0(t,e,o,n,i)):(t=Ja(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:yo,r(a,n)&&t.ref===e.ref)return mr(t,e,i)}return e.flags|=1,t=Gr(o,n),t.ref=e.ref,t.return=e,e.child=t}function E0(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(yo(o,n)&&t.ref===e.ref)if(lt=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,mr(t,e,i)}return Eh(t,e,r,n,i)}function w0(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Qn,ct),ct|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Qn,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,fe(Qn,ct),ct|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,fe(Qn,ct),ct|=n;return tt(t,e,i,r),e.child}function T0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Eh(t,e,r,n,i){var o=ht(r)?gn:Je.current;return o=di(e,o),ai(e,i),r=ic(t,e,r,n,o,i),n=oc(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(Ee&&n&&Wf(e),e.flags|=1,tt(t,e,r,i),e.child)}function Id(t,e,r,n,i){if(ht(r)){var o=!0;vs(e)}else o=!1;if(ai(e,i),e.stateNode===null)Ka(t,e),g0(e,r,n),_h(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=ht(r)?gn:Je.current,u=di(e,u));var h=r.getDerivedStateFromProps,c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&bd(e,a,n,u),Pr=!1;var f=e.memoizedState;a.state=f,xs(e,n,a,i),l=e.memoizedState,s!==n||f!==l||ut.current||Pr?(typeof h=="function"&&(gh(e,r,h,n),l=e.memoizedState),(s=Pr||Sd(e,r,s,n,f,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Qm(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:At(e.type,s),a.props=u,c=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=ht(r)?gn:Je.current,l=di(e,l));var d=r.getDerivedStateFromProps;(h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||f!==l)&&bd(e,a,n,l),Pr=!1,f=e.memoizedState,a.state=f,xs(e,n,a,i);var p=e.memoizedState;s!==c||f!==p||ut.current||Pr?(typeof d=="function"&&(gh(e,r,d,n),p=e.memoizedState),(u=Pr||Sd(e,r,u,n,f,p,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return wh(t,e,r,n,o,i)}function wh(t,e,r,n,i,o){T0(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&md(e,r,!1),mr(t,e,o);n=e.stateNode,y1.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=vi(e,t.child,null,o),e.child=vi(e,null,s,o)):tt(t,e,s,o),e.memoizedState=n.state,i&&md(e,r,!0),e.child}function S0(t){var e=t.stateNode;e.pendingContext?vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vd(t,e.context,!1),ec(t,e.containerInfo)}function Md(t,e,r,n,i){return pi(),Yf(i),e.flags|=256,tt(t,e,r,n),e.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Sh(t){return{baseLanes:t,cachePool:null,transitions:null}}function b0(t,e,r){var n=e.pendingProps,i=Te.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Te,i&1),t===null)return mh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=al(a,n,0,null),t=pn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sh(r),e.memoizedState=Th,t):lc(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return g1(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Gr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Gr(s,o):(o=pn(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?Sh(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Th,n}return o=t.child,t=o.sibling,n=Gr(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lc(t,e){return e=al({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fa(t,e,r,n){return n!==null&&Yf(n),vi(e,t.child,null,r),t=lc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g1(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=Hl(Error(N(422))),fa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=al({mode:"visible",children:n.children},i,0,null),o=pn(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&vi(e,t.child,null,a),e.child.memoizedState=Sh(a),e.memoizedState=Th,o);if(!(e.mode&1))return fa(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(N(419)),n=Hl(o,n,void 0),fa(t,e,a,n)}if(s=(a&t.childLanes)!==0,lt||s){if(n=Xe,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vr(t,i),Ft(n,t,i,-1))}return pc(),n=Hl(Error(N(421))),fa(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,dt=Lr(i.nextSibling),vt=e,Ee=!0,It=null,t!==null&&(_t[xt++]=hr,_t[xt++]=fr,_t[xt++]=_n,hr=t.id,fr=t.overflow,_n=e),e=lc(e,n.children),e.flags|=4096,e)}function Nd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yh(t.return,e,r)}function zl(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function P0(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(tt(t,e,n.children,r),n=Te.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nd(t,r,e);else if(t.tag===19)Nd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(fe(Te,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Es(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),zl(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Es(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}zl(e,!0,r,null,o);break;case"together":zl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ka(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),En|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=Gr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _1(t,e,r){switch(e.tag){case 3:S0(e),pi();break;case 5:Zm(e);break;case 1:ht(e.type)&&vs(e);break;case 4:ec(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;fe(gs,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(fe(Te,Te.current&1),e.flags|=128,null):r&e.child.childLanes?b0(t,e,r):(fe(Te,Te.current&1),t=mr(t,e,r),t!==null?t.sibling:null);fe(Te,Te.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return P0(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Te,Te.current),n)break;return null;case 22:case 23:return e.lanes=0,w0(t,e,r)}return mr(t,e,r)}var C0,bh,R0,A0;C0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bh=function(){};R0=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,fn(Qt.current);var o=null;switch(r){case"input":i=$u(t,i),n=$u(t,n),o=[];break;case"select":i=Ce({},i,{value:void 0}),n=Ce({},n,{value:void 0}),o=[];break;case"textarea":i=Ku(t,i),n=Ku(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ds)}Zu(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};A0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Di(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function x1(t,e,r){var n=e.pendingProps;switch($f(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ht(e.type)&&ps(),Qe(e),null;case 3:return n=e.stateNode,mi(),me(ut),me(Je),rc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(Nh(It),It=null))),bh(t,e),Qe(e),null;case 5:tc(e);var i=fn(wo.current);if(r=e.type,t!==null&&e.stateNode!=null)R0(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return Qe(e),null}if(t=fn(Qt.current),ua(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[$t]=e,n[xo]=o,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<$i.length;i++)ve($i[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Hc(n,o),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ve("invalid",n);break;case"textarea":Xc(n,o),ve("invalid",n)}Zu(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&la(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&la(n.textContent,s,t),i=["children",""+s]):uo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ve("scroll",n)}switch(r){case"input":ea(n),zc(n,o,!0);break;case"textarea":ea(n),Vc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ds)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[$t]=e,t[xo]=n,C0(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ju(r,n),r){case"dialog":ve("cancel",t),ve("close",t),i=n;break;case"iframe":case"object":case"embed":ve("load",t),i=n;break;case"video":case"audio":for(i=0;i<$i.length;i++)ve($i[i],t);i=n;break;case"source":ve("error",t),i=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=n;break;case"details":ve("toggle",t),i=n;break;case"input":Hc(t,n),i=$u(t,n),ve("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ce({},n,{value:void 0}),ve("invalid",t);break;case"textarea":Xc(t,n),i=Ku(t,n),ve("invalid",t);break;default:i=n}Zu(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?am(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&im(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ho(t,l):typeof l=="number"&&ho(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ve("scroll",t):l!=null&&Mf(t,o,l,a))}switch(r){case"input":ea(t),zc(t,n,!1);break;case"textarea":ea(t),Vc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Hr(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?ri(t,!!n.multiple,o,!1):n.defaultValue!=null&&ri(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ds)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)A0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=fn(wo.current),fn(Qt.current),ua(e)){if(n=e.stateNode,r=e.memoizedProps,n[$t]=e,(o=n.nodeValue!==r)&&(t=vt,t!==null))switch(t.tag){case 3:la(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&la(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$t]=e,e.stateNode=n}return Qe(e),null;case 13:if(me(Te),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&dt!==null&&e.mode&1&&!(e.flags&128))$m(),pi(),e.flags|=98560,o=!1;else if(o=ua(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[$t]=e}else pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else It!==null&&(Nh(It),It=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ue===0&&(Ue=3):pc())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return mi(),bh(t,e),t===null&&go(e.stateNode.containerInfo),Qe(e),null;case 10:return Qf(e.type._context),Qe(e),null;case 17:return ht(e.type)&&ps(),Qe(e),null;case 19:if(me(Te),o=e.memoizedState,o===null)return Qe(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Di(o,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Es(t),a!==null){for(e.flags|=128,Di(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return fe(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ie()>gi&&(e.flags|=128,n=!0,Di(o,!1),e.lanes=4194304)}else{if(!n)if(t=Es(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Di(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ee)return Qe(e),null}else 2*Ie()-o.renderingStartTime>gi&&r!==1073741824&&(e.flags|=128,n=!0,Di(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ie(),e.sibling=null,r=Te.current,fe(Te,n?r&1|2:r&1),e):(Qe(e),null);case 22:case 23:return dc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ct&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function E1(t,e){switch($f(e),e.tag){case 1:return ht(e.type)&&ps(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(),me(ut),me(Je),rc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tc(e),null;case 13:if(me(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(Te),null;case 4:return mi(),null;case 10:return Qf(e.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var ca=!1,Ze=!1,w1=typeof WeakSet=="function"?WeakSet:Set,H=null;function Kn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ae(t,e,n)}else r.current=null}function Ph(t,e,r){try{r()}catch(n){Ae(t,e,n)}}var Dd=!1;function T1(t,e){if(uh=hs,t=Dm(),Vf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,h=0,c=t,f=null;t:for(;;){for(var d;c!==r||i!==0&&c.nodeType!==3||(s=a+i),c!==o||n!==0&&c.nodeType!==3||(l=a+n),c.nodeType===3&&(a+=c.nodeValue.length),(d=c.firstChild)!==null;)f=c,c=d;for(;;){if(c===t)break t;if(f===r&&++u===i&&(s=a),f===o&&++h===n&&(l=a),(d=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=d}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(hh={focusedElem:t,selectionRange:r},hs=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,_=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:At(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Ae(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return p=Dd,Dd=!1,p}function to(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ph(e,r,o)}i=i.next}while(i!==n)}}function il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ch(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function O0(t){var e=t.alternate;e!==null&&(t.alternate=null,O0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[xo],delete e[dh],delete e[o1],delete e[a1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I0(t){return t.tag===5||t.tag===3||t.tag===4}function Fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ds));else if(n!==4&&(t=t.child,t!==null))for(Rh(t,e,r),t=t.sibling;t!==null;)Rh(t,e,r),t=t.sibling}function Ah(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ah(t,e,r),t=t.sibling;t!==null;)Ah(t,e,r),t=t.sibling}var Ve=null,Ot=!1;function Er(t,e,r){for(r=r.child;r!==null;)M0(t,e,r),r=r.sibling}function M0(t,e,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ks,r)}catch{}switch(r.tag){case 5:Ze||Kn(r,e);case 6:var n=Ve,i=Ot;Ve=null,Er(t,e,r),Ve=n,Ot=i,Ve!==null&&(Ot?(t=Ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Ot?(t=Ve,r=r.stateNode,t.nodeType===8?Ll(t.parentNode,r):t.nodeType===1&&Ll(t,r),vo(t)):Ll(Ve,r.stateNode));break;case 4:n=Ve,i=Ot,Ve=r.stateNode.containerInfo,Ot=!0,Er(t,e,r),Ve=n,Ot=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ph(r,e,a),i=i.next}while(i!==n)}Er(t,e,r);break;case 1:if(!Ze&&(Kn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ae(r,e,s)}Er(t,e,r);break;case 21:Er(t,e,r);break;case 22:r.mode&1?(Ze=(n=Ze)||r.memoizedState!==null,Er(t,e,r),Ze=n):Er(t,e,r);break;default:Er(t,e,r)}}function Ld(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new w1),e.forEach(function(n){var i=M1.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ve=s.stateNode,Ot=!1;break e;case 3:Ve=s.stateNode.containerInfo,Ot=!0;break e;case 4:Ve=s.stateNode.containerInfo,Ot=!0;break e}s=s.return}if(Ve===null)throw Error(N(160));M0(o,a,i),Ve=null,Ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ae(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N0(e,t),e=e.sibling}function N0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Ht(t),n&4){try{to(3,t,t.return),il(3,t)}catch(v){Ae(t,t.return,v)}try{to(5,t,t.return)}catch(v){Ae(t,t.return,v)}}break;case 1:bt(e,t),Ht(t),n&512&&r!==null&&Kn(r,r.return);break;case 5:if(bt(e,t),Ht(t),n&512&&r!==null&&Kn(r,r.return),t.flags&32){var i=t.stateNode;try{ho(i,"")}catch(v){Ae(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&tm(i,o),Ju(s,a);var u=Ju(s,o);for(a=0;a<l.length;a+=2){var h=l[a],c=l[a+1];h==="style"?am(i,c):h==="dangerouslySetInnerHTML"?im(i,c):h==="children"?ho(i,c):Mf(i,h,c,u)}switch(s){case"input":Yu(i,o);break;case"textarea":rm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?ri(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?ri(i,!!o.multiple,o.defaultValue,!0):ri(i,!!o.multiple,o.multiple?[]:"",!1))}i[xo]=o}catch(v){Ae(t,t.return,v)}}break;case 6:if(bt(e,t),Ht(t),n&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Ae(t,t.return,v)}}break;case 3:if(bt(e,t),Ht(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vo(e.containerInfo)}catch(v){Ae(t,t.return,v)}break;case 4:bt(e,t),Ht(t);break;case 13:bt(e,t),Ht(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(fc=Ie())),n&4&&Ld(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||h,bt(e,t),Ze=u):bt(e,t),Ht(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(c=H=h;H!==null;){switch(f=H,d=f.child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Kn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Ae(n,r,v)}}break;case 5:Kn(f,f.return);break;case 22:if(f.memoizedState!==null){kd(c);continue}}d!==null?(d.return=f,H=d):kd(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=om("display",a))}catch(v){Ae(t,t.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Ae(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:bt(e,t),Ht(t),n&4&&Ld(t);break;case 21:break;default:bt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(I0(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ho(i,""),n.flags&=-33);var o=Fd(t);Ah(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=Fd(t);Rh(t,s,a);break;default:throw Error(N(161))}}catch(l){Ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S1(t,e,r){H=t,D0(t)}function D0(t,e,r){for(var n=(t.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ca;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ze;s=ca;var u=Ze;if(ca=a,(Ze=l)&&!u)for(H=i;H!==null;)a=H,l=a.child,a.tag===22&&a.memoizedState!==null?Ud(i):l!==null?(l.return=a,H=l):Ud(i);for(;o!==null;)H=o,D0(o),o=o.sibling;H=i,ca=s,Ze=u}Bd(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Bd(t)}}function Bd(t){for(;H!==null;){var e=H;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||il(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ze)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:At(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ed(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ed(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&vo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ze||e.flags&512&&Ch(e)}catch(f){Ae(e,e.return,f)}}if(e===t){H=null;break}if(r=e.sibling,r!==null){r.return=e.return,H=r;break}H=e.return}}function kd(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var r=e.sibling;if(r!==null){r.return=e.return,H=r;break}H=e.return}}function Ud(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{il(4,e)}catch(l){Ae(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ae(e,i,l)}}var o=e.return;try{Ch(e)}catch(l){Ae(e,o,l)}break;case 5:var a=e.return;try{Ch(e)}catch(l){Ae(e,a,l)}}}catch(l){Ae(e,e.return,l)}if(e===t){H=null;break}var s=e.sibling;if(s!==null){s.return=e.return,H=s;break}H=e.return}}var b1=Math.ceil,Ss=_r.ReactCurrentDispatcher,uc=_r.ReactCurrentOwner,wt=_r.ReactCurrentBatchConfig,oe=0,Xe=null,Fe=null,Ye=0,ct=0,Qn=Wr(0),Ue=0,Po=null,En=0,ol=0,hc=0,ro=null,st=null,fc=0,gi=1/0,or=null,bs=!1,Oh=null,kr=null,da=!1,Or=null,Ps=0,no=0,Ih=null,Qa=-1,Za=0;function rt(){return oe&6?Ie():Qa!==-1?Qa:Qa=Ie()}function Ur(t){return t.mode&1?oe&2&&Ye!==0?Ye&-Ye:l1.transition!==null?(Za===0&&(Za=gm()),Za):(t=le,t!==0||(t=window.event,t=t===void 0?16:bm(t.type)),t):1}function Ft(t,e,r,n){if(50<no)throw no=0,Ih=null,Error(N(185));Uo(t,r,n),(!(oe&2)||t!==Xe)&&(t===Xe&&(!(oe&2)&&(ol|=r),Ue===4&&Rr(t,Ye)),ft(t,n),r===1&&oe===0&&!(e.mode&1)&&(gi=Ie()+500,tl&&$r()))}function ft(t,e){var r=t.callbackNode;l_(t,e);var n=us(t,t===Xe?Ye:0);if(n===0)r!==null&&Yc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Yc(r),e===1)t.tag===0?s1(Gd.bind(null,t)):Xm(Gd.bind(null,t)),n1(function(){!(oe&6)&&$r()}),r=null;else{switch(_m(n)){case 1:r=Bf;break;case 4:r=mm;break;case 16:r=ls;break;case 536870912:r=ym;break;default:r=ls}r=H0(r,F0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function F0(t,e){if(Qa=-1,Za=0,oe&6)throw Error(N(327));var r=t.callbackNode;if(si()&&t.callbackNode!==r)return null;var n=us(t,t===Xe?Ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cs(t,n);else{e=n;var i=oe;oe|=2;var o=B0();(Xe!==t||Ye!==e)&&(or=null,gi=Ie()+500,dn(t,e));do try{R1();break}catch(s){L0(t,s)}while(1);Kf(),Ss.current=o,oe=i,Fe!==null?e=0:(Xe=null,Ye=0,e=Ue)}if(e!==0){if(e===2&&(i=ih(t),i!==0&&(n=i,e=Mh(t,i))),e===1)throw r=Po,dn(t,0),Rr(t,n),ft(t,Ie()),r;if(e===6)Rr(t,n);else{if(i=t.current.alternate,!(n&30)&&!P1(i)&&(e=Cs(t,n),e===2&&(o=ih(t),o!==0&&(n=o,e=Mh(t,o))),e===1))throw r=Po,dn(t,0),Rr(t,n),ft(t,Ie()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:rn(t,st,or);break;case 3:if(Rr(t,n),(n&130023424)===n&&(e=fc+500-Ie(),10<e)){if(us(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ch(rn.bind(null,t,st,or),e);break}rn(t,st,or);break;case 4:if(Rr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Dt(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b1(n/1960))-n,10<n){t.timeoutHandle=ch(rn.bind(null,t,st,or),n);break}rn(t,st,or);break;case 5:rn(t,st,or);break;default:throw Error(N(329))}}}return ft(t,Ie()),t.callbackNode===r?F0.bind(null,t):null}function Mh(t,e){var r=ro;return t.current.memoizedState.isDehydrated&&(dn(t,e).flags|=256),t=Cs(t,e),t!==2&&(e=st,st=r,e!==null&&Nh(e)),t}function Nh(t){st===null?st=t:st.push.apply(st,t)}function P1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!kt(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~hc,e&=~ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dt(e),n=1<<r;t[r]=-1,e&=~n}}function Gd(t){if(oe&6)throw Error(N(327));si();var e=us(t,0);if(!(e&1))return ft(t,Ie()),null;var r=Cs(t,e);if(t.tag!==0&&r===2){var n=ih(t);n!==0&&(e=n,r=Mh(t,n))}if(r===1)throw r=Po,dn(t,0),Rr(t,e),ft(t,Ie()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rn(t,st,or),ft(t,Ie()),null}function cc(t,e){var r=oe;oe|=1;try{return t(e)}finally{oe=r,oe===0&&(gi=Ie()+500,tl&&$r())}}function wn(t){Or!==null&&Or.tag===0&&!(oe&6)&&si();var e=oe;oe|=1;var r=wt.transition,n=le;try{if(wt.transition=null,le=1,t)return t()}finally{le=n,wt.transition=r,oe=e,!(oe&6)&&$r()}}function dc(){ct=Qn.current,me(Qn)}function dn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,r1(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch($f(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ps();break;case 3:mi(),me(ut),me(Je),rc();break;case 5:tc(n);break;case 4:mi();break;case 13:me(Te);break;case 19:me(Te);break;case 10:Qf(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Xe=t,Fe=t=Gr(t.current,null),Ye=ct=e,Ue=0,Po=null,hc=ol=En=0,st=ro=null,hn!==null){for(e=0;e<hn.length;e++)if(r=hn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}hn=null}return t}function L0(t,e){do{var r=Fe;try{if(Kf(),Ya.current=Ts,ws){for(var n=be.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ws=!1}if(xn=0,He=Be=be=null,eo=!1,To=0,uc.current=null,r===null||r.return===null){Ue=1,Po=e,Fe=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Ye,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=s,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=Cd(a);if(d!==null){d.flags&=-257,Rd(d,a,s,o,e),d.mode&1&&Pd(o,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Pd(o,u,e),pc();break e}l=Error(N(426))}}else if(Ee&&s.mode&1){var _=Cd(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Rd(_,a,s,o,e),Yf(yi(l,s));break e}}o=l=yi(l,s),Ue!==4&&(Ue=2),ro===null?ro=[o]:ro.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=_0(o,l,e);xd(o,m);break e;case 1:s=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(kr===null||!kr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=x0(o,s,e);xd(o,x);break e}}o=o.return}while(o!==null)}U0(r)}catch(E){e=E,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(1)}function B0(){var t=Ss.current;return Ss.current=Ts,t===null?Ts:t}function pc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Xe===null||!(En&268435455)&&!(ol&268435455)||Rr(Xe,Ye)}function Cs(t,e){var r=oe;oe|=2;var n=B0();(Xe!==t||Ye!==e)&&(or=null,dn(t,e));do try{C1();break}catch(i){L0(t,i)}while(1);if(Kf(),oe=r,Ss.current=n,Fe!==null)throw Error(N(261));return Xe=null,Ye=0,Ue}function C1(){for(;Fe!==null;)k0(Fe)}function R1(){for(;Fe!==null&&!Jg();)k0(Fe)}function k0(t){var e=j0(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?U0(t):Fe=e,uc.current=null}function U0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=E1(r,e),r!==null){r.flags&=32767,Fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Fe=null;return}}else if(r=x1(r,e,ct),r!==null){Fe=r;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ue===0&&(Ue=5)}function rn(t,e,r){var n=le,i=wt.transition;try{wt.transition=null,le=1,A1(t,e,r,n)}finally{wt.transition=i,le=n}return null}function A1(t,e,r,n){do si();while(Or!==null);if(oe&6)throw Error(N(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(u_(t,o),t===Xe&&(Fe=Xe=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||da||(da=!0,H0(ls,function(){return si(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=wt.transition,wt.transition=null;var a=le;le=1;var s=oe;oe|=4,uc.current=null,T1(t,r),N0(r,t),q_(hh),hs=!!uh,hh=uh=null,t.current=r,S1(r),e_(),oe=s,le=a,wt.transition=o}else t.current=r;if(da&&(da=!1,Or=t,Ps=i),o=t.pendingLanes,o===0&&(kr=null),n_(r.stateNode),ft(t,Ie()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(bs)throw bs=!1,t=Oh,Oh=null,t;return Ps&1&&t.tag!==0&&si(),o=t.pendingLanes,o&1?t===Ih?no++:(no=0,Ih=t):no=0,$r(),null}function si(){if(Or!==null){var t=_m(Ps),e=wt.transition,r=le;try{if(wt.transition=null,le=16>t?16:t,Or===null)var n=!1;else{if(t=Or,Or=null,Ps=0,oe&6)throw Error(N(331));var i=oe;for(oe|=4,H=t.current;H!==null;){var o=H,a=o.child;if(H.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(H=u;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:to(8,h,o)}var c=h.child;if(c!==null)c.return=h,H=c;else for(;H!==null;){h=H;var f=h.sibling,d=h.return;if(O0(h),h===u){H=null;break}if(f!==null){f.return=d,H=f;break}H=d}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}H=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,H=a;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:to(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,H=m;break e}H=o.return}}var g=t.current;for(H=g;H!==null;){a=H;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,H=y;else e:for(a=g;H!==null;){if(s=H,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:il(9,s)}}catch(E){Ae(s,s.return,E)}if(s===a){H=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,H=x;break e}H=s.return}}if(oe=i,$r(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ks,t)}catch{}n=!0}return n}finally{le=r,wt.transition=e}}return!1}function jd(t,e,r){e=yi(r,e),e=_0(t,e,1),t=Br(t,e,1),e=rt(),t!==null&&(Uo(t,1,e),ft(t,e))}function Ae(t,e,r){if(t.tag===3)jd(t,t,r);else for(;e!==null;){if(e.tag===3){jd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kr===null||!kr.has(n))){t=yi(r,t),t=x0(e,t,1),e=Br(e,t,1),t=rt(),e!==null&&(Uo(e,1,t),ft(e,t));break}}e=e.return}}function O1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&r,Xe===t&&(Ye&r)===r&&(Ue===4||Ue===3&&(Ye&130023424)===Ye&&500>Ie()-fc?dn(t,0):hc|=r),ft(t,e)}function G0(t,e){e===0&&(t.mode&1?(e=na,na<<=1,!(na&130023424)&&(na=4194304)):e=1);var r=rt();t=vr(t,e),t!==null&&(Uo(t,e,r),ft(t,r))}function I1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),G0(t,r)}function M1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),G0(t,r)}var j0;j0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)lt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return lt=!1,_1(t,e,r);lt=!!(t.flags&131072)}else lt=!1,Ee&&e.flags&1048576&&Vm(e,ys,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ka(t,e),t=e.pendingProps;var i=di(e,Je.current);ai(e,r),i=ic(null,e,n,t,i,r);var o=oc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(n)?(o=!0,vs(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jf(e),i.updater=nl,e.stateNode=i,i._reactInternals=e,_h(e,n,t,r),e=wh(null,e,n,!0,o,r)):(e.tag=0,Ee&&o&&Wf(e),tt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ka(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=D1(n),t=At(n,t),i){case 0:e=Eh(null,e,n,t,r);break e;case 1:e=Id(null,e,n,t,r);break e;case 11:e=Ad(null,e,n,t,r);break e;case 14:e=Od(null,e,n,At(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:At(n,i),Eh(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:At(n,i),Id(t,e,n,i,r);case 3:e:{if(S0(e),t===null)throw Error(N(387));n=e.pendingProps,o=e.memoizedState,i=o.element,Qm(t,e),xs(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=yi(Error(N(423)),e),e=Md(t,e,n,r,i);break e}else if(n!==i){i=yi(Error(N(424)),e),e=Md(t,e,n,r,i);break e}else for(dt=Lr(e.stateNode.containerInfo.firstChild),vt=e,Ee=!0,It=null,r=qm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pi(),n===i){e=mr(t,e,r);break e}tt(t,e,n,r)}e=e.child}return e;case 5:return Zm(e),t===null&&mh(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,fh(n,i)?a=null:o!==null&&fh(n,o)&&(e.flags|=32),T0(t,e),tt(t,e,a,r),e.child;case 6:return t===null&&mh(e),null;case 13:return b0(t,e,r);case 4:return ec(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=vi(e,null,n,r):tt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:At(n,i),Ad(t,e,n,i,r);case 7:return tt(t,e,e.pendingProps,r),e.child;case 8:return tt(t,e,e.pendingProps.children,r),e.child;case 12:return tt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,fe(gs,n._currentValue),n._currentValue=a,o!==null)if(kt(o.value,a)){if(o.children===i.children&&!ut.current){e=mr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=cr(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yh(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(N(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),yh(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}tt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ai(e,r),i=Tt(i),n=n(i),e.flags|=1,tt(t,e,n,r),e.child;case 14:return n=e.type,i=At(n,e.pendingProps),i=At(n.type,i),Od(t,e,n,i,r);case 15:return E0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:At(n,i),Ka(t,e),e.tag=1,ht(n)?(t=!0,vs(e)):t=!1,ai(e,r),g0(e,n,i),_h(e,n,i,r),wh(null,e,n,!0,t,r);case 19:return P0(t,e,r);case 22:return w0(t,e,r)}throw Error(N(156,e.tag))};function H0(t,e){return vm(t,e)}function N1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,r,n){return new N1(t,e,r,n)}function vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D1(t){if(typeof t=="function")return vc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Df)return 11;if(t===Ff)return 14}return 2}function Gr(t,e){var r=t.alternate;return r===null?(r=Et(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ja(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")vc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case jn:return pn(r.children,i,o,e);case Nf:a=8,i|=8;break;case zu:return t=Et(12,r,e,i|2),t.elementType=zu,t.lanes=o,t;case Xu:return t=Et(13,r,e,i),t.elementType=Xu,t.lanes=o,t;case Vu:return t=Et(19,r,e,i),t.elementType=Vu,t.lanes=o,t;case Zv:return al(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kv:a=10;break e;case Qv:a=9;break e;case Df:a=11;break e;case Ff:a=14;break e;case br:a=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Et(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function pn(t,e,r,n){return t=Et(7,t,n,e),t.lanes=r,t}function al(t,e,r,n){return t=Et(22,t,n,e),t.elementType=Zv,t.lanes=r,t.stateNode={isHidden:!1},t}function Xl(t,e,r){return t=Et(6,t,null,e),t.lanes=r,t}function Vl(t,e,r){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F1(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mc(t,e,r,n,i,o,a,s,l){return t=new F1(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Et(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jf(o),t}function L1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function z0(t){if(!t)return zr;t=t._reactInternals;e:{if(Rn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(ht(r))return zm(t,r,e)}return e}function X0(t,e,r,n,i,o,a,s,l){return t=mc(r,n,!0,t,i,o,a,s,l),t.context=z0(null),r=t.current,n=rt(),i=Ur(r),o=cr(n,i),o.callback=e??null,Br(r,o,i),t.current.lanes=i,Uo(t,i,n),ft(t,n),t}function sl(t,e,r,n){var i=e.current,o=rt(),a=Ur(i);return r=z0(r),e.context===null?e.context=r:e.pendingContext=r,e=cr(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Br(i,e,a),t!==null&&(Ft(t,i,a,o),$a(t,i,a)),a}function Rs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function yc(t,e){Hd(t,e),(t=t.alternate)&&Hd(t,e)}function B1(){return null}var V0=typeof reportError=="function"?reportError:function(t){console.error(t)};function gc(t){this._internalRoot=t}ll.prototype.render=gc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));sl(t,e,null,null)};ll.prototype.unmount=gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wn(function(){sl(null,t,null,null)}),e[pr]=null}};function ll(t){this._internalRoot=t}ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=wm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cr.length&&e!==0&&e<Cr[r].priority;r++);Cr.splice(r,0,t),r===0&&Sm(t)}};function _c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zd(){}function k1(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Rs(a);o.call(u)}}var a=X0(e,n,t,0,null,!1,!1,"",zd);return t._reactRootContainer=a,t[pr]=a.current,go(t.nodeType===8?t.parentNode:t),wn(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Rs(l);s.call(u)}}var l=mc(t,0,!1,null,null,!1,!1,"",zd);return t._reactRootContainer=l,t[pr]=l.current,go(t.nodeType===8?t.parentNode:t),wn(function(){sl(e,l,r,n)}),l}function hl(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Rs(a);s.call(l)}}sl(e,a,t,i)}else a=k1(r,e,t,i,n);return Rs(a)}xm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Wi(e.pendingLanes);r!==0&&(kf(e,r|1),ft(e,Ie()),!(oe&6)&&(gi=Ie()+500,$r()))}break;case 13:wn(function(){var n=vr(t,1);if(n!==null){var i=rt();Ft(n,t,1,i)}}),yc(t,1)}};Uf=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var r=rt();Ft(e,t,134217728,r)}yc(t,134217728)}};Em=function(t){if(t.tag===13){var e=Ur(t),r=vr(t,e);if(r!==null){var n=rt();Ft(r,t,e,n)}yc(t,e)}};wm=function(){return le};Tm=function(t,e){var r=le;try{return le=t,e()}finally{le=r}};th=function(t,e,r){switch(e){case"input":if(Yu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=el(n);if(!i)throw Error(N(90));em(n),Yu(n,i)}}}break;case"textarea":rm(t,r);break;case"select":e=r.value,e!=null&&ri(t,!!r.multiple,e,!1)}};um=cc;hm=wn;var U1={usingClientEntryPoint:!1,Events:[jo,Vn,el,sm,lm,cc]},Fi={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G1={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dm(t),t===null?null:t.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||B1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{Ks=pa.inject(G1),Kt=pa}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;yt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(e))throw Error(N(200));return L1(t,e,null,r)};yt.createRoot=function(t,e){if(!_c(t))throw Error(N(299));var r=!1,n="",i=V0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mc(t,1,!1,null,null,r,!1,n,i),t[pr]=e.current,go(t.nodeType===8?t.parentNode:t),new gc(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=dm(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return wn(t)};yt.hydrate=function(t,e,r){if(!ul(e))throw Error(N(200));return hl(null,t,e,!0,r)};yt.hydrateRoot=function(t,e,r){if(!_c(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=V0;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=X0(e,null,t,1,r??null,i,!1,o,a),t[pr]=e.current,go(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ll(e)};yt.render=function(t,e,r){if(!ul(e))throw Error(N(200));return hl(null,t,e,!1,r)};yt.unmountComponentAtNode=function(t){if(!ul(t))throw Error(N(40));return t._reactRootContainer?(wn(function(){hl(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};yt.unstable_batchedUpdates=cc;yt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ul(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return hl(t,e,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function W0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)}catch(t){console.error(t)}}W0(),Wv.exports=yt;var j1=Wv.exports,$0,Xd=j1;$0=Xd.createRoot,Xd.hydrateRoot;var Y0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vd=cn.createContext&&cn.createContext(Y0),H1=["attr","size","title"];function z1(t,e){if(t==null)return{};var r=X1(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X1(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},As.apply(this,arguments)}function Wd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wd(Object(r),!0).forEach(function(n){V1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V1(t,e,r){return e=W1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W1(t){var e=$1(t,"string");return typeof e=="symbol"?e:e+""}function $1(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(t){return t&&t.map((e,r)=>cn.createElement(e.tag,Os({key:r},e.attr),q0(e.child)))}function ot(t){return e=>cn.createElement(Y1,As({attr:Os({},t.attr)},e),q0(t.child))}function Y1(t){var e=r=>{var{attr:n,size:i,title:o}=t,a=z1(t,H1),s=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),cn.createElement("svg",As({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:Os(Os({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&cn.createElement("title",null,o),t.children)};return Vd!==void 0?cn.createElement(Vd.Consumer,null,r=>e(r)):e(Y0)}function $d(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Yd(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function qd(t){return ot({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Kd(t){return ot({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function q1(t){return ot({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(t)}function Wl(t){return ot({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function K1(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function Q1(t){return ot({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(t)}function Z1(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function J1(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function ex(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function tx(t){return ot({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Qd(t){return ot({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function rx(t){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function nx(t){return ot({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function wr(t){return t.match(/\.(png|jpg|jpeg|gif|webp)$/i)?"image":t.match(/\.(mp3|wav|ogg)$/i)?"audio":t.match(/\.(moc3|model3\.json|model\.json)$/i)?"model":"other"}function Nn(t){return t.replace(/\\/g,"/")}const $l=8,ix=[{value:"",label:"All Types"},{value:"image",label:"Images"},{value:"audio",label:"Audio"},{value:"model",label:"Models"},{value:"other",label:"Other"}];function ox({onLoadModel:t}){const[e,r]=z.useState([]);z.useState(null);const[n,i]=z.useState(null),[o,a]=z.useState(!1),[s,l]=z.useState(0),[u,h]=z.useState([]);z.useState("");const[c,f]=z.useState({}),[d,p]=z.useState(""),[v,_]=z.useState(""),[m,g]=z.useState(!0),[y,x]=z.useState(1),[E,w]=z.useState(!1),[T,R]=z.useState(null),[A,b]=z.useState("");z.useEffect(()=>{O()},[]);async function O(){const M=await fetch("/api/assets/list",{credentials:"include"});M.ok&&r(await M.json())}function F(M){h(Array.from(M.target.files))}function G(M){h(q=>q.filter((Z,te)=>te!==M))}function X(M,q){b(M),R(()=>q),w(!0)}function L(M){w(!1),M&&T&&T()}async function U(M){M.preventDefault(),u.length&&X("Upload all staged files?",()=>$())}async function $(){a(!0),l(0);for(let M=0;M<u.length;M++){const q=u[M],Z=new FormData;Z.append("file",q),await new Promise((te,Ne)=>{const ge=new XMLHttpRequest;ge.open("POST","/api/assets/upload"),ge.withCredentials=!0,ge.upload.onprogress=de=>{de.lengthComputable&&l(Math.round((M+de.loaded/de.total)/u.length*100))},ge.onload=()=>te(),ge.onerror=()=>Ne(),ge.send(Z)})}l(100),a(!1),h([]),O(),setTimeout(()=>l(0),800)}async function D(M){window.open(`/api/assets/download?path=${encodeURIComponent(Nn(M))}`)}async function k(M){X("Are you sure you want to delete the selected asset(s)?",async()=>{for(const q of Array.isArray(M)?M:[M])await fetch("/api/assets/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:Nn(q)}),credentials:"include"});O()})}async function S(){X("Download all selected assets?",()=>{Object.keys(c).filter(M=>c[M]).forEach(D)})}let C=e.filter(M=>!(/\/haru_greeter_t05\.2048\//.test(M)||/\/motion\//.test(M)||/\/expressions\//.test(M)));v&&(C=C.filter(M=>wr(M)===v)),d&&(C=C.filter(M=>M.toLowerCase().includes(d.toLowerCase()))),C=C.sort((M,q)=>m?M.localeCompare(q):q.localeCompare(M));const I=Math.ceil(C.length/$l)||1,Y=C.slice((y-1)*$l,y*$l);return P.jsxs("div",{className:"flex flex-col gap-4 h-full max-h-[60vh] md:max-h-[70vh]",children:[P.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between bg-white/80 p-2 rounded-xl shadow",children:[P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsx("input",{type:"text",value:d,onChange:M=>{p(M.target.value),x(1)},placeholder:"Search assets...",className:"border rounded px-3 py-1 text-sm focus:ring-2 focus:ring-fuchsia-400"}),P.jsx("select",{value:v,onChange:M=>{_(M.target.value),x(1)},className:"border rounded px-2 py-1 text-sm focus:ring-2 focus:ring-fuchsia-400",children:ix.map(M=>P.jsx("option",{value:M.value,children:M.label},M.value))}),P.jsxs("button",{type:"button",className:"ml-2 px-2 py-1 rounded bg-fuchsia-100 hover:bg-fuchsia-200 text-fuchsia-700 flex items-center gap-1",onClick:()=>g(M=>!M),title:"Sort",children:[m?P.jsx(Z1,{}):P.jsx(J1,{}),P.jsx("span",{className:"hidden sm:inline",children:"Sort"})]})]}),P.jsxs("div",{className:"flex gap-1 items-center",children:[P.jsxs("button",{onClick:()=>{O(),x(1)},className:"px-2 py-1 rounded bg-blue-100 hover:bg-blue-200 text-blue-700 flex items-center gap-1",title:"Refresh",children:[P.jsx(ex,{}),"Refresh"]}),P.jsx("button",{disabled:y<=1,onClick:()=>x(M=>Math.max(1,M-1)),className:"px-2 py-1 rounded bg-gray-100 hover:bg-fuchsia-100 text-fuchsia-700 disabled:opacity-50",children:"Prev"}),P.jsxs("span",{className:"text-xs text-gray-500",children:["Page ",y," / ",I]}),P.jsx("button",{disabled:y>=I,onClick:()=>x(M=>Math.min(I,M+1)),className:"px-2 py-1 rounded bg-gray-100 hover:bg-fuchsia-100 text-fuchsia-700 disabled:opacity-50",children:"Next"})]})]}),P.jsxs("form",{onSubmit:U,className:"flex flex-col gap-2 mb-2",children:[P.jsxs("div",{className:"flex flex-row gap-2 items-center justify-end",children:[P.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-4 py-2 rounded-full shadow transition",children:[P.jsx(rx,{}),P.jsx("span",{className:"hidden sm:inline",children:"Upload"}),P.jsx("input",{type:"file",multiple:!0,onChange:F,className:"hidden",disabled:o})]}),P.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full shadow transition disabled:opacity-60",disabled:o||!u.length,children:o?"Uploading...":"Submit"})]}),u.length>0&&P.jsxs("div",{className:"bg-white rounded-xl shadow p-3 mt-2 animate-fade-in",children:[P.jsx("div",{className:"font-semibold text-fuchsia-700 mb-2",children:"Staged files:"}),P.jsx("ul",{className:"space-y-2",children:u.map((M,q)=>P.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[P.jsx("span",{className:"inline-block w-5 text-center",children:wr(M.name)==="image"?P.jsx(q1,{className:"text-fuchsia-500"}):wr(M.name)==="audio"?P.jsx(Kd,{className:"text-blue-500"}):wr(M.name)==="model"?P.jsx(Wl,{className:"text-green-500"}):P.jsx(qd,{className:"text-gray-400"})}),P.jsx("span",{className:"flex-1 truncate",title:M.name,children:M.name}),P.jsx("button",{type:"button",className:"text-gray-400 hover:text-red-500 transition",onClick:()=>G(q),title:"Remove",children:P.jsx(tx,{})})]},M.name+q))})]}),o&&P.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden mt-2",children:P.jsx("div",{className:"h-full bg-gradient-to-r from-fuchsia-500 to-blue-500 animate-progress-bar",style:{width:s+"%",transition:"width 0.3s cubic-bezier(.4,2,.6,1)"}})}),P.jsx("style",{children:`
          @keyframes fade-in { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: none; } }
          .animate-fade-in { animation: fade-in 0.5s; }
          @keyframes progress-bar { 0% {background-position:0%} 100% {background-position:100%} }
          .animate-progress-bar { background-size: 200% 100%; animation: progress-bar 1.2s linear infinite; }
        `})]}),P.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 overflow-y-auto",children:Y.map(M=>{const q=wr(M);return P.jsxs("div",{className:"relative group bg-white rounded-2xl shadow-md hover:shadow-xl transition flex flex-col items-center p-4 border border-fuchsia-100",children:[P.jsx("input",{type:"checkbox",className:"absolute top-2 left-2 accent-fuchsia-600",checked:!!c[M],onChange:Z=>f(te=>({...te,[M]:Z.target.checked}))}),P.jsx("div",{className:"w-20 h-20 flex items-center justify-center mb-2 cursor-pointer rounded-lg bg-gray-50 overflow-hidden border border-gray-200",onClick:()=>i(M),children:q==="image"?P.jsx("img",{src:`/api/assets/preview?path=${encodeURIComponent(Nn(M))}`,alt:M,className:"w-full h-full object-contain"}):q==="audio"?P.jsx(Kd,{className:"text-blue-500 text-4xl"}):q==="model"?P.jsx(Wl,{className:"text-green-500 text-4xl"}):P.jsx(qd,{className:"text-gray-400 text-4xl"})}),P.jsx("div",{className:"truncate w-full text-xs text-center mb-1",title:M,children:M.split("/").pop()}),P.jsxs("div",{className:"flex gap-2 w-full justify-center mt-1",children:[q==="model"&&P.jsxs("button",{className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-2 py-1 rounded text-xs flex items-center gap-1",onClick:()=>t(M),title:"Load to Live2D",children:[P.jsx(Wl,{}),"Load"]}),P.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-xs flex items-center gap-1",onClick:()=>D(M),title:"Download",children:P.jsx(Yd,{})}),P.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs flex items-center gap-1",onClick:()=>k(M),title:"Delete",children:P.jsx(Qd,{})})]})]},M)})}),P.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap justify-end",children:[P.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full shadow text-xs sm:text-base flex items-center gap-2",onClick:()=>k(Object.keys(c).filter(M=>c[M])),children:[P.jsx(Qd,{}),"Delete Selected"]}),P.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full shadow text-xs sm:text-base flex items-center gap-2",onClick:S,children:[P.jsx(Yd,{}),"Download Selected"]})]}),n&&P.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-xs w-full relative flex flex-col items-center",children:[P.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-fuchsia-600 text-2xl",onClick:()=>i(null),"aria-label":"Close",children:""}),wr(n)==="image"&&P.jsx("img",{src:`/api/assets/preview?path=${encodeURIComponent(Nn(n))}`,alt:n,className:"w-full h-auto rounded mb-2"}),wr(n)==="audio"&&P.jsx("audio",{src:`/api/assets/preview?path=${encodeURIComponent(Nn(n))}`,controls:!0,className:"w-full mb-2"}),wr(n)==="model"&&P.jsxs("div",{className:"text-center text-fuchsia-700 font-bold",children:["Model file: ",n.split("/").pop()]}),P.jsx("div",{className:"text-xs text-gray-400 break-all mt-2",children:Nn(n)})]})}),E&&P.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-xs w-full relative flex flex-col items-center animate-fade-in",children:[P.jsx("div",{className:"text-lg font-bold text-fuchsia-700 mb-4",children:"Confirm"}),P.jsx("div",{className:"text-gray-700 text-center mb-6",children:A}),P.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[P.jsx("button",{className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-6 py-2 rounded-full font-bold transition",onClick:()=>L(!0),children:"Yes"}),P.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-2 rounded-full font-bold transition",onClick:()=>L(!1),children:"No"})]})]})}),P.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: none; } }
        .animate-fade-in { animation: fade-in 0.5s; }
        @keyframes progress-bar { 0% {background-position:0%} 100% {background-position:100%} }
        .animate-progress-bar { background-size: 200% 100%; animation: progress-bar 1.2s linear infinite; }
      `})]})}const ax="modulepreload",sx=function(t){return"/"+t},Zd={},Jd=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=sx(o),o in Zd)return;Zd[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const c=i[h];if(c.href===o&&(!a||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":ax,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,c)=>{u.addEventListener("load",h),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function lx(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function ux(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var o=i.length;function a(l,u){if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(typeof h=="function"){h.call(u,function(c){a(l,c)},function(c){i[l]={status:"rejected",reason:c},--o===0&&r(i)});return}}i[l]={status:"fulfilled",value:u},--o===0&&r(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}function K0(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}K0.prototype=Error.prototype;function hx(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var o=[],a=0;a<i.length;a++)try{e.resolve(i[a]).then(r).catch(function(s){o.push(s),o.length===i.length&&n(new K0(o,"All promises were rejected"))})}catch(s){n(s)}})}var fx=setTimeout;function Q0(t){return!!(t&&typeof t.length<"u")}function cx(){}function dx(t,e){return function(){t.apply(e,arguments)}}function Pe(t){if(!(this instanceof Pe))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],J0(t,this)}function Z0(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Pe._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?Dh:Co)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Co(e.promise,i);return}Dh(e.promise,n)})}function Dh(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Pe){t._state=3,t._value=e,Fh(t);return}else if(typeof r=="function"){J0(dx(r,e),t);return}}t._state=1,t._value=e,Fh(t)}catch(n){Co(t,n)}}function Co(t,e){t._state=2,t._value=e,Fh(t)}function Fh(t){t._state===2&&t._deferreds.length===0&&Pe._immediateFn(function(){t._handled||Pe._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)Z0(t,t._deferreds[e]);t._deferreds=null}function px(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function J0(t,e){var r=!1;try{t(function(n){r||(r=!0,Dh(e,n))},function(n){r||(r=!0,Co(e,n))})}catch(n){if(r)return;r=!0,Co(e,n)}}Pe.prototype.catch=function(t){return this.then(null,t)};Pe.prototype.then=function(t,e){var r=new this.constructor(cx);return Z0(this,new px(t,e,r)),r};Pe.prototype.finally=lx;Pe.all=function(t){return new Pe(function(e,r){if(!Q0(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function o(s,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(h){o(s,h)},r);return}}n[s]=l,--i===0&&e(n)}catch(h){r(h)}}for(var a=0;a<n.length;a++)o(a,n[a])})};Pe.any=hx;Pe.allSettled=ux;Pe.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Pe?t:new Pe(function(e){e(t)})};Pe.reject=function(t){return new Pe(function(e,r){r(t)})};Pe.race=function(t){return new Pe(function(e,r){if(!Q0(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Pe.resolve(t[n]).then(e,r)})};Pe._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){fx(t,0)};Pe._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ep=Object.getOwnPropertySymbols,vx=Object.prototype.hasOwnProperty,mx=Object.prototype.propertyIsEnumerable;function yx(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function gx(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _x=gx()?Object.assign:function(t,e){for(var r,n=yx(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)vx.call(r,a)&&(n[a]=r[a]);if(ep){i=ep(r);for(var s=0;s<i.length;s++)mx.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const xx=Ys(_x);/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Pe);Object.assign||(Object.assign=xx);var Ex=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var wx=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-wx}}var Yl=Date.now(),tp=["ms","moz","webkit","o"];for(var ql=0;ql<tp.length&&!globalThis.requestAnimationFrame;++ql){var Kl=tp[ql];globalThis.requestAnimationFrame=globalThis[Kl+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[Kl+"CancelAnimationFrame"]||globalThis[Kl+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=Ex+Yl-e;return r<0&&(r=0),Yl=e,globalThis.self.setTimeout(function(){Yl=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yr;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(yr||(yr={}));var Ro;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(Ro||(Ro={}));var Is;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Is||(Is={}));var W;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(W||(W={}));var Nt;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Nt||(Nt={}));var B;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(B||(B={}));var vn;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(vn||(vn={}));var V;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(V||(V={}));var Ms;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Ms||(Ms={}));var Yt;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Yt||(Yt={}));var Zt;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Zt||(Zt={}));var Ut;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ut||(Ut={}));var Gt;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Gt||(Gt={}));var Mt;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Mt||(Mt={}));var Ns;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Ns||(Ns={}));var pt;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(pt||(pt={}));var De;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(De||(De={}));var rp;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(rp||(rp={}));var xe;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(xe||(xe={}));var Jt;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Jt||(Jt={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tx={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},Ql=/iPhone/i,np=/iPod/i,ip=/iPad/i,op=/\biOS-universal(?:.+)Mac\b/i,Zl=/\bAndroid(?:.+)Mobile\b/i,ap=/Android/i,Dn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,va=/Silk/i,rr=/Windows Phone/i,sp=/\bWindows(?:.+)ARM\b/i,lp=/BlackBerry/i,up=/BB10/i,hp=/Opera Mini/i,fp=/\b(CriOS|Chrome)(?:.+)Mobile/i,cp=/Mobile(?:.+)Firefox\b/i,dp=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Sx(t){return function(e){return e.test(t)}}function bx(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=Sx(r),o={apple:{phone:i(Ql)&&!i(rr),ipod:i(np),tablet:!i(Ql)&&(i(ip)||dp(e))&&!i(rr),universal:i(op),device:(i(Ql)||i(np)||i(ip)||i(op)||dp(e))&&!i(rr)},amazon:{phone:i(Dn),tablet:!i(Dn)&&i(va),device:i(Dn)||i(va)},android:{phone:!i(rr)&&i(Dn)||!i(rr)&&i(Zl),tablet:!i(rr)&&!i(Dn)&&!i(Zl)&&(i(va)||i(ap)),device:!i(rr)&&(i(Dn)||i(va)||i(Zl)||i(ap))||i(/\bokhttp\b/i)},windows:{phone:i(rr),tablet:i(sp),device:i(rr)||i(sp)},other:{blackberry:i(lp),blackberry10:i(up),opera:i(hp),firefox:i(cp),chrome:i(fp),device:i(lp)||i(up)||i(hp)||i(cp)||i(fp)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var qt=bx(globalThis.navigator);function Px(){return!qt.apple.device}function Cx(t){var e=!0;if(qt.tablet||qt.phone){if(qt.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(qt.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var j={ADAPTER:Tx,MIPMAP_TEXTURES:Ut.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:xe.NONE,SPRITE_MAX_TEXTURES:Cx(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Ns.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Zt.CLAMP,SCALE_MODE:Yt.LINEAR,PRECISION_VERTEX:pt.HIGH,PRECISION_FRAGMENT:qt.apple.device?pt.HIGH:pt.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Px(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},ey={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function o(l,u,h,c,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,c||l,f),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],h,c;if(this._eventsCount===0)return u;for(c in h=this._events)e.call(h,c)&&u.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},s.prototype.listeners=function(u){var h=r?r+u:u,c=this._events[h];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,d=c.length,p=new Array(d);f<d;f++)p[f]=c[f].fn;return p},s.prototype.listenerCount=function(u){var h=r?r+u:u,c=this._events[h];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,h,c,f,d,p){var v=r?r+u:u;if(!this._events[v])return!1;var _=this._events[v],m=arguments.length,g,y;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),m){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,c),!0;case 4:return _.fn.call(_.context,h,c,f),!0;case 5:return _.fn.call(_.context,h,c,f,d),!0;case 6:return _.fn.call(_.context,h,c,f,d,p),!0}for(y=1,g=new Array(m-1);y<m;y++)g[y-1]=arguments[y];_.fn.apply(_.context,g)}else{var x=_.length,E;for(y=0;y<x;y++)switch(_[y].once&&this.removeListener(u,_[y].fn,void 0,!0),m){case 1:_[y].fn.call(_[y].context);break;case 2:_[y].fn.call(_[y].context,h);break;case 3:_[y].fn.call(_[y].context,h,c);break;case 4:_[y].fn.call(_[y].context,h,c,f);break;default:if(!g)for(E=1,g=new Array(m-1);E<m;E++)g[E-1]=arguments[E];_[y].fn.apply(_[y].context,g)}}return!0},s.prototype.on=function(u,h,c){return o(this,u,h,c,!1)},s.prototype.once=function(u,h,c){return o(this,u,h,c,!0)},s.prototype.removeListener=function(u,h,c,f){var d=r?r+u:u;if(!this._events[d])return this;if(!h)return a(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!f||p.once)&&(!c||p.context===c)&&a(this,d);else{for(var v=0,_=[],m=p.length;v<m;v++)(p[v].fn!==h||f&&!p[v].once||c&&p[v].context!==c)&&_.push(p[v]);_.length?this._events[d]=_.length===1?_[0]:_:a(this,d)}return this},s.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(ey);var Rx=ey.exports;const zo=Ys(Rx);var xc={exports:{}};xc.exports=fl;xc.exports.default=fl;function fl(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,o=ty(t,0,i,r,!0),a=[];if(!o||o.next===o.prev)return a;var s,l,u,h,c,f,d;if(n&&(o=Nx(t,e,o,r)),t.length>80*r){s=u=t[0],l=h=t[1];for(var p=r;p<i;p+=r)c=t[p],f=t[p+1],c<s&&(s=c),f<l&&(l=f),c>u&&(u=c),f>h&&(h=f);d=Math.max(u-s,h-l),d=d!==0?32767/d:0}return Ao(o,a,r,s,l,d,0),a}function ty(t,e,r,n,i){var o,a;if(i===kh(t,e,r,n)>0)for(o=e;o<r;o+=n)a=pp(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=pp(o,t[o],t[o+1],a);return a&&cl(a,a.next)&&(Io(a),a=a.next),a}function Tn(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(cl(r,r.next)||Se(r.prev,r,r.next)===0)){if(Io(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ao(t,e,r,n,i,o,a){if(t){!a&&o&&kx(t,n,i,o);for(var s=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,o?Ox(t,n,i,o):Ax(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Io(t),t=u.next,s=u.next;continue}if(t=u,t===s){a?a===1?(t=Ix(Tn(t),e,r),Ao(t,e,r,n,i,o,2)):a===2&&Mx(t,e,r,n,i,o):Ao(Tn(t),e,r,n,i,o,1);break}}}}function Ax(t){var e=t.prev,r=t,n=t.next;if(Se(e,r,n)>=0)return!1;for(var i=e.x,o=r.x,a=n.x,s=e.y,l=r.y,u=n.y,h=i<o?i<a?i:a:o<a?o:a,c=s<l?s<u?s:u:l<u?l:u,f=i>o?i>a?i:a:o>a?o:a,d=s>l?s>u?s:u:l>u?l:u,p=n.next;p!==e;){if(p.x>=h&&p.x<=f&&p.y>=c&&p.y<=d&&Zn(i,s,o,l,a,u,p.x,p.y)&&Se(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ox(t,e,r,n){var i=t.prev,o=t,a=t.next;if(Se(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,u=a.x,h=i.y,c=o.y,f=a.y,d=s<l?s<u?s:u:l<u?l:u,p=h<c?h<f?h:f:c<f?c:f,v=s>l?s>u?s:u:l>u?l:u,_=h>c?h>f?h:f:c>f?c:f,m=Lh(d,p,e,r,n),g=Lh(v,_,e,r,n),y=t.prevZ,x=t.nextZ;y&&y.z>=m&&x&&x.z<=g;){if(y.x>=d&&y.x<=v&&y.y>=p&&y.y<=_&&y!==i&&y!==a&&Zn(s,h,l,c,u,f,y.x,y.y)&&Se(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=d&&x.x<=v&&x.y>=p&&x.y<=_&&x!==i&&x!==a&&Zn(s,h,l,c,u,f,x.x,x.y)&&Se(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=m;){if(y.x>=d&&y.x<=v&&y.y>=p&&y.y<=_&&y!==i&&y!==a&&Zn(s,h,l,c,u,f,y.x,y.y)&&Se(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=g;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=_&&x!==i&&x!==a&&Zn(s,h,l,c,u,f,x.x,x.y)&&Se(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Ix(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!cl(i,o)&&ry(i,n,n.next,o)&&Oo(i,o)&&Oo(o,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),Io(n),Io(n.next),n=t=o),n=n.next}while(n!==t);return Tn(n)}function Mx(t,e,r,n,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&jx(a,s)){var l=ny(a,s);a=Tn(a,a.next),l=Tn(l,l.next),Ao(a,e,r,n,i,o,0),Ao(l,e,r,n,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Nx(t,e,r,n){var i=[],o,a,s,l,u;for(o=0,a=e.length;o<a;o++)s=e[o]*n,l=o<a-1?e[o+1]*n:t.length,u=ty(t,s,l,n,!1),u===u.next&&(u.steiner=!0),i.push(Gx(u));for(i.sort(Dx),o=0;o<i.length;o++)r=Fx(i[o],r);return r}function Dx(t,e){return t.x-e.x}function Fx(t,e){var r=Lx(t,e);if(!r)return e;var n=ny(r,t);return Tn(n,n.next),Tn(r,r.next)}function Lx(t,e){var r=e,n=t.x,i=t.y,o=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o&&(o=s,a=r.x<r.next.x?r:r.next,s===n))return a}r=r.next}while(r!==e);if(!a)return null;var l=a,u=a.x,h=a.y,c=1/0,f;r=a;do n>=r.x&&r.x>=u&&n!==r.x&&Zn(i<h?n:o,i,u,h,i<h?o:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Oo(r,t)&&(f<c||f===c&&(r.x>a.x||r.x===a.x&&Bx(a,r)))&&(a=r,c=f)),r=r.next;while(r!==l);return a}function Bx(t,e){return Se(t.prev,t,e.prev)<0&&Se(e.next,t,t.next)<0}function kx(t,e,r,n){var i=t;do i.z===0&&(i.z=Lh(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Ux(i)}function Ux(t){var e,r,n,i,o,a,s,l,u=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<u&&(s++,n=n.nextZ,!!n);e++);for(l=u;s>0||l>0&&n;)s!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,u*=2}while(a>1);return t}function Lh(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Gx(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Zn(t,e,r,n,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(n-s)>=(r-a)*(e-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function jx(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Hx(t,e)&&(Oo(t,e)&&Oo(e,t)&&zx(t,e)&&(Se(t.prev,t,e.prev)||Se(t,e.prev,e))||cl(t,e)&&Se(t.prev,t,t.next)>0&&Se(e.prev,e,e.next)>0)}function Se(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function cl(t,e){return t.x===e.x&&t.y===e.y}function ry(t,e,r,n){var i=ya(Se(t,e,r)),o=ya(Se(t,e,n)),a=ya(Se(r,n,t)),s=ya(Se(r,n,e));return!!(i!==o&&a!==s||i===0&&ma(t,r,e)||o===0&&ma(t,n,e)||a===0&&ma(r,t,n)||s===0&&ma(r,e,n))}function ma(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function ya(t){return t>0?1:t<0?-1:0}function Hx(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&ry(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Oo(t,e){return Se(t.prev,t,t.next)<0?Se(t,e,t.next)>=0&&Se(t,t.prev,e)>=0:Se(t,e,t.prev)<0||Se(t,t.next,e)<0}function zx(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function ny(t,e){var r=new Bh(t.i,t.x,t.y),n=new Bh(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function pp(t,e,r,n){var i=new Bh(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Io(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Bh(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}fl.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(kh(t,0,o,r));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*r,h=s<l-1?e[s+1]*r:t.length;a-=Math.abs(kh(t,u,h,r))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return a===0&&c===0?0:Math.abs((c-a)/a)};function kh(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}fl.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Xx=xc.exports;const iy=Ys(Xx);var Ds={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ds.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,o=typeof Yi=="object"&&Yi;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,l=36,u=1,h=26,c=38,f=700,d=72,p=128,v="-",_=/^xn--/,m=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,E=Math.floor,w=String.fromCharCode,T;function R(S){throw new RangeError(y[S])}function A(S,C){for(var I=S.length,Y=[];I--;)Y[I]=C(S[I]);return Y}function b(S,C){var I=S.split("@"),Y="";I.length>1&&(Y=I[0]+"@",S=I[1]),S=S.replace(g,".");var M=S.split("."),q=A(M,C).join(".");return Y+q}function O(S){for(var C=[],I=0,Y=S.length,M,q;I<Y;)M=S.charCodeAt(I++),M>=55296&&M<=56319&&I<Y?(q=S.charCodeAt(I++),(q&64512)==56320?C.push(((M&1023)<<10)+(q&1023)+65536):(C.push(M),I--)):C.push(M);return C}function F(S){return A(S,function(C){var I="";return C>65535&&(C-=65536,I+=w(C>>>10&1023|55296),C=56320|C&1023),I+=w(C),I}).join("")}function G(S){return S-48<10?S-22:S-65<26?S-65:S-97<26?S-97:l}function X(S,C){return S+22+75*(S<26)-((C!=0)<<5)}function L(S,C,I){var Y=0;for(S=I?E(S/f):S>>1,S+=E(S/C);S>x*h>>1;Y+=l)S=E(S/x);return E(Y+(x+1)*S/(S+c))}function U(S){var C=[],I=S.length,Y,M=0,q=p,Z=d,te,Ne,ge,de,ue,pe,_e,re,et;for(te=S.lastIndexOf(v),te<0&&(te=0),Ne=0;Ne<te;++Ne)S.charCodeAt(Ne)>=128&&R("not-basic"),C.push(S.charCodeAt(Ne));for(ge=te>0?te+1:0;ge<I;){for(de=M,ue=1,pe=l;ge>=I&&R("invalid-input"),_e=G(S.charCodeAt(ge++)),(_e>=l||_e>E((s-M)/ue))&&R("overflow"),M+=_e*ue,re=pe<=Z?u:pe>=Z+h?h:pe-Z,!(_e<re);pe+=l)et=l-re,ue>E(s/et)&&R("overflow"),ue*=et;Y=C.length+1,Z=L(M-de,Y,de==0),E(M/Y)>s-q&&R("overflow"),q+=E(M/Y),M%=Y,C.splice(M++,0,q)}return F(C)}function $(S){var C,I,Y,M,q,Z,te,Ne,ge,de,ue,pe=[],_e,re,et,at;for(S=O(S),_e=S.length,C=p,I=0,q=d,Z=0;Z<_e;++Z)ue=S[Z],ue<128&&pe.push(w(ue));for(Y=M=pe.length,M&&pe.push(v);Y<_e;){for(te=s,Z=0;Z<_e;++Z)ue=S[Z],ue>=C&&ue<te&&(te=ue);for(re=Y+1,te-C>E((s-I)/re)&&R("overflow"),I+=(te-C)*re,C=te,Z=0;Z<_e;++Z)if(ue=S[Z],ue<C&&++I>s&&R("overflow"),ue==C){for(Ne=I,ge=l;de=ge<=q?u:ge>=q+h?h:ge-q,!(Ne<de);ge+=l)at=Ne-de,et=l-de,pe.push(w(X(de+at%et,0))),Ne=E(at/et);pe.push(w(X(Ne,0))),q=L(I,re,Y==M),I=0,++Y}++I,++C}return pe.join("")}function D(S){return b(S,function(C){return _.test(C)?U(C.slice(4).toLowerCase()):C})}function k(S){return b(S,function(C){return m.test(C)?"xn--"+$(C):C})}if(a={version:"1.4.1",ucs2:{decode:O,encode:F},decode:U,encode:$,toASCII:k,toUnicode:D},n&&i)if(t.exports==n)i.exports=a;else for(T in a)a.hasOwnProperty(T)&&(n[T]=a[T]);else r.punycode=a})(Yi)})(Ds,Ds.exports);var Vx=Ds.exports,Pi=TypeError;const Wx={},$x=Object.freeze(Object.defineProperty({__proto__:null,default:Wx},Symbol.toStringTag,{value:"Module"})),Yx=vg($x);var Ec=typeof Map=="function"&&Map.prototype,Jl=Object.getOwnPropertyDescriptor&&Ec?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Fs=Ec&&Jl&&typeof Jl.get=="function"?Jl.get:null,vp=Ec&&Map.prototype.forEach,wc=typeof Set=="function"&&Set.prototype,eu=Object.getOwnPropertyDescriptor&&wc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ls=wc&&eu&&typeof eu.get=="function"?eu.get:null,mp=wc&&Set.prototype.forEach,qx=typeof WeakMap=="function"&&WeakMap.prototype,io=qx?WeakMap.prototype.has:null,Kx=typeof WeakSet=="function"&&WeakSet.prototype,oo=Kx?WeakSet.prototype.has:null,Qx=typeof WeakRef=="function"&&WeakRef.prototype,yp=Qx?WeakRef.prototype.deref:null,Zx=Boolean.prototype.valueOf,Jx=Object.prototype.toString,e2=Function.prototype.toString,t2=String.prototype.match,Tc=String.prototype.slice,Ir=String.prototype.replace,r2=String.prototype.toUpperCase,gp=String.prototype.toLowerCase,oy=RegExp.prototype.test,_p=Array.prototype.concat,Wt=Array.prototype.join,n2=Array.prototype.slice,xp=Math.floor,Uh=typeof BigInt=="function"?BigInt.prototype.valueOf:null,tu=Object.getOwnPropertySymbols,Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_i=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ao=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_i||"symbol")?Symbol.toStringTag:null,ay=Object.prototype.propertyIsEnumerable,Ep=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function wp(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||oy.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-xp(-t):xp(t);if(n!==t){var i=String(n),o=Tc.call(e,i.length+1);return Ir.call(i,r,"$&_")+"."+Ir.call(Ir.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ir.call(e,r,"$&_")}var jh=Yx,Tp=jh.custom,Sp=uy(Tp)?Tp:null,sy={__proto__:null,double:'"',single:"'"},i2={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},dl=function t(e,r,n,i){var o=r||{};if(ar(o,"quoteStyle")&&!ar(sy,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ar(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=ar(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ar(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ar(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return fy(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return s?wp(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return s?wp(e,u):u}var h=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Hh(e)?"[Array]":"[Object]";var c=w2(o,n);if(typeof i>"u")i=[];else if(hy(i,e)>=0)return"[Circular]";function f(G,X,L){if(X&&(i=n2.call(i),i.push(X)),L){var U={depth:o.depth};return ar(o,"quoteStyle")&&(U.quoteStyle=o.quoteStyle),t(G,U,n+1,i)}return t(G,o,n+1,i)}if(typeof e=="function"&&!bp(e)){var d=d2(e),p=ga(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Wt.call(p,", ")+" }":"")}if(uy(e)){var v=_i?Ir.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Gh.call(e);return typeof e=="object"&&!_i?Li(v):v}if(_2(e)){for(var _="<"+gp.call(String(e.nodeName)),m=e.attributes||[],g=0;g<m.length;g++)_+=" "+m[g].name+"="+ly(o2(m[g].value),"double",o);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+gp.call(String(e.nodeName))+">",_}if(Hh(e)){if(e.length===0)return"[]";var y=ga(e,f);return c&&!E2(y)?"["+zh(y,c)+"]":"[ "+Wt.call(y,", ")+" ]"}if(s2(e)){var x=ga(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!ay.call(e,"cause")?"{ ["+String(e)+"] "+Wt.call(_p.call("[cause]: "+f(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Wt.call(x,", ")+" }"}if(typeof e=="object"&&a){if(Sp&&typeof e[Sp]=="function"&&jh)return jh(e,{depth:h-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(p2(e)){var E=[];return vp&&vp.call(e,function(G,X){E.push(f(X,e,!0)+" => "+f(G,e))}),Pp("Map",Fs.call(e),E,c)}if(y2(e)){var w=[];return mp&&mp.call(e,function(G){w.push(f(G,e))}),Pp("Set",Ls.call(e),w,c)}if(v2(e))return ru("WeakMap");if(g2(e))return ru("WeakSet");if(m2(e))return ru("WeakRef");if(u2(e))return Li(f(Number(e)));if(f2(e))return Li(f(Uh.call(e)));if(h2(e))return Li(Zx.call(e));if(l2(e))return Li(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Yi<"u"&&e===Yi)return"{ [object globalThis] }";if(!a2(e)&&!bp(e)){var T=ga(e,f),R=Ep?Ep(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",b=!R&&ao&&Object(e)===e&&ao in e?Tc.call(Yr(e),8,-1):A?"Object":"",O=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=O+(b||A?"["+Wt.call(_p.call([],b||[],A||[]),": ")+"] ":"");return T.length===0?F+"{}":c?F+"{"+zh(T,c)+"}":F+"{ "+Wt.call(T,", ")+" }"}return String(e)};function ly(t,e,r){var n=r.quoteStyle||e,i=sy[n];return i+t+i}function o2(t){return Ir.call(String(t),/"/g,"&quot;")}function An(t){return!ao||!(typeof t=="object"&&(ao in t||typeof t[ao]<"u"))}function Hh(t){return Yr(t)==="[object Array]"&&An(t)}function a2(t){return Yr(t)==="[object Date]"&&An(t)}function bp(t){return Yr(t)==="[object RegExp]"&&An(t)}function s2(t){return Yr(t)==="[object Error]"&&An(t)}function l2(t){return Yr(t)==="[object String]"&&An(t)}function u2(t){return Yr(t)==="[object Number]"&&An(t)}function h2(t){return Yr(t)==="[object Boolean]"&&An(t)}function uy(t){if(_i)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Gh)return!1;try{return Gh.call(t),!0}catch{}return!1}function f2(t){if(!t||typeof t!="object"||!Uh)return!1;try{return Uh.call(t),!0}catch{}return!1}var c2=Object.prototype.hasOwnProperty||function(t){return t in this};function ar(t,e){return c2.call(t,e)}function Yr(t){return Jx.call(t)}function d2(t){if(t.name)return t.name;var e=t2.call(e2.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function hy(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function p2(t){if(!Fs||!t||typeof t!="object")return!1;try{Fs.call(t);try{Ls.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function v2(t){if(!io||!t||typeof t!="object")return!1;try{io.call(t,io);try{oo.call(t,oo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function m2(t){if(!yp||!t||typeof t!="object")return!1;try{return yp.call(t),!0}catch{}return!1}function y2(t){if(!Ls||!t||typeof t!="object")return!1;try{Ls.call(t);try{Fs.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function g2(t){if(!oo||!t||typeof t!="object")return!1;try{oo.call(t,oo);try{io.call(t,io)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function _2(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function fy(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return fy(Tc.call(t,0,e.maxStringLength),e)+n}var i=i2[e.quoteStyle||"single"];i.lastIndex=0;var o=Ir.call(Ir.call(t,i,"\\$1"),/[\x00-\x1f]/g,x2);return ly(o,"single",e)}function x2(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+r2.call(e.toString(16))}function Li(t){return"Object("+t+")"}function ru(t){return t+" { ? }"}function Pp(t,e,r,n){var i=n?zh(r,n):Wt.call(r,", ");return t+" ("+e+") {"+i+"}"}function E2(t){for(var e=0;e<t.length;e++)if(hy(t[e],`
`)>=0)return!1;return!0}function w2(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Wt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Wt.call(Array(e+1),r)}}function zh(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Wt.call(t,","+r)+`
`+e.prev}function ga(t,e){var r=Hh(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ar(t,i)?e(t[i],t):""}var o=typeof tu=="function"?tu(t):[],a;if(_i){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in t)ar(t,l)&&(r&&String(Number(l))===l&&l<t.length||_i&&a["$"+l]instanceof Symbol||(oy.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof tu=="function")for(var u=0;u<o.length;u++)ay.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}var T2=dl,S2=Pi,pl=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},b2=function(t,e){if(t){var r=pl(t,e);return r&&r.value}},P2=function(t,e,r){var n=pl(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},C2=function(t,e){return t?!!pl(t,e):!1},R2=function(t,e){if(t)return pl(t,e,!0)},A2=function(){var e,r={assert:function(n){if(!r.has(n))throw new S2("Side channel does not contain "+T2(n))},delete:function(n){var i=e&&e.next,o=R2(e,n);return o&&i&&i===o&&(e=void 0),!!o},get:function(n){return b2(e,n)},has:function(n){return C2(e,n)},set:function(n,i){e||(e={next:void 0}),P2(e,n,i)}};return r},cy=Object,O2=Error,I2=EvalError,M2=RangeError,N2=ReferenceError,D2=SyntaxError,F2=URIError,L2=Math.abs,B2=Math.floor,k2=Math.max,U2=Math.min,G2=Math.pow,j2=Math.round,H2=Number.isNaN||function(e){return e!==e},z2=H2,X2=function(e){return z2(e)||e===0?e:e<0?-1:1},V2=Object.getOwnPropertyDescriptor,es=V2;if(es)try{es([],"length")}catch{es=null}var dy=es,ts=Object.defineProperty||!1;if(ts)try{ts({},"a",{value:1})}catch{ts=!1}var W2=ts,nu,Cp;function $2(){return Cp||(Cp=1,nu=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),nu}var iu,Rp;function Y2(){if(Rp)return iu;Rp=1;var t=typeof Symbol<"u"&&Symbol,e=$2();return iu=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},iu}var ou,Ap;function py(){return Ap||(Ap=1,ou=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),ou}var au,Op;function vy(){if(Op)return au;Op=1;var t=cy;return au=t.getPrototypeOf||null,au}var q2="Function.prototype.bind called on incompatible ",K2=Object.prototype.toString,Q2=Math.max,Z2="[object Function]",Ip=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},J2=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},eE=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},tE=function(e){var r=this;if(typeof r!="function"||K2.apply(r)!==Z2)throw new TypeError(q2+r);for(var n=J2(arguments,1),i,o=function(){if(this instanceof i){var h=r.apply(this,Ip(n,arguments));return Object(h)===h?h:this}return r.apply(e,Ip(n,arguments))},a=Q2(0,r.length-n.length),s=[],l=0;l<a;l++)s[l]="$"+l;if(i=Function("binder","return function ("+eE(s,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},rE=tE,vl=Function.prototype.bind||rE,Sc=Function.prototype.call,my=Function.prototype.apply,nE=typeof Reflect<"u"&&Reflect&&Reflect.apply,iE=vl,oE=my,aE=Sc,sE=nE,lE=sE||iE.call(aE,oE),uE=vl,hE=Pi,fE=Sc,cE=lE,yy=function(e){if(e.length<1||typeof e[0]!="function")throw new hE("a function is required");return cE(uE,fE,e)},su,Mp;function dE(){if(Mp)return su;Mp=1;var t=yy,e=dy,r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return su=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(s){return o(s==null?s:i(s))}:!1,su}var lu,Np;function pE(){if(Np)return lu;Np=1;var t=py(),e=vy(),r=dE();return lu=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,lu}var uu,Dp;function vE(){if(Dp)return uu;Dp=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=vl;return uu=r.call(t,e),uu}var J,mE=cy,yE=O2,gE=I2,_E=M2,xE=N2,xi=D2,li=Pi,EE=F2,wE=L2,TE=B2,SE=k2,bE=U2,PE=G2,CE=j2,RE=X2,gy=Function,hu=function(t){try{return gy('"use strict"; return ('+t+").constructor;")()}catch{}},Mo=dy,AE=W2,fu=function(){throw new li},OE=Mo?function(){try{return arguments.callee,fu}catch{try{return Mo(arguments,"callee").get}catch{return fu}}}():fu,Fn=Y2()(),je=pE(),IE=vy(),ME=py(),_y=my,Xo=Sc,Un={},NE=typeof Uint8Array>"u"||!je?J:je(Uint8Array),mn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?J:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?J:ArrayBuffer,"%ArrayIteratorPrototype%":Fn&&je?je([][Symbol.iterator]()):J,"%AsyncFromSyncIteratorPrototype%":J,"%AsyncFunction%":Un,"%AsyncGenerator%":Un,"%AsyncGeneratorFunction%":Un,"%AsyncIteratorPrototype%":Un,"%Atomics%":typeof Atomics>"u"?J:Atomics,"%BigInt%":typeof BigInt>"u"?J:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?J:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?J:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?J:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":yE,"%eval%":eval,"%EvalError%":gE,"%Float16Array%":typeof Float16Array>"u"?J:Float16Array,"%Float32Array%":typeof Float32Array>"u"?J:Float32Array,"%Float64Array%":typeof Float64Array>"u"?J:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?J:FinalizationRegistry,"%Function%":gy,"%GeneratorFunction%":Un,"%Int8Array%":typeof Int8Array>"u"?J:Int8Array,"%Int16Array%":typeof Int16Array>"u"?J:Int16Array,"%Int32Array%":typeof Int32Array>"u"?J:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fn&&je?je(je([][Symbol.iterator]())):J,"%JSON%":typeof JSON=="object"?JSON:J,"%Map%":typeof Map>"u"?J:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fn||!je?J:je(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":mE,"%Object.getOwnPropertyDescriptor%":Mo,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?J:Promise,"%Proxy%":typeof Proxy>"u"?J:Proxy,"%RangeError%":_E,"%ReferenceError%":xE,"%Reflect%":typeof Reflect>"u"?J:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?J:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fn||!je?J:je(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?J:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fn&&je?je(""[Symbol.iterator]()):J,"%Symbol%":Fn?Symbol:J,"%SyntaxError%":xi,"%ThrowTypeError%":OE,"%TypedArray%":NE,"%TypeError%":li,"%Uint8Array%":typeof Uint8Array>"u"?J:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?J:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?J:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?J:Uint32Array,"%URIError%":EE,"%WeakMap%":typeof WeakMap>"u"?J:WeakMap,"%WeakRef%":typeof WeakRef>"u"?J:WeakRef,"%WeakSet%":typeof WeakSet>"u"?J:WeakSet,"%Function.prototype.call%":Xo,"%Function.prototype.apply%":_y,"%Object.defineProperty%":AE,"%Object.getPrototypeOf%":IE,"%Math.abs%":wE,"%Math.floor%":TE,"%Math.max%":SE,"%Math.min%":bE,"%Math.pow%":PE,"%Math.round%":CE,"%Math.sign%":RE,"%Reflect.getPrototypeOf%":ME};if(je)try{null.error}catch(t){var DE=je(je(t));mn["%Error.prototype%"]=DE}var FE=function t(e){var r;if(e==="%AsyncFunction%")r=hu("async function () {}");else if(e==="%GeneratorFunction%")r=hu("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=hu("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&je&&(r=je(i.prototype))}return mn[e]=r,r},Fp={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vo=vl,Bs=vE(),LE=Vo.call(Xo,Array.prototype.concat),BE=Vo.call(_y,Array.prototype.splice),Lp=Vo.call(Xo,String.prototype.replace),ks=Vo.call(Xo,String.prototype.slice),kE=Vo.call(Xo,RegExp.prototype.exec),UE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,GE=/\\(\\)?/g,jE=function(e){var r=ks(e,0,1),n=ks(e,-1);if(r==="%"&&n!=="%")throw new xi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new xi("invalid intrinsic syntax, expected opening `%`");var i=[];return Lp(e,UE,function(o,a,s,l){i[i.length]=s?Lp(l,GE,"$1"):a||o}),i},HE=function(e,r){var n=e,i;if(Bs(Fp,n)&&(i=Fp[n],n="%"+i[0]+"%"),Bs(mn,n)){var o=mn[n];if(o===Un&&(o=FE(n)),typeof o>"u"&&!r)throw new li("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new xi("intrinsic "+e+" does not exist!")},bc=function(e,r){if(typeof e!="string"||e.length===0)throw new li("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new li('"allowMissing" argument must be a boolean');if(kE(/^%?[^%]*%?$/,e)===null)throw new xi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=jE(e),i=n.length>0?n[0]:"",o=HE("%"+i+"%",r),a=o.name,s=o.value,l=!1,u=o.alias;u&&(i=u[0],BE(n,LE([0,1],u)));for(var h=1,c=!0;h<n.length;h+=1){var f=n[h],d=ks(f,0,1),p=ks(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new xi("property names with quotes must have matching quotes");if((f==="constructor"||!c)&&(l=!0),i+="."+f,a="%"+i+"%",Bs(mn,a))s=mn[a];else if(s!=null){if(!(f in s)){if(!r)throw new li("base intrinsic for "+e+" exists, but the property is not available.");return}if(Mo&&h+1>=n.length){var v=Mo(s,f);c=!!v,c&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[f]}else c=Bs(s,f),s=s[f];c&&!l&&(mn[a]=s)}}return s},xy=bc,Ey=yy,zE=Ey([xy("%String.prototype.indexOf%")]),wy=function(e,r){var n=xy(e,!!r);return typeof n=="function"&&zE(e,".prototype.")>-1?Ey([n]):n},XE=bc,Wo=wy,VE=dl,WE=Pi,Bp=XE("%Map%",!0),$E=Wo("Map.prototype.get",!0),YE=Wo("Map.prototype.set",!0),qE=Wo("Map.prototype.has",!0),KE=Wo("Map.prototype.delete",!0),QE=Wo("Map.prototype.size",!0),Ty=!!Bp&&function(){var e,r={assert:function(n){if(!r.has(n))throw new WE("Side channel does not contain "+VE(n))},delete:function(n){if(e){var i=KE(e,n);return QE(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return $E(e,n)},has:function(n){return e?qE(e,n):!1},set:function(n,i){e||(e=new Bp),YE(e,n,i)}};return r},ZE=bc,ml=wy,JE=dl,_a=Ty,ew=Pi,Ln=ZE("%WeakMap%",!0),tw=ml("WeakMap.prototype.get",!0),rw=ml("WeakMap.prototype.set",!0),nw=ml("WeakMap.prototype.has",!0),iw=ml("WeakMap.prototype.delete",!0),ow=Ln?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new ew("Side channel does not contain "+JE(i))},delete:function(i){if(Ln&&i&&(typeof i=="object"||typeof i=="function")){if(e)return iw(e,i)}else if(_a&&r)return r.delete(i);return!1},get:function(i){return Ln&&i&&(typeof i=="object"||typeof i=="function")&&e?tw(e,i):r&&r.get(i)},has:function(i){return Ln&&i&&(typeof i=="object"||typeof i=="function")&&e?nw(e,i):!!r&&r.has(i)},set:function(i,o){Ln&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Ln),rw(e,i,o)):_a&&(r||(r=_a()),r.set(i,o))}};return n}:_a,aw=Pi,sw=dl,lw=A2,uw=Ty,hw=ow,fw=hw||uw||lw,cw=function(){var e,r={assert:function(n){if(!r.has(n))throw new aw("Side channel does not contain "+sw(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=fw()),e.set(n,i)}};return r},dw=String.prototype.replace,pw=/%20/g,cu={RFC1738:"RFC1738",RFC3986:"RFC3986"},Pc={default:cu.RFC3986,formatters:{RFC1738:function(t){return dw.call(t,pw,"+")},RFC3986:function(t){return String(t)}},RFC1738:cu.RFC1738,RFC3986:cu.RFC3986},vw=Pc,du=Object.prototype.hasOwnProperty,ln=Array.isArray,zt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),mw=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ln(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},Sy=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},yw=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(ln(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!du.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ln(e)&&!ln(r)&&(i=Sy(e,n)),ln(e)&&ln(r)?(r.forEach(function(o,a){if(du.call(e,a)){var s=e[a];s&&typeof s=="object"&&o&&typeof o=="object"?e[a]=t(s,o,n):e.push(o)}else e[a]=o}),e):Object.keys(r).reduce(function(o,a){var s=r[a];return du.call(o,a)?o[a]=t(o[a],s,n):o[a]=s,o},i)},gw=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},_w=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},pu=1024,xw=function(e,r,n,i,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var s="",l=0;l<a.length;l+=pu){for(var u=a.length>=pu?a.slice(l,l+pu):a,h=[],c=0;c<u.length;++c){var f=u.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===vw.RFC1738&&(f===40||f===41)){h[h.length]=u.charAt(c);continue}if(f<128){h[h.length]=zt[f];continue}if(f<2048){h[h.length]=zt[192|f>>6]+zt[128|f&63];continue}if(f<55296||f>=57344){h[h.length]=zt[224|f>>12]+zt[128|f>>6&63]+zt[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|u.charCodeAt(c)&1023),h[h.length]=zt[240|f>>18]+zt[128|f>>12&63]+zt[128|f>>6&63]+zt[128|f&63]}s+=h.join("")}return s},Ew=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],a=o.obj[o.prop],s=Object.keys(a),l=0;l<s.length;++l){var u=s[l],h=a[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:a,prop:u}),n.push(h))}return mw(r),e},ww=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Tw=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Sw=function(e,r){return[].concat(e,r)},bw=function(e,r){if(ln(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},by={arrayToObject:Sy,assign:gw,combine:Sw,compact:Ew,decode:_w,encode:xw,isBuffer:Tw,isRegExp:ww,maybeMap:bw,merge:yw},Py=cw,rs=by,so=Pc,Pw=Object.prototype.hasOwnProperty,Cy={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Vt=Array.isArray,Cw=Array.prototype.push,Ry=function(t,e){Cw.apply(t,Vt(e)?e:[e])},Rw=Date.prototype.toISOString,kp=so.default,Le={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:rs.encode,encodeValuesOnly:!1,filter:void 0,format:kp,formatter:so.formatters[kp],indices:!1,serializeDate:function(e){return Rw.call(e)},skipNulls:!1,strictNullHandling:!1},Aw=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},vu={},Ow=function t(e,r,n,i,o,a,s,l,u,h,c,f,d,p,v,_,m,g){for(var y=e,x=g,E=0,w=!1;(x=x.get(vu))!==void 0&&!w;){var T=x.get(e);if(E+=1,typeof T<"u"){if(T===E)throw new RangeError("Cyclic object value");w=!0}typeof x.get(vu)>"u"&&(E=0)}if(typeof h=="function"?y=h(r,y):y instanceof Date?y=d(y):n==="comma"&&Vt(y)&&(y=rs.maybeMap(y,function(S){return S instanceof Date?d(S):S})),y===null){if(a)return u&&!_?u(r,Le.encoder,m,"key",p):r;y=""}if(Aw(y)||rs.isBuffer(y)){if(u){var R=_?r:u(r,Le.encoder,m,"key",p);return[v(R)+"="+v(u(y,Le.encoder,m,"value",p))]}return[v(r)+"="+v(String(y))]}var A=[];if(typeof y>"u")return A;var b;if(n==="comma"&&Vt(y))_&&u&&(y=rs.maybeMap(y,u)),b=[{value:y.length>0?y.join(",")||null:void 0}];else if(Vt(h))b=h;else{var O=Object.keys(y);b=c?O.sort(c):O}var F=l?String(r).replace(/\./g,"%2E"):String(r),G=i&&Vt(y)&&y.length===1?F+"[]":F;if(o&&Vt(y)&&y.length===0)return G+"[]";for(var X=0;X<b.length;++X){var L=b[X],U=typeof L=="object"&&L&&typeof L.value<"u"?L.value:y[L];if(!(s&&U===null)){var $=f&&l?String(L).replace(/\./g,"%2E"):String(L),D=Vt(y)?typeof n=="function"?n(G,$):G:G+(f?"."+$:"["+$+"]");g.set(e,E);var k=Py();k.set(vu,g),Ry(A,t(U,D,n,i,o,a,s,l,n==="comma"&&_&&Vt(y)?null:u,h,c,f,d,p,v,_,m,k))}}return A},Iw=function(e){if(!e)return Le;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Le.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=so.default;if(typeof e.format<"u"){if(!Pw.call(so.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=so.formatters[n],o=Le.filter;(typeof e.filter=="function"||Vt(e.filter))&&(o=e.filter);var a;if(e.arrayFormat in Cy?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=Le.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Le.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Le.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Le.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Le.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Le.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Le.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Le.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Le.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Le.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Le.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Le.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Le.strictNullHandling}},Mw=function(t,e){var r=t,n=Iw(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Vt(n.filter)&&(o=n.filter,i=o);var a=[];if(typeof r!="object"||r===null)return"";var s=Cy[n.arrayFormat],l=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Py(),h=0;h<i.length;++h){var c=i[h],f=r[c];n.skipNulls&&f===null||Ry(a,Ow(f,c,s,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=a.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},Sn=by,Xh=Object.prototype.hasOwnProperty,Up=Array.isArray,Re={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Sn.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Nw=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ay=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Dw="utf8=%26%2310003%3B",Fw="utf8=%E2%9C%93",Lw=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&a.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var s=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<a.length;++l)a[l].indexOf("utf8=")===0&&(a[l]===Fw?u="utf-8":a[l]===Dw&&(u="iso-8859-1"),s=l,l=a.length);for(l=0;l<a.length;++l)if(l!==s){var h=a[l],c=h.indexOf("]="),f=c===-1?h.indexOf("="):c+1,d,p;f===-1?(d=r.decoder(h,Re.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,f),Re.decoder,u,"key"),p=Sn.maybeMap(Ay(h.slice(f+1),r,Up(n[d])?n[d].length:0),function(_){return r.decoder(_,Re.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=Nw(String(p))),h.indexOf("[]=")>-1&&(p=Up(p)?[p]:p);var v=Xh.call(n,d);v&&r.duplicates==="combine"?n[d]=Sn.combine(n[d],p):(!v||r.duplicates==="last")&&(n[d]=p)}return n},Bw=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");i=Array.isArray(e)&&e[o]?e[o].length:0}for(var a=n?e:Ay(e,r,i),s=t.length-1;s>=0;--s){var l,u=t[s];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(a===""||r.strictNullHandling&&a===null)?[]:Sn.combine([],a);else{l=r.plainObjects?{__proto__:null}:{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,f=parseInt(c,10);!r.parseArrays&&c===""?l={0:a}:!isNaN(f)&&u!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(l=[],l[f]=a):c!=="__proto__"&&(l[c]=a)}a=l}return a},kw=function(e,r,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=n.depth>0&&a.exec(o),u=l?o.slice(0,l.index):o,h=[];if(u){if(!n.plainObjects&&Xh.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var c=0;n.depth>0&&(l=s.exec(o))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&Xh.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+o.slice(l.index)+"]")}return Bw(h,r,n,i)}},Uw=function(e){if(!e)return Re;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Re.charset:e.charset,n=typeof e.duplicates>"u"?Re.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Re.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Re.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Re.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Re.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Re.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Re.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Re.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Re.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Re.decoder,delimiter:typeof e.delimiter=="string"||Sn.isRegExp(e.delimiter)?e.delimiter:Re.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Re.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Re.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Re.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Re.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Re.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Re.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Gw=function(t,e){var r=Uw(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Lw(t,r):t,i=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),a=0;a<o.length;++a){var s=o[a],l=kw(s,n[s],r,typeof t=="string");i=Sn.merge(i,l,r)}return r.allowSparse===!0?i:Sn.compact(i)},jw=Mw,Hw=Gw,zw=Pc,Xw={formats:zw,parse:Hw,stringify:jw},Vw=Vx;function Lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ww=/^([a-z0-9.+-]+:)/i,$w=/:[0-9]*$/,Yw=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,qw=["<",">",'"',"`"," ","\r",`
`,"	"],Kw=["{","}","|","\\","^","`"].concat(qw),Vh=["'"].concat(Kw),Gp=["%","/","?",";","#"].concat(Vh),jp=["/","?","#"],Qw=255,Hp=/^[+a-z0-9A-Z_-]{0,63}$/,Zw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Jw={javascript:!0,"javascript:":!0},Wh={javascript:!0,"javascript:":!0},ui={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$h=Xw;function yl(t,e,r){if(t&&typeof t=="object"&&t instanceof Lt)return t;var n=new Lt;return n.parse(t,e,r),n}Lt.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var l=Yw.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=$h.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Ww.exec(s);if(u){u=u[0];var h=u.toLowerCase();this.protocol=h,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@/]+@[^@/]+/)){var c=s.substr(0,2)==="//";c&&!(u&&Wh[u])&&(s=s.substr(2),this.slashes=!0)}if(!Wh[u]&&(c||u&&!ui[u])){for(var f=-1,d=0;d<jp.length;d++){var p=s.indexOf(jp[d]);p!==-1&&(f===-1||p<f)&&(f=p)}var v,_;f===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",f),_!==-1&&(v=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(v)),f=-1;for(var d=0;d<Gp.length;d++){var p=s.indexOf(Gp[d]);p!==-1&&(f===-1||p<f)&&(f=p)}f===-1&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var g=this.hostname.split(/\./),d=0,y=g.length;d<y;d++){var x=g[d];if(x&&!x.match(Hp)){for(var E="",w=0,T=x.length;w<T;w++)x.charCodeAt(w)>127?E+="x":E+=x[w];if(!E.match(Hp)){var R=g.slice(0,d),A=g.slice(d+1),b=x.match(Zw);b&&(R.push(b[1]),A.unshift(b[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=R.join(".");break}}}this.hostname.length>Qw?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=Vw.toASCII(this.hostname));var O=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+O,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Jw[h])for(var d=0,y=Vh.length;d<y;d++){var G=Vh[d];if(s.indexOf(G)!==-1){var X=encodeURIComponent(G);X===G&&(X=escape(G)),s=s.split(G).join(X)}}var L=s.indexOf("#");L!==-1&&(this.hash=s.substr(L),s=s.slice(0,L));var U=s.indexOf("?");if(U!==-1?(this.search=s.substr(U),this.query=s.substr(U+1),e&&(this.query=$h.parse(this.query)),s=s.slice(0,U)):e&&(this.search="",this.query={}),s&&(this.pathname=s),ui[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",$=this.search||"";this.path=O+$}return this.href=this.format(),this};function eT(t){return typeof t=="string"&&(t=yl(t)),t instanceof Lt?t.format():Lt.prototype.format.call(t)}Lt.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=$h.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ui[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),e+i+r+a+n};function tT(t,e){return yl(t,!1,!0).resolve(e)}Lt.prototype.resolve=function(t){return this.resolveObject(yl(t,!1,!0)).format()};Lt.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Lt;e.parse(t,!1,!0),t=e}for(var r=new Lt,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];l!=="protocol"&&(r[l]=t[l])}return ui[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ui[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var c=u[h];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Wh[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",d=r.search||"";r.path=f+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=v||p||r.host&&t.pathname,m=_,g=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!ui[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),_=_&&(y[0]===""||g[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=y;else if(y.length)g||(g=[]),g.pop(),g=g.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=g.shift(),r.hostname=r.host;var E=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;E&&(r.auth=E.shift(),r.hostname=E.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=g.slice(-1)[0],T=(r.host||t.host||g.length>1)&&(w==="."||w==="..")||w==="",R=0,A=g.length;A>=0;A--)w=g[A],w==="."?g.splice(A,1):w===".."?(g.splice(A,1),R++):R&&(g.splice(A,1),R--);if(!_&&!m)for(;R--;R)g.unshift("..");_&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),T&&g.join("/").substr(-1)!=="/"&&g.push("");var b=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(x){r.hostname=b?"":g.length?g.shift():"",r.host=r.hostname;var E=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;E&&(r.auth=E.shift(),r.hostname=E.shift(),r.host=r.hostname)}return _=_||r.host&&g.length,_&&!b&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Lt.prototype.parseHost=function(){var t=this.host,e=$w.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var rT=yl,nT=tT,iT=eT;/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Jn={parse:rT,format:iT,resolve:nT};j.RETINA_PREFIX=/@([0-9\.]+)x/;j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var zp=!1,Xp="6.5.9";function oT(t){var e;if(!zp){if(j.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Xp+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Xp+" - "+t+" - http://www.pixijs.com/");zp=!0}}var mu;function aT(){return typeof mu>"u"&&(mu=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!j.ADAPTER.getWebGLRenderingContext())return!1;var r=j.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),mu}var sT="#f0f8ff",lT="#faebd7",uT="#00ffff",hT="#7fffd4",fT="#f0ffff",cT="#f5f5dc",dT="#ffe4c4",pT="#000000",vT="#ffebcd",mT="#0000ff",yT="#8a2be2",gT="#a52a2a",_T="#deb887",xT="#5f9ea0",ET="#7fff00",wT="#d2691e",TT="#ff7f50",ST="#6495ed",bT="#fff8dc",PT="#dc143c",CT="#00ffff",RT="#00008b",AT="#008b8b",OT="#b8860b",IT="#a9a9a9",MT="#006400",NT="#a9a9a9",DT="#bdb76b",FT="#8b008b",LT="#556b2f",BT="#ff8c00",kT="#9932cc",UT="#8b0000",GT="#e9967a",jT="#8fbc8f",HT="#483d8b",zT="#2f4f4f",XT="#2f4f4f",VT="#00ced1",WT="#9400d3",$T="#ff1493",YT="#00bfff",qT="#696969",KT="#696969",QT="#1e90ff",ZT="#b22222",JT="#fffaf0",eS="#228b22",tS="#ff00ff",rS="#dcdcdc",nS="#f8f8ff",iS="#daa520",oS="#ffd700",aS="#808080",sS="#008000",lS="#adff2f",uS="#808080",hS="#f0fff0",fS="#ff69b4",cS="#cd5c5c",dS="#4b0082",pS="#fffff0",vS="#f0e68c",mS="#fff0f5",yS="#e6e6fa",gS="#7cfc00",_S="#fffacd",xS="#add8e6",ES="#f08080",wS="#e0ffff",TS="#fafad2",SS="#d3d3d3",bS="#90ee90",PS="#d3d3d3",CS="#ffb6c1",RS="#ffa07a",AS="#20b2aa",OS="#87cefa",IS="#778899",MS="#778899",NS="#b0c4de",DS="#ffffe0",FS="#00ff00",LS="#32cd32",BS="#faf0e6",kS="#ff00ff",US="#800000",GS="#66cdaa",jS="#0000cd",HS="#ba55d3",zS="#9370db",XS="#3cb371",VS="#7b68ee",WS="#00fa9a",$S="#48d1cc",YS="#c71585",qS="#191970",KS="#f5fffa",QS="#ffe4e1",ZS="#ffe4b5",JS="#ffdead",eb="#000080",tb="#fdf5e6",rb="#808000",nb="#6b8e23",ib="#ffa500",ob="#ff4500",ab="#da70d6",sb="#eee8aa",lb="#98fb98",ub="#afeeee",hb="#db7093",fb="#ffefd5",cb="#ffdab9",db="#cd853f",pb="#ffc0cb",vb="#dda0dd",mb="#b0e0e6",yb="#800080",gb="#663399",_b="#ff0000",xb="#bc8f8f",Eb="#4169e1",wb="#8b4513",Tb="#fa8072",Sb="#f4a460",bb="#2e8b57",Pb="#fff5ee",Cb="#a0522d",Rb="#c0c0c0",Ab="#87ceeb",Ob="#6a5acd",Ib="#708090",Mb="#708090",Nb="#fffafa",Db="#00ff7f",Fb="#4682b4",Lb="#d2b48c",Bb="#008080",kb="#d8bfd8",Ub="#ff6347",Gb="#40e0d0",jb="#ee82ee",Hb="#f5deb3",zb="#ffffff",Xb="#f5f5f5",Vb="#ffff00",Wb="#9acd32",$b={aliceblue:sT,antiquewhite:lT,aqua:uT,aquamarine:hT,azure:fT,beige:cT,bisque:dT,black:pT,blanchedalmond:vT,blue:mT,blueviolet:yT,brown:gT,burlywood:_T,cadetblue:xT,chartreuse:ET,chocolate:wT,coral:TT,cornflowerblue:ST,cornsilk:bT,crimson:PT,cyan:CT,darkblue:RT,darkcyan:AT,darkgoldenrod:OT,darkgray:IT,darkgreen:MT,darkgrey:NT,darkkhaki:DT,darkmagenta:FT,darkolivegreen:LT,darkorange:BT,darkorchid:kT,darkred:UT,darksalmon:GT,darkseagreen:jT,darkslateblue:HT,darkslategray:zT,darkslategrey:XT,darkturquoise:VT,darkviolet:WT,deeppink:$T,deepskyblue:YT,dimgray:qT,dimgrey:KT,dodgerblue:QT,firebrick:ZT,floralwhite:JT,forestgreen:eS,fuchsia:tS,gainsboro:rS,ghostwhite:nS,goldenrod:iS,gold:oS,gray:aS,green:sS,greenyellow:lS,grey:uS,honeydew:hS,hotpink:fS,indianred:cS,indigo:dS,ivory:pS,khaki:vS,lavenderblush:mS,lavender:yS,lawngreen:gS,lemonchiffon:_S,lightblue:xS,lightcoral:ES,lightcyan:wS,lightgoldenrodyellow:TS,lightgray:SS,lightgreen:bS,lightgrey:PS,lightpink:CS,lightsalmon:RS,lightseagreen:AS,lightskyblue:OS,lightslategray:IS,lightslategrey:MS,lightsteelblue:NS,lightyellow:DS,lime:FS,limegreen:LS,linen:BS,magenta:kS,maroon:US,mediumaquamarine:GS,mediumblue:jS,mediumorchid:HS,mediumpurple:zS,mediumseagreen:XS,mediumslateblue:VS,mediumspringgreen:WS,mediumturquoise:$S,mediumvioletred:YS,midnightblue:qS,mintcream:KS,mistyrose:QS,moccasin:ZS,navajowhite:JS,navy:eb,oldlace:tb,olive:rb,olivedrab:nb,orange:ib,orangered:ob,orchid:ab,palegoldenrod:sb,palegreen:lb,paleturquoise:ub,palevioletred:hb,papayawhip:fb,peachpuff:cb,peru:db,pink:pb,plum:vb,powderblue:mb,purple:yb,rebeccapurple:gb,red:_b,rosybrown:xb,royalblue:Eb,saddlebrown:wb,salmon:Tb,sandybrown:Sb,seagreen:bb,seashell:Pb,sienna:Cb,silver:Rb,skyblue:Ab,slateblue:Ob,slategray:Ib,slategrey:Mb,snow:Nb,springgreen:Db,steelblue:Fb,tan:Lb,teal:Bb,thistle:kb,tomato:Ub,turquoise:Gb,violet:jb,wheat:Hb,white:zb,whitesmoke:Xb,yellow:Vb,yellowgreen:Wb};function Ei(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Oy(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Iy(t){return typeof t=="string"&&(t=$b[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function Yb(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[W.NORMAL_NPM]=W.NORMAL,t[W.ADD_NPM]=W.ADD,t[W.SCREEN_NPM]=W.SCREEN,e[W.NORMAL]=W.NORMAL_NPM,e[W.ADD]=W.ADD_NPM,e[W.SCREEN]=W.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var My=Yb();function Ny(t,e){return My[e?1:0][t]}function qb(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Cc(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function Dy(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Kb(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Fy(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Us(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Vp(t){return!(t&t-1)&&!!t}function Wp(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function hi(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var o=n-r;for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function ei(t){return t===0?0:t<0?-1:1}var Qb=0;function bn(){return++Qb}var $p={};function Bt(t,e,r){if(r===void 0&&(r=3),!$p[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),$p[e]=!0}}var Yp={},ir=Object.create(null),Kr=Object.create(null),qp=function(){function t(e,r,n){this.canvas=j.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function Zb(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},l=null,u,h,c;for(u=0;u<a;u+=4)o[u+3]!==0&&(h=u/4%e,c=~~(u/4/e),s.top===null&&(s.top=c),(s.left===null||h<s.left)&&(s.left=h),(s.right===null||s.right<h)&&(s.right=h+1),(s.bottom===null||s.bottom<c)&&(s.bottom=c));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,l=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:l}}var xa;function Jb(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,xa||(xa=document.createElement("a")),xa.href=t;var r=Jn.parse(xa.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Gs(t,e){var r=j.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var js=Math.PI*2,eP=180/Math.PI,tP=Math.PI/180,ze;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(ze||(ze={}));var ye=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Ea=[new ye,new ye,new ye,new ye],ie=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=ze.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var o=this.y<e.y?e.y:this.y,a=this.bottom>e.bottom?e.bottom:this.bottom;return a>o}var s=this.left,l=this.right,u=this.top,h=this.bottom;if(l<=s||h<=u)return!1;var c=Ea[0].set(e.left,e.top),f=Ea[1].set(e.left,e.bottom),d=Ea[2].set(e.right,e.top),p=Ea[3].set(e.right,e.bottom);if(d.x<=c.x||f.y<=c.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(c,c),r.apply(f,f),r.apply(d,d),r.apply(p,p),Math.max(c.x,f.x,d.x,p.x)<=s||Math.min(c.x,f.x,d.x,p.x)>=l||Math.max(c.y,f.y,d.y,p.y)<=u||Math.min(c.y,f.y,d.y,p.y)>=h))return!1;var _=v*(f.y-c.y),m=v*(c.x-f.x),g=_*s+m*u,y=_*l+m*u,x=_*s+m*h,E=_*l+m*h;if(Math.max(g,y,x,E)<=_*c.x+m*c.y||Math.min(g,y,x,E)>=_*p.x+m*p.y)return!1;var w=v*(c.y-d.y),T=v*(d.x-c.x),R=w*s+T*u,A=w*l+T*u,b=w*s+T*h,O=w*l+T*h;return!(Math.max(R,A,b,O)<=w*c.x+T*c.y||Math.min(R,A,b,O)>=w*p.x+T*p.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),rP=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=ze.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,o=this.y-r;return i*=i,o*=o,i+o<=n},t.prototype.getBounds=function(){return new ie(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),nP=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=ze.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new ie(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),ns=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=ze.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[o*2],l=this.points[o*2+1],u=this.points[a*2],h=this.points[a*2+1],c=l>r!=h>r&&e<(u-s)*((r-l)/(h-l))+s;c&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),iP=function(){function t(e,r,n,i,o){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=ze.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),o=r-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=e-(this.x+this.width-n),i*i+o*o<=a)||(o=r-(this.y+this.height-n),i*i+o*o<=a)||(i=e-(this.x+n),i*i+o*o<=a))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),ti=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ge=function(){function t(e,r,n,i,o,a){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,o,a){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new ye;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new ye;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,o=e.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this},t.prototype.setTransform=function(e,r,n,i,o,a,s,l,u){return this.a=Math.cos(s+u)*o,this.b=Math.sin(s+u)*o,this.c=-Math.sin(s-l)*a,this.d=Math.cos(s-l)*a,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,o=this.d,a=e.pivot,s=-Math.atan2(-i,o),l=Math.atan2(n,r),u=Math.abs(s+l);return u<1e-5||Math.abs(js-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(a.x*r+a.y*i),e.position.y=this.ty+(a.x*n+a.y*o),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=e*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(e*this.ty-r*o)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),nn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],on=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],an=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],sn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Yh=[],Ly=[],wa=Math.sign;function oP(){for(var t=0;t<16;t++){var e=[];Yh.push(e);for(var r=0;r<16;r++)for(var n=wa(nn[t]*nn[r]+an[t]*on[r]),i=wa(on[t]*nn[r]+sn[t]*on[r]),o=wa(nn[t]*an[r]+an[t]*sn[r]),a=wa(on[t]*an[r]+sn[t]*sn[r]),s=0;s<16;s++)if(nn[s]===n&&on[s]===i&&an[s]===o&&sn[s]===a){e.push(s);break}}for(var t=0;t<16;t++){var l=new Ge;l.set(nn[t],on[t],an[t],sn[t],0,0),Ly.push(l)}}oP();var we={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return nn[t]},uY:function(t){return on[t]},vX:function(t){return an[t]},vY:function(t){return sn[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return Yh[t][e]},sub:function(t,e){return Yh[t][we.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?we.S:we.N:Math.abs(e)*2<=Math.abs(t)?t>0?we.E:we.W:e>0?t>0?we.SE:we.SW:t>0?we.NE:we.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=Ly[we.inv(e)];i.tx=r,i.ty=n,t.append(i)}},By=function(){function t(){this.worldTransform=new Ge,this.localTransform=new Ge,this.position=new ti(this.onChange,this,0,0),this.scale=new ti(this.onChange,this,1,1),this.pivot=new ti(this.onChange,this,0,0),this.skew=new ti(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.SORTABLE_CHILDREN=!1;var Hs=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?ie.EMPTY:(e=e||new ie(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,o=e.c,a=e.d,s=e.tx,l=e.ty,u=n*r.x+o*r.y+s,h=i*r.x+a*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=e[0],s=e[1];r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=e[2],s=e[3],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=e[4],s=e[5],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=e[6],s=e[7],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},t.prototype.addFrame=function(e,r,n,i,o){this.addFrameMatrix(e.worldTransform,r,n,i,o)},t.prototype.addFrameMatrix=function(e,r,n,i,o){var a=e.a,s=e.b,l=e.c,u=e.d,h=e.tx,c=e.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,_=a*r+l*n+h,m=s*r+u*n+c;f=_<f?_:f,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,_=a*i+l*n+h,m=s*i+u*n+c,f=_<f?_:f,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,_=a*r+l*o+h,m=s*r+u*o+c,f=_<f?_:f,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,_=a*i+l*o+h,m=s*i+u*o+c,f=_<f?_:f,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY,l=r;l<n;l+=2){var u=e[l],h=e[l+1];i=u<i?u:i,o=h<o?h:o,a=u>a?u:a,s=h>s?h:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var s=e.a,l=e.b,u=e.c,h=e.d,c=e.tx,f=e.ty,d=this.minX,p=this.minY,v=this.maxX,_=this.maxY,m=n;m<i;m+=2){var g=r[m],y=r[m+1],x=s*g+u*y+c,E=h*y+l*g+f;d=Math.min(d,x-o),v=Math.max(v,x+o),p=Math.min(p,E-a),_=Math.max(_,E+a)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=_},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,o=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=o&&i<=a){var s=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<s?n:s,this.minY=i<l?i:l,this.maxX=o>u?o:u,this.maxY=a>h?a:h}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,o=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=o&&i<=a){var s=this.minX,l=this.minY,u=this.maxX,h=this.maxY;this.minX=n<s?n:s,this.minY=i<l?i:l,this.maxX=o>u?o:u,this.maxY=a>h?a:h}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,o,a){e-=o,r-=a,n+=o,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qh=function(t,e){return qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qh(t,e)};function Rc(t,e){qh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Me=function(t){Rc(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new By,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Hs,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(e.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ie),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new ie),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Hs);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,o,a,s,l,u,h){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=s,this.skew.y=l,this.pivot.x=u,this.pivot.y=h,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new ky),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*eP},set:function(r){this.transform.rotation=r*tP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(zo),ky=function(t){Rc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Me);Me.prototype.displayObjectUpdateTransform=Me.prototype.updateTransform;function aP(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var er=function(t){Rc(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=j.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);hi(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],s=this.children.indexOf(a);if(s===-1)return null;a.parent=null,a.transform._parentID=-1,hi(this.children,s,1),this._boundsID++,this.onChildrenChange(s),a.emit("removed",this),this.emit("childRemoved",a,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,hi(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,s;if(a>0&&a<=o){s=this.children.splice(i,a);for(var l=0;l<s.length;++l)s[l].parent=null,s[l].transform&&(s[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var l=0;l<s.length;++l)s[l].emit("removed",this),this.emit("childRemoved",s[l],this,l);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(aP),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(r);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var l=this.children[a],u=l.cullable;l.cullable=u||!this.cullArea,l.render(r),l.cullable=u}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==De.NONE));if(a&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,s=this.children.length;o<s;++o)this.children[o].render(r)}a&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Me);er.prototype.containerUpdateTransform=er.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lo=function(){return lo=Object.assign||function(e){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lo.apply(this,arguments)},he;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(he||(he={}));var Kp=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=lo(lo({},e),{ref:t})}if(typeof t=="object")t=lo({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},xr={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Kp).forEach(function(i){i.type.forEach(function(o){var a,s;return(s=(a=e._removeHandlers)[o])===null||s===void 0?void 0:s.call(a,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Kp).forEach(function(i){i.type.forEach(function(o){var a=e._addHandlers,s=e._queue;a[o]?a[o](i):(s[o]=s[o]||[],s[o].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var o=this._queue;return o[t]&&(o[t].forEach(function(a){return e(a)}),delete o[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.includes(r.ref)||(e.push(r.ref),t===he.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n)))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var We=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,o,a,s,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,h=u.name,c=u.items;this._aliasCount++;for(var f=0,d=c.length;f<d;f++)c[f][h](e,r,n,i,o,a,s,l);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(We.prototype,{dispatch:{value:We.prototype.emit},run:{value:We.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.TARGET_FPMS=.06;var gr;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(gr||(gr={}));var yu=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),$e=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new yu(null,null,1/0),this.deltaMS=1/j.TARGET_FPMS,this.elapsedMS=1/j.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=gr.NORMAL),this._addListener(new yu(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=gr.NORMAL),this._addListener(new yu(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*j.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,j.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),sP=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,gr.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?$e.shared:new $e,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=he.Application,t}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.PREFER_ENV=qt.any?yr.WEBGL:yr.WEBGL2;j.STRICT_TEXTURE_CACHE=!1;var Kh=[];function Uy(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Kh.length-1;i>=0;--i){var o=Kh[i];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qh=function(t,e){return Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Qh(t,e)};function ce(t,e){Qh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zh=function(){return Zh=Object.assign||function(e){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zh.apply(this,arguments)};function lP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var No=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new We("setRealSize"),this.onUpdate=new We("update"),this.onError=new We("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),$o=function(t){ce(e,t);function e(r,n){var i=this,o=n||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,a,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Gt.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(No),uP={scaleMode:Yt.NEAREST,format:B.RGBA,alphaMode:Gt.NPM},ne=function(t){ce(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,s=n.anisotropicLevel,l=n.scaleMode,u=n.width,h=n.height,c=n.wrapMode,f=n.format,d=n.type,p=n.target,v=n.resolution,_=n.resourceOptions;return r&&!(r instanceof No)&&(r=Uy(r,_),r.internal=!0),i.resolution=v||j.RESOLUTION,i.width=Math.round((u||0)*i.resolution)/i.resolution,i.height=Math.round((h||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:j.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:j.ANISOTROPIC_LEVEL,i._wrapMode=c||j.WRAP_MODE,i._scaleMode=l!==void 0?l:j.SCALE_MODE,i.format=f||B.RGBA,i.type=d||V.UNSIGNED_BYTE,i.target=p||vn.TEXTURE_2D,i.alphaMode=o!==void 0?o:Gt.UNPACK,i.uid=bn(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&h>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Vp(this.realWidth)&&Vp(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Kr[this.cacheId],delete ir[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=j.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+bn()}a=r._pixiId}var l=Kr[a];if(o&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||(l=new e(r,n),l.cacheId=a,e.addToCache(l,a)),l},e.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new $o(r,{width:n,height:i}),s=r instanceof Float32Array?V.FLOAT:V.UNSIGNED_BYTE;return new e(a,Object.assign({},uP,o||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Kr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Kr[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Kr[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Kr[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete Kr[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(zo),Gy=function(t){ce(e,t);function e(r,n){var i=this,o=n||{},a=o.width,s=o.height;i=t.call(this,a,s)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<r;l++){var u=new ne;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof No?this.addResourceAt(r[i],i):this.addResourceAt(Uy(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,s=o.realHeight;return r.resize(a,s),Promise.resolve(r)}),this._load},e}(No),hP=function(t){ce(e,t);function e(r,n){var i=this,o=n||{},a=o.width,s=o.height,l,u;return Array.isArray(r)?(l=r,u=r.length):u=r,i=t.call(this,u,{width:a,height:s})||this,l&&i.initFromArray(l,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=vn.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var o=this,a=o.length,s=o.itemDirtyIds,l=o.items,u=r.gl;i.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var h=0;h<a;h++){var c=l[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,n.format,i.type,c.resource.source))}return!0},e}(Gy),Xr=function(t){ce(e,t);function e(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=Jb(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,o){var a=r.gl,s=n.realWidth,l=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Gt.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===s&&i.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=s,i.height=l,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(No),fP=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Xr),cP=function(t){ce(e,t);function e(r,n){var i=this,o=n||{},a=o.width,s=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:a,height:s})||this;for(var h=0;h<e.SIDES;h++)i.items[h].target=vn.TEXTURE_CUBE_MAP_POSITIVE_X+h;return i.linkBaseTexture=u!==!1,r&&i.initFromArray(r,n),l!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=vn.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=vn.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<e.SIDES;a++){var s=this.items[a];(o[a]<s.dirtyId||i.dirtyId<n.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(r,s,i),o[a]=s.dirtyId):o[a]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(Gy),jy=function(t){ce(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;Xr.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:j.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var s=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?s():(a.onload=s,a.onerror=function(l){o(l),n.onError.emit(l)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===Gt.UNPACK?"premultiply":"none"})}).then(function(a){return r.destroyed?Promise.reject():(r.bitmap=a,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var s in a){var l=a[s];if(l!==i&&l.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Xr),dP=function(t){ce(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,j.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Xr.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,s=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,s=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),s=Math.round(s);var l=r.source;l.width=a,l.height=s,l._pixiId="canvas_"+bn(),l.getContext("2d").drawImage(n,0,0,i,o,0,0,a,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Xr),pP=function(t){ce(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];Xr.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var l=document.createElement("source"),u=r[s],h=u.src,c=u.mime;h=h||r[s];var f=h.split("?").shift().toLowerCase(),d=f.slice(f.lastIndexOf(".")+1);c=c||e.MIME_TYPES[d]||"video/"+d,l.src=h,l.type=c,o.appendChild(l)}r=o}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=$e.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&($e.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&($e.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&($e.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?($e.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&($e.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Xr),vP=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(Xr);Kh.push(jy,vP,fP,pP,dP,$o,cP,hP);var mP=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Gt.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},e}($o),Jh=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new We("disposeFramebuffer"),this.multisample=xe.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new ne(null,{scaleMode:Yt.NEAREST,resolution:1,mipmap:Ut.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new ne(new mP(null,{width:this.width,height:this.height}),{scaleMode:Yt.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ut.OFF,format:B.DEPTH_COMPONENT,type:V.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(e/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(e/o,r/o)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Hy=function(t){ce(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r={width:i,height:o,scaleMode:a,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:xe.NONE,n=t.call(this,null,r)||this,n.mipmap=Ut.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Jh(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(ne),zy=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,o=r.height;if(n){var a=e.width/2/i,s=e.height/2/o,l=e.x/i+a,u=e.y/o+s;n=we.add(n,we.NW),this.x0=l+a*we.uX(n),this.y0=u+s*we.uY(n),n=we.add(n,2),this.x1=l+a*we.uX(n),this.y1=u+s*we.uY(n),n=we.add(n,2),this.x2=l+a*we.uX(n),this.y2=u+s*we.uY(n),n=we.add(n,2),this.x3=l+a*we.uX(n),this.y3=u+s*we.uY(n)}else this.x0=e.x/i,this.y0=e.y/o,this.x1=(e.x+e.width)/i,this.y1=e.y/o,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/o,this.x3=e.x/i,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Qp=new zy;function Ta(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var K=function(t){ce(e,t);function e(r,n,i,o,a,s){var l=t.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new ie(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=o,l.valid=!1,l._uvs=Qp,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(a||0),a===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new ye(s.x,s.y):new ye(0,0),l._updateID=0,l.textureCacheIds=[],r.valid?l.noFrame?r.valid&&l.onBaseTextureUpdated(r):l.frame=n:r.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&r.on("update",l.onBaseTextureUpdated,l),l}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&ir[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===Qp&&(this._uvs=new zy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=j.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else if(r instanceof ne){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+bn(),ne.addToCache(r,r.cacheId)}a=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+bn()}a=r._pixiId}var l=ir[a];if(o&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!l&&!(r instanceof ne)?(n.resolution||(n.resolution=Gs(r)),l=new e(new ne(r,n)),l.baseTexture.cacheId=a,ne.addToCache(l.baseTexture,a),e.addToCache(l,a)):!l&&r instanceof ne&&(l=new e(r),e.addToCache(l,a)),l},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=e.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},e.fromBuffer=function(r,n,i,o){return new e(ne.fromBuffer(r,n,i,o))},e.fromLoader=function(r,n,i,o){var a=new ne(r,Object.assign({scaleMode:j.SCALE_MODE,resolution:Gs(n)},o)),s=a.resource;s instanceof jy&&(s.url=n);var l=new e(a);return i||(i=n),ne.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(ne.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ir[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ir[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ir[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ir[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)ir[r.textureCacheIds[o]]===r&&delete ir[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,s=n+o>this.baseTexture.width,l=i+a>this.baseTexture.height;if(s||l){var u=s&&l?"and":"or",h="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,c="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(h+" "+u+" "+c))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new ne),Ta(e._EMPTY),Ta(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=j.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(ne.from(r)),Ta(e._WHITE),Ta(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(zo),Pn=function(t){ce(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(r*o)/o,s=Math.round(n*o)/o;this.valid=a>0&&s>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(a,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof r=="number"&&(Bt("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new Hy(r))},e}(K),yP=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=xe.NONE);var i=new Hy(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Pn(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=xe.NONE);var o;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Us(e),r=Us(r),o=((e&65535)<<16|r&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(e,r,i)),a.filterPoolKey=o,a.setResolution(n),a},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||xe.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),Zp=function(){function t(e,r,n,i,o,a,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=V.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,o){return new t(e,r,n,i,o)},t}(),gP=0,ke=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=gP++,this.disposeRunner=new We("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Jt.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Jt.ELEMENT_ARRAY_BUFFER:Jt.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),_P={Float32Array,Uint32Array,Int32Array,Uint8Array};function xP(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;for(var a=new ArrayBuffer(r*4),s=null,l=0,o=0;o<t.length;o++){var u=e[o],h=t[o],c=Fy(h);i[c]||(i[c]=new _P[c](a)),s=i[c];for(var f=0;f<h.length;f++){var d=(f/u|0)*n+l,p=f%u;s[d+p]=h[f]}l+=u}return new Float32Array(a)}var Jp={5126:4,5123:2,5121:1},EP=0,wP={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Yo=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=EP++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new We("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,o,a,s,l){if(n===void 0&&(n=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ke||(r instanceof Array&&(r=new Float32Array(r)),r=new ke(r));var u=e.split("|");if(u.length>1){for(var h=0;h<u.length;h++)this.addAttribute(u[h],r,n,i,o);return this}var c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new Zp(c,n,i,o,a,s,l),this.instanced=this.instanced||l,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof ke||(e instanceof Array&&(e=new Uint16Array(e)),e=new ke(e)),e.type=Jt.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new ke,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];e.push(a.data),r.push(o.size*Jp[o.type]/4),o.buffer=0}for(n.data=xP(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new ke(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new Zp(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Jt.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],o=[],a,s=0;s<e.length;s++){a=e[s];for(var l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,o[l]=0}for(var s=0;s<a.buffers.length;s++)n[s]=new wP[Fy(a.buffers[s].data)](i[s]),r.buffers[s]=new ke(n[s]);for(var s=0;s<e.length;s++){a=e[s];for(var l=0;l<a.buffers.length;l++)n[l].set(a.buffers[l].data,o[l]),o[l]+=a.buffers[l].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=Jt.ELEMENT_ARRAY_BUFFER;for(var u=0,h=0,c=0,f=0,s=0;s<a.buffers.length;s++)if(a.buffers[s]!==a.indexBuffer){f=s;break}for(var s in a.attributes){var d=a.attributes[s];(d.buffer|0)===f&&(h+=d.size*Jp[d.type]/4)}for(var s=0;s<e.length;s++){for(var p=e[s].indexBuffer.data,l=0;l<p.length;l++)r.indexBuffer.data[l+c]+=u;u+=e[s].buffers[f].data.length/h,c+=p.length}}return r},t}(),TP=function(t){ce(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Yo),Xy=function(t){ce(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new ke(r.vertices),r.uvBuffer=new ke(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Yo),SP=0,yn=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=SP++,this.static=!!r,this.ubo=!!n,e instanceof ke?(this.buffer=e,this.buffer.type=Jt.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ke(new Float32Array(1)),this.buffer.type=Jt.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),bP=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=xe.NONE,this.sourceFrame=new ie,this.destinationFrame=new ie,this.bindingSourceFrame=new ie,this.bindingDestinationFrame=new ie,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Sa=[new ye,new ye,new ye,new ye],gu=new Ge,PP=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new yP,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new TP,this.quadUv=new Xy,this.tempRect=new ie,this.activeState={},this.globalUniforms=new yn({outputFrame:new ie,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,o=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new bP,l=this.renderer.renderTexture,u=r[0].resolution,h=r[0].multisample,c=r[0].padding,f=r[0].autoFit,d=(n=r[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<r.length;p++){var v=r[p];u=Math.min(u,v.resolution),h=Math.min(h,v.multisample),c=this.useMaxPadding?Math.max(c,v.padding):c+v.padding,f=f&&v.autoFit,d=d||((i=v.legacy)!==null&&i!==void 0?i:!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),a.push(s),s.resolution=u,s.multisample=h,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);var _=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(gu.copyFrom(o.projection.transform).invert(),_),f?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,h),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(l.sourceFrame),s.bindingDestinationFrame.copyFrom(l.destinationFrame),s.transform=o.projection.transform,o.projection.transform=null,l.bind(s.renderTexture,s.sourceFrame,m),o.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=r.sourceFrame.width*o[2]-.5*a[2],s[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){var l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,Mt.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var h=r.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,r.resolution);c.filterFrame=h.filterFrame;var f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(h.width,h.height,r.resolution),c.filterFrame=h.filterFrame),n[f].apply(this,h,c,Mt.CLEAR,r);var d=h;h=c,c=d}n[f].apply(this,h,u.renderTexture,Mt.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=Mt.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=o.stateId&1||this.forceClear;(r===Mt.CLEAR||r===Mt.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var o=this.renderer;o.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Nt.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Nt.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=r._texture.orig,s=e.set(o.width,0,0,o.height,i.x,i.y),l=r.worldTransform.copyTo(Ge.TEMP_MATRIX);return l.invert(),s.prepend(l),s.scale(1/a.width,1/a.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=xe.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||xe.NONE);return o.filterFrame=e.filterFrame,o},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Sa[0],i=Sa[1],o=Sa[2],a=Sa[3];n.set(r.left,r.top),i.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(o,o),e.apply(a,a);var s=Math.min(n.x,i.x,o.x,a.x),l=Math.min(n.y,i.y,o.y,a.y),u=Math.max(n.x,i.x,o.x,a.x),h=Math.max(n.y,i.y,o.y,a.y);r.x=s,r.y=l,r.width=u-s,r.height=h-l},t.prototype.roundFrame=function(e,r,n,i,o){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,s=o.b,l=o.c,u=o.d;if((Math.abs(s)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(u)>1e-4))return}o=o?gu.copyFrom(o):gu.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,e),e.ceil(r),this.transformAABB(o.invert(),e)}},t}(),gl=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),CP=function(){function t(e){this.renderer=e,this.emptyRenderer=new gl(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var o=e.elements,a=e.ids,s=e.count,l=0,u=0;u<s;u++){var h=o[u],c=h._batchLocation;if(c>=0&&c<i&&r[c]===h){a[u]=c;continue}for(;l<i;){var f=r[l];if(f&&f._batchEnabled===n&&f._batchLocation===l){l++;continue}a[u]=l,h._batchLocation=l,r[l]=h;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),ev=0,RP=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ev++},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ev++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(j.PREFER_ENV>=yr.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){var r=this;e.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),AP=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=xe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),OP=new ie,IP=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Jh(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ie,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===yr.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=n),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var s=e.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var l=r.width>>n,u=r.height>>n,h=l/r.width;this.setViewport(r.x*h,r.y*h,l,u)}else{var l=e.width>>n,u=e.height>>n;this.setViewport(0,0,l,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var o=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==e||o.y!==r)&&(o.x=e,o.y=r,o.width=n,o.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,o){o===void 0&&(o=Is.COLOR|Is.DEPTH);var a=this.gl;a.clearColor(e,r,n,i),a.clear(o)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new AP(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var s=i[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],l=0;l<a;l++){var u=o[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),!(l===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+l))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var c=this.writeDepthTexture;if(c){var f=e.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=xe.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=xe.NONE),n},t.prototype.blit=function(e,r,n){var i=this,o=i.current,a=i.renderer,s=i.gl,l=i.CONTEXT_UID;if(a.context.webGLVersion===2&&o){var u=o.glFramebuffers[l];if(u){if(!e){if(!u.msaaBuffer)return;var h=o.colorTextures[0];if(!h)return;u.blitFramebuffer||(u.blitFramebuffer=new Jh(o.width,o.height),u.blitFramebuffer.addColorTexture(0,h)),e=u.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==o.width||e.height!==o.height)&&(e.width=o.width,e.height=o.height,e.dirtyId++,e.dirtySize++)}r||(r=OP,r.width=o.width,r.height=o.height),n||(n=r);var c=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,u.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,c?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),r.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ie},t.prototype.destroy=function(){this.renderer=null},t}(),_u={5126:4,5123:2,5121:1},MP=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===yr.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},e.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},e.drawElementsInstanced=function(o,a,s,l,u){return i.drawElementsInstancedANGLE(o,a,s,l,u)},e.drawArraysInstanced=function(o,a,s,l){return i.drawArraysInstancedANGLE(o,a,s,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[r.program.id]||this.initGeometryVao(e,r,o);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,o=["g",e.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=r.program;s.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var l=this.getSignature(e,s),u=e.glVertexArrayObjects[this.CONTEXT_UID],h=u[l];if(h)return u[s.id]=h,h;var c=e.buffers,f=e.attributes,d={},p={};for(var v in c)d[v]=0,p[v]=0;for(var v in f)!f[v].size&&s.attributeData[v]?f[v].size=s.attributeData[v].size:f[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[f[v].buffer]+=f[v].size*_u[f[v].type];for(var v in f){var _=f[v],m=_.size;_.stride===void 0&&(d[_.buffer]===m*_u[_.type]?_.stride=0:_.stride=d[_.buffer]),_.start===void 0&&(_.start=p[_.buffer],p[_.buffer]+=m*_u[_.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(var g=0;g<c.length;g++){var y=c[g];a.bind(y),n&&y._glBuffers[o].refCount++}return this.activateVao(e,s),this._activeVao=h,u[s.id]=h,u[l]=h,h},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var l=0;l<a.length;l++){var u=a[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a[l],r))}if(!r){for(var h in i)if(h[0]==="g"){var c=i[h];this._activeVao===c&&this.unbind(),o.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,s=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);var l=null;for(var u in s){var h=s[u],c=a[h.buffer],f=c._glBuffers[i];if(r.attributeData[u]){l!==f&&(o.bind(c),l=f);var d=r.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,l=s===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(e,r||a.indexBuffer.data.length,l,(n||0)*s,i||1):o.drawElements(e,r||a.indexBuffer.data.length,l,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(e,n,r||a.getSize(),i||1):o.drawArrays(e,n,r||a.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),NP=function(){function t(e){e===void 0&&(e=null),this.type=De.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=j.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=De.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function tv(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function rv(t,e){var r=t.getShaderSource(e).split(`
`).map(function(u,h){return h+": "+u}),n=t.getShaderInfoLog(e),i=n.split(`
`),o={},a=i.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return u&&!o[u]?(o[u]=!0,!0):!1}),s=[""];a.forEach(function(u){r[u-1]="%c"+r[u-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=r.join(`
`);s[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function DP(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||rv(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||rv(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function xu(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Vy(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return xu(2*e);case"bvec3":return xu(3*e);case"bvec4":return xu(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Wy={},Bi=Wy;function FP(){if(Bi===Wy||Bi&&Bi.isContextLost()){var t=j.ADAPTER.createCanvas(),e=void 0;j.PREFER_ENV>=yr.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Bi=e}return Bi}var ba;function LP(){if(!ba){ba=pt.MEDIUM;var t=FP();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ba=e.precision?pt.HIGH:pt.MEDIUM}}return ba}function nv(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===pt.HIGH&&r!==pt.HIGH&&(n=pt.MEDIUM),"precision "+n+` float;
`+t}else if(r!==pt.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var BP={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function $y(t){return BP[t]}var Pa=null,iv={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Yy(t,e){if(!Pa){var r=Object.keys(iv);Pa={};for(var n=0;n<r.length;++n){var i=r[n];Pa[t[i]]=iv[i]}}return Pa[e]}var fi=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],kP={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},UP={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function GP(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var o=e[i];if(!o){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=t.uniforms[i],s=!1,l=0;l<fi.length;l++)if(fi[l].test(o,a)){n.push(fi[l].code(i,a)),s=!0;break}if(!s){var u=o.size===1&&!o.isArray?kP:UP,h=u[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+h+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var jP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function HP(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function zP(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=jP.replace(/%forloop%/gi,HP(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var ki;function XP(){if(typeof ki=="boolean")return ki;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");ki=t({a:"b"},"a","b")===!0}catch{ki=!1}return ki}var VP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,WP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,$P=0,Ca={},qo=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=$P++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Ca[n]?(Ca[n]++,n+="-"+Ca[n]):Ca[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=nv(this.vertexSrc,j.PRECISION_VERTEX,pt.HIGH),this.fragmentSrc=nv(this.fragmentSrc,j.PRECISION_FRAGMENT,LP())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return WP},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return VP},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,o=Yp[i];return o||(Yp[i]=o=new t(e,r,n)),o},t}(),jr=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof yn?this.uniformGroup=r:this.uniformGroup=new yn(r):this.uniformGroup=new yn({}),this.disposeRunner=new We("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=qo.from(e,r);return new t(i,n)},t}(),Eu=0,wu=1,Tu=2,Su=3,bu=4,Pu=5,On=function(){function t(){this.data=0,this.blendMode=W.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<Eu)},set:function(e){!!(this.data&1<<Eu)!==e&&(this.data^=1<<Eu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<wu)},set:function(e){!!(this.data&1<<wu)!==e&&(this.data^=1<<wu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Tu)},set:function(e){!!(this.data&1<<Tu)!==e&&(this.data^=1<<Tu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Su)},set:function(e){!!(this.data&1<<Su)!==e&&(this.data^=1<<Su)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<Pu)},set:function(e){!!(this.data&1<<Pu)!==e&&(this.data^=1<<Pu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<bu)},set:function(e){!!(this.data&1<<bu)!==e&&(this.data^=1<<bu)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==W.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),YP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,qP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,qr=function(t){ce(e,t);function e(r,n,i){var o=this,a=qo.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return o=t.call(this,a,i)||this,o.padding=0,o.resolution=j.FILTER_RESOLUTION,o.multisample=j.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new On,o}return e.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return qP},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return YP},enumerable:!1,configurable:!0}),e}(jr),KP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,QP=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ov=new Ge,Ac=function(){function t(e,r){this._texture=e,this.mapCoord=new Ge,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(ov.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(ov));var a=r.baseTexture,s=this.uClampFrame,l=this.clampMargin/a.resolution,u=this.clampOffset;return s[0]=(r._frame.x+l+u)/a.width,s[1]=(r._frame.y+l+u)/a.height,s[2]=(r._frame.x+r._frame.width-l+u)/a.width,s[3]=(r._frame.y+r._frame.height-l+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},t}(),ZP=function(t){ce(e,t);function e(r,n,i){var o=this,a=null;return typeof r!="string"&&n===void 0&&i===void 0&&(a=r,r=void 0,n=void 0,i=void 0),o=t.call(this,r||KP,n||QP,i)||this,o.maskSprite=a,o.maskMatrix=new Ge,o}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,o){var a=this._maskSprite,s=a._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Ac(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},e}(qr),JP=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new NP;i.pooled=!0,i.maskObject=r,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n._colorMask=o?o._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==De.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case De.SCISSOR:this.renderer.scissor.push(n);break;case De.STENCIL:this.renderer.stencil.push(n);break;case De.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case De.COLOR:this.pushColorMask(n);break}n.type===De.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case De.SCISSOR:this.renderer.scissor.pop(r);break;case De.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case De.SPRITE:this.popSpriteMask(r);break;case De.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===De.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=De.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=De.SCISSOR:e.type=De.STENCIL:e.type=De.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,o=e._target,a=e._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new ZP]));var s=this.renderer,l=s.renderTexture,u,h;if(l.current){var c=l.current;u=e.resolution||c.resolution,h=(r=e.multisample)!==null&&r!==void 0?r:c.multisample}else u=e.resolution||s.resolution,h=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;a[0].resolution=u,a[0].multisample=h,a[0].maskSprite=i;var f=o.filterArea;o.filterArea=i.getBounds(!0),s.filter.push(o,a),o.filterArea=f,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),qy=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),av=new Ge,sv=[],eC=function(t){ce(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=j.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,o=r.maskObject,a=this.renderer,s=a.renderTexture,l=o.getBounds(!0,(n=sv.pop())!==null&&n!==void 0?n:new ie);this.roundFrameToPixels(l,s.current?s.current.resolution:a.resolution,s.sourceFrame,s.destinationFrame,a.projection.transform),i&&l.fit(i),r._scissorRectLocal=l}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,o=r.c,a=r.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,o,a){e.isMatrixRotated(a)||(a=a?av.copyFrom(a):av.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,r),r.fit(o),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&sv.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(qy),tC=function(t){ce(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=j.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var a=r._colorMask;a!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,a!==0&&(r._colorMask=a,i.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=i?i._colorMask:15;o!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,o!==0&&(i._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(qy),rC=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ge,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Qr=new ie,Ui=new ie,nC=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ie,this.destinationFrame=new ie,this.viewportFrame=new ie}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var o,a,s;e?(o=e.baseTexture,s=o.resolution,r||(Qr.width=e.frame.width,Qr.height=e.frame.height,r=Qr),n||(Ui.x=e.frame.x,Ui.y=e.frame.y,Ui.width=r.width,Ui.height=r.height,n=Ui),a=o.framebuffer):(s=i.resolution,r||(Qr.width=i.screen.width,Qr.height=i.screen.height,r=Qr),n||(n=Qr,n.width=r.width,n.height=r.height));var l=this.viewportFrame;l.x=n.x*s,l.y=n.y*s,l.width=n.width*s,l.height=n.height*s,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(n,r,s,!a),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,s=a.x,l=a.y,u=a.width,h=a.height;s=Math.round(s),l=Math.round(l),u=Math.round(u),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,l,u,h)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),o&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function iC(t,e,r,n,i){r.buffer.update(i)}var oC={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Ky={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function aC(t){for(var e=t.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<e.length;o++){var a=e[o];if(r=Ky[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function sC(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,o){return i.index-o.index}),r}function lC(t,e){if(!t.autoManage)return{size:0,syncFunc:iC};for(var r=sC(t.uniforms,e),n=aC(r),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var l=i[s],u=t.uniforms[l.data.name],h=l.data.name,c=!1,f=0;f<fi.length;f++){var d=fi[f];if(d.codeUbo&&d.test(l.data,u)){a.push("offset = "+l.offset/4+";",fi[f].codeUbo(l.data.name,u)),c=!0;break}}if(!c)if(l.data.size>1){var p=$y(l.data.type),v=Math.max(Ky[l.data.type]/16,1),_=p/v,m=(4-_%4)%4;a.push(`
                cv = ud.`+h+`.value;
                v = uv.`+h+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+_+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+m+`;
                }

                `)}else{var g=oC[l.data.type];a.push(`
                cv = ud.`+h+`.value;
                v = uv.`+h+`;
                offset = `+l.offset/4+`;
                `+g+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var uC=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function hC(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=e.getActiveAttrib(t,i);if(o.name.indexOf("gl_")!==0){var a=Yy(e,o.type),s={type:a,name:o.name,size:$y(a),location:e.getAttribLocation(t,o.name)};r[o.name]=s}}return r}function fC(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),l=Yy(e,o.type);r[a]={name:a,index:i,type:l,size:o.size,isArray:s,value:Vy(l,o.size)}}return r}function cC(t,e){var r=tv(t,t.VERTEX_SHADER,e.vertexSrc),n=tv(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||DP(t,i,r,n),e.attributeData=hC(i,t),e.uniformData=fC(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var o=Object.keys(e.attributeData);o.sort(function(h,c){return h>c?1:-1});for(var a=0;a<o.length;a++)e.attributeData[o[a]].location=a,t.bindAttribLocation(i,a,o[a]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var a in e.uniformData){var l=e.uniformData[a];s[a]={location:t.getUniformLocation(i,a),value:Vy(l.type,l.size)}}var u=new uC(i,s);return u}var dC=0,Ra={textureCount:0,uboCount:0},pC=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=dC++}return t.prototype.systemCheck=function(){if(!XP())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Ra.textureCount=0,Ra.uboCount=0,this.syncUniformGroup(e.uniformGroup,Ra)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=GP(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Ra,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=lC(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(s.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,o=[n+"-"];for(var a in i)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=cC(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function vC(t,e){return e===void 0&&(e=[]),e[W.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.ADD]=[t.ONE,t.ONE],e[W.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.NONE]=[0,0],e[W.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[W.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[W.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[W.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[W.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[W.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[W.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[W.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[W.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[W.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var mC=0,yC=1,gC=2,_C=3,xC=4,EC=5,wC=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=W.NONE,this._blendEq=!1,this.map=[],this.map[mC]=this.setBlend,this.map[yC]=this.setOffset,this.map[gC]=this.setCullFace,this.map[_C]=this.setDepthTest,this.map[xC]=this.setFrontFace,this.map[EC]=this.setDepthMask,this.checks=[],this.defaultState=new On,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=vC(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),TC=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=j.GC_MAX_IDLE,this.checkCountMax=j.GC_MAX_CHECK_COUNT,this.mode=j.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Ns.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var a=0,i=0;i<r.length;i++)r[i]!==null&&(r[a++]=r[i]);r.length=a}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function SC(t){var e,r,n,i,o,a,s,l,u,h,c,f,d,p,v,_,m,g,y,x,E,w,T;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?T=(e={},e[V.UNSIGNED_BYTE]=(r={},r[B.RGBA]=t.RGBA8,r[B.RGB]=t.RGB8,r[B.RG]=t.RG8,r[B.RED]=t.R8,r[B.RGBA_INTEGER]=t.RGBA8UI,r[B.RGB_INTEGER]=t.RGB8UI,r[B.RG_INTEGER]=t.RG8UI,r[B.RED_INTEGER]=t.R8UI,r[B.ALPHA]=t.ALPHA,r[B.LUMINANCE]=t.LUMINANCE,r[B.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[V.BYTE]=(n={},n[B.RGBA]=t.RGBA8_SNORM,n[B.RGB]=t.RGB8_SNORM,n[B.RG]=t.RG8_SNORM,n[B.RED]=t.R8_SNORM,n[B.RGBA_INTEGER]=t.RGBA8I,n[B.RGB_INTEGER]=t.RGB8I,n[B.RG_INTEGER]=t.RG8I,n[B.RED_INTEGER]=t.R8I,n),e[V.UNSIGNED_SHORT]=(i={},i[B.RGBA_INTEGER]=t.RGBA16UI,i[B.RGB_INTEGER]=t.RGB16UI,i[B.RG_INTEGER]=t.RG16UI,i[B.RED_INTEGER]=t.R16UI,i[B.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[V.SHORT]=(o={},o[B.RGBA_INTEGER]=t.RGBA16I,o[B.RGB_INTEGER]=t.RGB16I,o[B.RG_INTEGER]=t.RG16I,o[B.RED_INTEGER]=t.R16I,o),e[V.UNSIGNED_INT]=(a={},a[B.RGBA_INTEGER]=t.RGBA32UI,a[B.RGB_INTEGER]=t.RGB32UI,a[B.RG_INTEGER]=t.RG32UI,a[B.RED_INTEGER]=t.R32UI,a[B.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,a),e[V.INT]=(s={},s[B.RGBA_INTEGER]=t.RGBA32I,s[B.RGB_INTEGER]=t.RGB32I,s[B.RG_INTEGER]=t.RG32I,s[B.RED_INTEGER]=t.R32I,s),e[V.FLOAT]=(l={},l[B.RGBA]=t.RGBA32F,l[B.RGB]=t.RGB32F,l[B.RG]=t.RG32F,l[B.RED]=t.R32F,l[B.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),e[V.HALF_FLOAT]=(u={},u[B.RGBA]=t.RGBA16F,u[B.RGB]=t.RGB16F,u[B.RG]=t.RG16F,u[B.RED]=t.R16F,u),e[V.UNSIGNED_SHORT_5_6_5]=(h={},h[B.RGB]=t.RGB565,h),e[V.UNSIGNED_SHORT_4_4_4_4]=(c={},c[B.RGBA]=t.RGBA4,c),e[V.UNSIGNED_SHORT_5_5_5_1]=(f={},f[B.RGBA]=t.RGB5_A1,f),e[V.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[B.RGBA]=t.RGB10_A2,d[B.RGBA_INTEGER]=t.RGB10_A2UI,d),e[V.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[B.RGB]=t.R11F_G11F_B10F,p),e[V.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[B.RGB]=t.RGB9_E5,v),e[V.UNSIGNED_INT_24_8]=(_={},_[B.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,_),e[V.FLOAT_32_UNSIGNED_INT_24_8_REV]=(m={},m[B.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,m),e):T=(g={},g[V.UNSIGNED_BYTE]=(y={},y[B.RGBA]=t.RGBA,y[B.RGB]=t.RGB,y[B.ALPHA]=t.ALPHA,y[B.LUMINANCE]=t.LUMINANCE,y[B.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),g[V.UNSIGNED_SHORT_5_6_5]=(x={},x[B.RGB]=t.RGB,x),g[V.UNSIGNED_SHORT_4_4_4_4]=(E={},E[B.RGBA]=t.RGBA,E),g[V.UNSIGNED_SHORT_5_5_5_1]=(w={},w[B.RGBA]=t.RGBA,w),g),T}var Cu=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=V.UNSIGNED_BYTE,this.internalFormat=B.RGBA,this.samplerType=0}return t}(),bC=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ne,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=SC(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Cu(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Cu(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===e&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[o]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,o=r.CONTEXT_UID;if(i)for(var a=e-1;a>=0;--a){var s=n[a];if(s){var l=s._glTextures[o];l.samplerType!==Ms.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new Cu(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===V.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Ms.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==i||r.height!==o||r.dirtyId<0)&&(r.width=i,r.height=o,a.texImage2D(e.target,0,r.internalFormat,i,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&hi(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ut.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Zt.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Ut.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Yt.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Yt.LINEAR){var o=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Yt.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Yt.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Ru=new Ge,PC=function(t){ce(e,t);function e(r,n){r===void 0&&(r=Ro.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},j.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new ie(0,0,n.width,n.height),i.view=n.view||j.ADAPTER.createCanvas(),i.resolution=n.resolution||j.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Bt("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},e.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(Bt("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,s=lP(n,["region"]);o=a||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var l=Pn.create(Zh({width:o.width,height:o.height},s));return Ru.tx=-o.x,Ru.ty=-o.y,this.render(r,{renderTexture:l,clear:!1,transform:Ru,skipUpdateTransform:!!r.parent}),l},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Ro.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=Oy(r),Ei(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(zo),CC=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),RC=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,o=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,o.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var a=e._glBuffers[o]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,a.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[a]||this.createGLBuffer(e);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,o=e._glBuffers[i];if(e._updateID!==o.updateID)if(o.updateID=e._updateID,n.bindBuffer(e.type,o.buffer),o.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var a=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,a)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new CC(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),Qy=function(t){ce(e,t);function e(r){var n=t.call(this,Ro.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new We("destroy"),contextChange:new We("contextChange"),reset:new We("reset"),update:new We("update"),postrender:new We("postrender"),prerender:new We("prerender"),resize:new We("resize")},n.runners.contextChange.add(n),n.globalUniforms=new yn({projectionMatrix:new Ge},!0),n.addSystem(JP,"mask").addSystem(RP,"context").addSystem(wC,"state").addSystem(pC,"shader").addSystem(bC,"texture").addSystem(RC,"buffer").addSystem(MP,"geometry").addSystem(IP,"framebuffer").addSystem(eC,"scissor").addSystem(tC,"stencil").addSystem(rC,"projection").addSystem(TC,"textureGC").addSystem(PP,"filter").addSystem(nC,"renderTexture").addSystem(CP,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,oT(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(aT())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=xe.HIGH?this.multisample=xe.HIGH:n>=xe.MEDIUM?this.multisample=xe.MEDIUM:n>=xe.LOW?this.multisample=xe.LOW:this.multisample=xe.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},e.prototype.render=function(r,n){var i,o,a,s;if(n&&(n instanceof Pn?(Bt("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],s=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var l=r.enableTempParent();r.updateTransform(),r.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={});var a=t.prototype.generateTexture.call(this,r,n,i,o);return this.framebuffer.blit(),a},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Bt("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){Bt("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),xr.add({name:r,type:he.RendererPlugin,ref:n})},e.__plugins={},e}(PC);xr.handleByMap(he.RendererPlugin,Qy.__plugins);function AC(t){return Qy.create(t)}var OC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,IC=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,MC=OC,Zy=IC,ef=function(){function t(){this.texArray=null,this.blend=0,this.type=Nt.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),tf=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),rf=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),NC=function(t){ce(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=On.for2d(),n.size=j.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;j.PREFER_ENV===yr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),j.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=zP(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new ef);for(;n.length<o;)n.push(new tf);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=e._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++ne._globalBatch,h=0,c=o[0],f=0;a.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==u&&(c.count>=i&&(a.boundArray(c,s,u,i),this.buildDrawCalls(c,f,d),f=d,c=o[++h],++u),p._batchEnabled=u,p.touched=l,c.elements[c.count++]=p)}c.count>0&&(a.boundArray(c,s,u,i),this.buildDrawCalls(c,f,this._bufferSize),++h,++u);for(var d=0;d<s.length;d++)s[d]=null;ne._globalBatch=u},e.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,s=o._attributeBuffer,l=o._indexBuffer,u=o.vertexSize,h=e._drawCallPool,c=this._dcIndex,f=this._aIndex,d=this._iIndex,p=h[c];p.start=this._iIndex,p.texArray=r;for(var v=n;v<i;++v){var _=a[v],m=_._texture.baseTexture,g=My[m.alphaMode?1:0][_.blendMode];a[v]=null,n<v&&p.blend!==g&&(p.size=d-p.start,n=v,p=h[++c],p.texArray=r,p.start=d),this.packInterleavedGeometry(_,s,l,f,d),f+=_.vertexData.length/2*u,d+=_.indices.length,p.blend=g}n<i&&(p.size=d-p.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=d},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;j.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=e._drawCallPool,s=null,l=0;l<r;l++){var u=a[l],h=u.texArray,c=u.type,f=u.size,d=u.start,p=u.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=p,o.set(this.state),i.drawElements(c,f,i.UNSIGNED_SHORT,d*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),j.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Us(Math.ceil(r/8)),i=Wp(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new rf(o*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(r){var n=Us(Math.ceil(r/12)),i=Wp(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},e.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var s=n.uint32View,l=n.float32View,u=o/this.vertexSize,h=r.uvs,c=r.indices,f=r.vertexData,d=r._texture.baseTexture._batchLocation,p=Math.min(r.worldAlpha,1),v=p<1&&r._texture.baseTexture.alphaMode?Cc(r._tintRGB,p):r._tintRGB+(p*255<<24),_=0;_<f.length;_+=2)l[o++]=f[_],l[o++]=f[_+1],l[o++]=h[_],l[o++]=h[_+1],s[o++]=v,l[o++]=d;for(var _=0;_<c.length;_++)i[a++]=u+c[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(gl),DC=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=yn.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new qo(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ge,default:this.defaultGroupCache[e]};return new jr(this.programCache[e],o)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),Jy=function(t){ce(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new ke(null,r,!1),n._indexBuffer=new ke(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,V.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,V.FLOAT).addAttribute("aColor",n._buffer,4,!0,V.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,V.FLOAT).addIndex(n._indexBuffer),n}return e}(Yo),lv=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,uv=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,FC=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:lv,fragment:uv,geometryClass:Jy,vertexSize:6},e),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return function(s){ce(l,s);function l(u){var h=s.call(this,u)||this;return h.shaderGenerator=new DC(n,i),h.geometryClass=a,h.vertexSize=o,h}return l}(NC)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return lv},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return uv},enumerable:!1,configurable:!0}),t}(),eg=FC.create();Object.assign(eg,{extension:{name:"batch",type:he.RendererPlugin}});/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LC={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Me.mixin(LC);var BC=9,Aa=100,kC=0,UC=0,hv=2,fv=1,GC=-1e3,jC=-1e3,HC=2,zC=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(qt.tablet||qt.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Aa+"px",r.style.height=Aa+"px",r.style.position="absolute",r.style.top=kC+"px",r.style.left=UC+"px",r.style.zIndex=hv.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=fv+"px",r.style.height=fv+"px",r.style.position="absolute",r.style.top=GC+"px",r.style.left=jC+"px",r.style.zIndex=HC.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(qt.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,o=r.width,a=r.height,s=this.renderer,l=s.width,u=s.height,h=s.resolution,c=o/l*h,f=a/u*h,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=l+"px",d.style.height=u+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,hi(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var _=v.hitArea,m=v.worldTransform;v.hitArea?(d.style.left=(m.tx+_.x*m.a)*c+"px",d.style.top=(m.ty+_.y*m.d)*f+"px",d.style.width=_.width*m.a*c+"px",d.style.height=_.height*m.d*f+"px"):(_=v.getBounds(),this.capHitArea(_),d.style.left=_.x*c+"px",d.style.top=_.y*f+"px",d.style.width=_.width*c+"px",d.style.height=_.height*f+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Aa+"px",r.style.height=Aa+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=hv.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===BC&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[he.RendererPlugin,he.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cv=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ye,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nf=function(t,e){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nf(t,e)};function XC(t,e){nf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var VC=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Au=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),WC=function(){function t(){this._tempPoint=new ye}return t.prototype.recursiveFindHit=function(e,r,n,i,o){var a;if(!r||!r.visible)return!1;var s=e.data.global;o=r.interactive||o;var l=!1,u=o,h=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(s,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,h=!1)),u=!1;else if(r._mask&&i){var c=r._mask.isMaskData?r._mask.maskObject:r._mask;c&&!(!((a=c.containsPoint)===null||a===void 0)&&a.call(c,s))&&(i=!1)}if(h&&r.interactiveChildren&&r.children)for(var f=r.children,d=f.length-1;d>=0;d--){var p=f[d],v=this.recursiveFindHit(e,p,n,i,u);if(v){if(!p.parent)continue;u=!1,v&&(e.target&&(i=!1),l=!0)}}return o&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(s)&&(l=!0),r.interactive&&(l&&!e.target&&(e.target=r),n&&n(e,r,!!l))),l},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),$C={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Me.mixin($C);var Oa=1,Ia={target:null,data:{global:null}},YC=function(t){XC(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new cv,i.mouse.identifier=Oa,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Oa]=i.mouse,i.interactionDataPool=[],i.eventData=new VC,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new WC,i._tempDisplayObject=new ky,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Ia.target=null,Ia.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Ia,n,null,!0),Ia.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||($e.system.add(this.tickerUpdate,this,gr.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&($e.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},e.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),s=this.delayedEvents;if(!s.length)return a;r.stopPropagationHint=!1;var l=s.length;this.delayedEvents=[];for(var u=0;u<l;u++){var h=s[u],c=h.displayObject,f=h.eventString,d=h.eventData;d.stopsPropagatingAt===c&&(d.stopPropagationHint=!0),this.dispatchEvent(c,f,d)}return a},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var s=n[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),s.pointerType==="touch")this.emit("touchstart",u);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new Au(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;s?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var o=this.normalizeToPointerData(r),a=o.length,s=r.target;r.composedPath&&r.composedPath().length>0&&(s=r.composedPath()[0]);for(var l=s!==this.interactionDOMElement?"outside":"",u=0;u<a;u++){var h=o[u],c=this.getInteractionDataForPointerId(h),f=this.configureInteractionEventForDOMEvent(this.eventData,h,c);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!l),this.emit(n?"pointercancel":"pointerup"+l,f),h.pointerType==="mouse"||h.pointerType==="pen"){var d=h.button===2;this.emit(d?"rightup"+l:"mouseup"+l,f)}else h.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,f),this.releaseInteractionDataForPointerId(h.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,s=n.trackedPointers[a],l=o.pointerType==="touch",u=o.pointerType==="mouse"||o.pointerType==="pen",h=!1;if(u){var c=o.button===2,f=Au.FLAGS,d=c?f.RIGHT_DOWN:f.LEFT_DOWN,p=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,c?"rightup":"mouseup",r),p&&(this.dispatchEvent(n,c?"rightclick":"click",r),h=!0)):p&&this.dispatchEvent(n,c?"rightupoutside":"mouseupoutside",r),s&&(c?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),l&&this.dispatchEvent(n,"touchend",r),s&&((!u||h)&&this.dispatchEvent(n,"pointertap",r),l&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),l&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[a]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],s=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,s);l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),a.pointerType==="touch"&&this.emit("touchmove",l),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",s=o.pointerType==="mouse"||o.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,s=o.pointerType==="mouse"||o.pointerType==="pen",l=n.trackedPointers[a];i&&!l&&(l=n.trackedPointers[a]=new Au(a)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),l.none&&delete n.trackedPointers[a]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Oa||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new cv,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button>"u"&&(a.button=r.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Oa),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[he.RendererPlugin,he.CanvasRendererPlugin]},e}(zo);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var qC=new ie,KC=4,QC=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this._rawPixels(e,r),i=n.pixels,o=n.width,a=n.height,s=n.flipY,l=new qp(o,a,1),u=l.context.getImageData(0,0,o,a);if(t.arrayPostDivide(i,u.data),l.context.putImageData(u,0,0),s){var h=new qp(l.width,l.height,1);h.context.scale(1,-1),h.context.drawImage(l.canvas,0,-a),l.destroy(),l=h}return l.canvas},t.prototype.pixels=function(e,r){var n=this._rawPixels(e,r).pixels;return t.arrayPostDivide(n,n),n},t.prototype._rawPixels=function(e,r){var n=this.renderer,i,o=!1,a,s=!1;if(e)if(e instanceof Pn)a=e;else{var l=n.context.webGLVersion>=2?n.multisample:xe.NONE;if(a=this.renderer.generateTexture(e,{multisample:l}),l!==xe.NONE){var u=Pn.create({width:a.width,height:a.height});n.framebuffer.bind(a.framebuffer),n.framebuffer.blit(u.framebuffer),n.framebuffer.bind(null),a.destroy(!0),a=u}s=!0}a?(i=a.baseTexture.resolution,r=r??a.frame,o=!1,n.renderTexture.bind(a)):(i=n.resolution,r||(r=qC,r.width=n.width,r.height=n.height),o=!0,n.renderTexture.bind(null));var h=Math.round(r.width*i),c=Math.round(r.height*i),f=new Uint8Array(KC*h*c),d=n.gl;return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),h,c,d.RGBA,d.UNSIGNED_BYTE,f),s&&a.destroy(!0),{pixels:f,width:h,height:c,flipY:o}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:he.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ma=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function dv(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var lr=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Ma))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return dv(this,new Ma(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return dv(this,new Ma(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Ma))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function tg(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,s,l){s&&(i[r.q.name][s]=l)}),i}var Ou,Na=null,ZC=0,pv=200,JC=204,eR=1223,tR=2;function vv(){}function mv(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function Iu(t){return t.toString().replace("object ","")}var Oe=function(){function t(e,r,n){if(this._dequeue=vv,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=vv,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new lr,this.onProgress=new lr,this.onComplete=new lr,this.onAfterMiddleware=new lr}return t.setExtensionLoadType=function(e,r){mv(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){mv(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof Ou>"u"&&(Ou=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),Ou&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(Iu(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(Iu(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(Iu(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?pv:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===ZC&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=pv:n===eR&&(n=JC);var i=n/100|0;if(i===tR)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Na||(Na=document.createElement("a")),Na.href=e;var n=tg(Na.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,o=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||o!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),o=e.indexOf("#"),a=Math.min(i>-1?i:e.length,o>-1?o:e.length);e=e.substring(0,a),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Oe||(Oe={}));function Zr(){}function rR(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var o=t;t=null,o.apply(this,n)}}var nR=function(){function t(e,r){this.data=e,this.callback=r}return t}(),Mu=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Zr,this.unsaturated=Zr,this.empty=Zr,this.drain=Zr,this.error=Zr,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new nR(i,typeof a=="function"?a:Zr);o?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,rR(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=Zr,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var o=0,a=e.length;function s(l){if(l||o===a){n&&n(l);return}i?setTimeout(function(){r(e[o++],s)},1):r(e[o++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),Nu=100,iR=/(#[\w-]+)?$/,zs=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return n._loadResource(l,u)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return n._loadResource(l,u)},this._queue=Mu.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new lr,this.onError=new lr,this.onLoad=new lr,this.onStart=new lr,this.onComplete=new lr;for(var i=0;i<t._plugins.length;++i){var o=t._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Oe(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1),u=l/(a.length+2);o.children.push(this.resources[e]),o.progressChunk=u;for(var s=0;s<a.length;++s)a[s].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(Bt("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=Nu/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=tg(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=iR.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,Mu.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,e,function(){o(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=Nu,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Mu.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(Nu,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return Bt("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),xr.add({type:he.Loader,ref:e}),t},t._plugins=[],t}();xr.handleByList(he.Loader,zs._plugins);zs.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;++o)this.add(e[o]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var oR=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?zs.shared:new zs},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=he.Application,t}(),aR=function(){function t(){}return t.add=function(){Oe.setExtensionLoadType("svg",Oe.LOAD_TYPE.XHR),Oe.setExtensionXhrType("svg",Oe.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Oe.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,o=e.name,a=e.metadata;K.fromLoader(n,i,o,a).then(function(s){e.texture=s,r()}).catch(r)}else r()},t.extension=he.Loader,t}(),sR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function lR(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=t.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(t.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)e+=sR.charAt(i[o])}return e}function uR(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Oe.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+lR(t.xhr.responseText),t.type=Oe.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Oe.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var hR=function(){function t(){}return t.extension=he.Loader,t.use=uR,t}();xr.add(aR,hR);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var se,Q;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Q||(Q={}));var Xs=(se={},se[Q.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,se[Q.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,se[Q.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,se[Q.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,se[Q.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,se[Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,se[Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,se[Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,se[Q.COMPRESSED_R11_EAC]=.5,se[Q.COMPRESSED_SIGNED_R11_EAC]=.5,se[Q.COMPRESSED_RG11_EAC]=1,se[Q.COMPRESSED_SIGNED_RG11_EAC]=1,se[Q.COMPRESSED_RGB8_ETC2]=.5,se[Q.COMPRESSED_RGBA8_ETC2_EAC]=1,se[Q.COMPRESSED_SRGB8_ETC2]=.5,se[Q.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,se[Q.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,se[Q.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,se[Q.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,se[Q.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,se[Q.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,se[Q.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,se[Q.COMPRESSED_RGB_ETC1_WEBGL]=.5,se[Q.COMPRESSED_RGB_ATC_WEBGL]=.5,se[Q.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,se[Q.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,se[Q.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,se);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var of=function(t,e){return of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},of(t,e)};function rg(t,e){of(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function fR(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(h){try{u(n.next(h))}catch(c){a(c)}}function l(h){try{u(n.throw(h))}catch(c){a(c)}}function u(h){h.done?o(h.value):i(h.value).then(s,l)}u((n=n.apply(t,e||[])).next())})}function cR(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(h){return l([u,h])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var dR=function(t){rg(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof r=="string"?(o=r,a=new Uint8Array):(o=null,a=r),i=t.call(this,a,n)||this,i.origin=o,i.buffer=a?new rf(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return fR(this,void 0,Promise,function(){var r,n,i;return cR(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new rf(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}($o),af=function(t){rg(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var o=r.gl,a=r.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,l=this.levels;s<l;s++){var u=this._levelBuffers[s],h=u.levelID,c=u.levelWidth,f=u.levelHeight,d=u.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,h,this.format,c,f,0,d)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,o,a,s,l){for(var u=new Array(i),h=r.byteOffset,c=s,f=l,d=c+o-1&~(o-1),p=f+a-1&~(a-1),v=d*p*Xs[n],_=0;_<i;_++)u[_]={levelID:_,levelWidth:i>1?c:d,levelHeight:i>1?f:p,levelBuffer:new Uint8Array(r.buffer,h,v)},h+=v,c=c>>1||1,f=f>>1||1,d=c+o-1&~(o-1),p=f+a-1&~(a-1),v=d*p*Xs[n];return u},e}(dR),pR=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Oe.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,s=void 0,l=0,u=o.length;l<u;l++){var h=o[l],c=h.src,f=h.format;if(f||(s=c),t.textureFormats[f]){a=c;break}}if(a=a||s,!a){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(a===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=Jn.resolve(e.url.replace(i.baseUrl,""),a),v=n.cacheID;i.add(v,p,d,function(_){if(_.error){r(_.error);return}var m=_.texture,g=m===void 0?null:m,y=_.textures,x=y===void 0?{}:y;Object.assign(e,{texture:g,textures:x}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=j.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=he.Loader,t}();function ng(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(o){return new K(new ne(o,Object.assign({mipmap:Ut.OFF,alphaMode:Gt.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(o,a){var s=o.baseTexture,l=t+"-"+(a+1);ne.addToCache(s,l),K.addToCache(o,l),a===0&&(ne.addToCache(s,t),K.addToCache(o,t),n.texture=o),n.textures[l]=o}),n}var Gi,Pt,Du=4,Da=124,vR=32,yv=20,mR=542327876,Fa={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},yR={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},La={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Rt;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Rt||(Rt={}));var sf;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(sf||(sf={}));var gR=1,_R=2,xR=4,ER=64,wR=512,TR=131072,SR=827611204,bR=861165636,PR=894720068,CR=808540228,RR=4,AR=(Gi={},Gi[SR]=Q.COMPRESSED_RGBA_S3TC_DXT1_EXT,Gi[bR]=Q.COMPRESSED_RGBA_S3TC_DXT3_EXT,Gi[PR]=Q.COMPRESSED_RGBA_S3TC_DXT5_EXT,Gi),OR=(Pt={},Pt[Rt.DXGI_FORMAT_BC1_TYPELESS]=Q.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pt[Rt.DXGI_FORMAT_BC1_UNORM]=Q.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pt[Rt.DXGI_FORMAT_BC2_TYPELESS]=Q.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pt[Rt.DXGI_FORMAT_BC2_UNORM]=Q.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pt[Rt.DXGI_FORMAT_BC3_TYPELESS]=Q.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pt[Rt.DXGI_FORMAT_BC3_UNORM]=Q.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pt[Rt.DXGI_FORMAT_BC1_UNORM_SRGB]=Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Pt[Rt.DXGI_FORMAT_BC2_UNORM_SRGB]=Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Pt[Rt.DXGI_FORMAT_BC3_UNORM_SRGB]=Q.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Pt);function IR(t){var e=new Uint32Array(t),r=e[0];if(r!==mR)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,Da/Uint32Array.BYTES_PER_ELEMENT),i=n[Fa.HEIGHT],o=n[Fa.WIDTH],a=n[Fa.MIPMAP_COUNT],s=new Uint32Array(t,Fa.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,vR/Uint32Array.BYTES_PER_ELEMENT),l=s[gR];if(l&xR){var u=s[yR.FOURCC];if(u!==CR){var h=AR[u],c=Du+Da,f=new Uint8Array(t,c),d=new af(f,{format:h,width:o,height:i,levels:a});return[d]}var p=Du+Da,v=new Uint32Array(e.buffer,p,yv/Uint32Array.BYTES_PER_ELEMENT),_=v[La.DXGI_FORMAT],m=v[La.RESOURCE_DIMENSION],g=v[La.MISC_FLAG],y=v[La.ARRAY_SIZE],x=OR[_];if(x===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+_);if(g===RR)throw new Error("DDSParser does not support cubemap textures");if(m===sf.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var E=new Array,w=Du+Da+yv;if(y===1)E.push(new Uint8Array(t,w));else{for(var T=Xs[x],R=0,A=o,b=i,O=0;O<a;O++){var F=Math.max(1,A+3&-4),G=Math.max(1,b+3&-4),X=F*G*T;R+=X,A=A>>>1,b=b>>>1}for(var L=w,O=0;O<y;O++)E.push(new Uint8Array(t,L,R)),L+=R}return E.map(function(U){return new af(U,{format:x,width:o,height:i,levels:a})})}throw l&ER?new Error("DDSParser does not support uncompressed texture data."):l&wR?new Error("DDSParser does not supported YUV uncompressed texture data."):l&TR?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&_R?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Tr,nr,ji,gv=[171,75,84,88,32,49,49,187,13,10,26,10],MR=67305985,Ct={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},lf=64,_v=(Tr={},Tr[V.UNSIGNED_BYTE]=1,Tr[V.UNSIGNED_SHORT]=2,Tr[V.INT]=4,Tr[V.UNSIGNED_INT]=4,Tr[V.FLOAT]=4,Tr[V.HALF_FLOAT]=8,Tr),NR=(nr={},nr[B.RGBA]=4,nr[B.RGB]=3,nr[B.RG]=2,nr[B.RED]=1,nr[B.LUMINANCE]=1,nr[B.LUMINANCE_ALPHA]=2,nr[B.ALPHA]=1,nr),DR=(ji={},ji[V.UNSIGNED_SHORT_4_4_4_4]=2,ji[V.UNSIGNED_SHORT_5_5_5_1]=2,ji[V.UNSIGNED_SHORT_5_6_5]=2,ji);function FR(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!LR(t,n))return null;var i=n.getUint32(Ct.ENDIANNESS,!0)===MR,o=n.getUint32(Ct.GL_TYPE,i),a=n.getUint32(Ct.GL_FORMAT,i),s=n.getUint32(Ct.GL_INTERNAL_FORMAT,i),l=n.getUint32(Ct.PIXEL_WIDTH,i),u=n.getUint32(Ct.PIXEL_HEIGHT,i)||1,h=n.getUint32(Ct.PIXEL_DEPTH,i)||1,c=n.getUint32(Ct.NUMBER_OF_ARRAY_ELEMENTS,i)||1,f=n.getUint32(Ct.NUMBER_OF_FACES,i),d=n.getUint32(Ct.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(Ct.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||h!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");var v=4,_=4,m=l+3&-4,g=u+3&-4,y=new Array(c),x=l*u;o===0&&(x=m*g);var E;if(o!==0?_v[o]?E=_v[o]*NR[a]:E=DR[o]:E=Xs[s],E===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var w=r?kR(n,p,i):null,T=x*E,R=T,A=l,b=u,O=m,F=g,G=lf+p,X=0;X<d;X++){for(var L=n.getUint32(G,i),U=G+4,$=0;$<c;$++){var D=y[$];D||(D=y[$]=new Array(d)),D[X]={levelID:X,levelWidth:d>1||o!==0?A:O,levelHeight:d>1||o!==0?b:F,levelBuffer:new Uint8Array(e,U,R)},U+=R}G+=L+4,G=G%4!==0?G+4-G%4:G,A=A>>1||1,b=b>>1||1,O=A+v-1&~(v-1),F=b+_-1&~(_-1),R=O*F*E}return o!==0?{uncompressed:y.map(function(k){var S=k[0].levelBuffer,C=!1;return o===V.FLOAT?S=new Float32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4):o===V.UNSIGNED_INT?(C=!0,S=new Uint32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4)):o===V.INT&&(C=!0,S=new Int32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4)),{resource:new $o(S,{width:k[0].levelWidth,height:k[0].levelHeight}),type:o,format:C?BR(a):a}}),kvData:w}:{compressed:y.map(function(k){return new af(null,{format:s,width:l,height:u,levels:d,levelBuffers:k})}),kvData:w}}function LR(t,e){for(var r=0;r<gv.length;r++)if(e.getUint8(r)!==gv[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function BR(t){switch(t){case B.RGBA:return B.RGBA_INTEGER;case B.RGB:return B.RGB_INTEGER;case B.RG:return B.RG_INTEGER;case B.RED:return B.RED_INTEGER;default:return t}}function kR(t,e,r){for(var n=new Map,i=0;i<e;){var o=t.getUint32(lf+i,r),a=lf+i+4,s=3-(o+3)%4;if(o===0||o>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&t.getUint8(a+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(t.buffer,a,l)),h=new DataView(t.buffer,a+l+1,o-l-1);n.set(u,h),i+=4+o+s}return n}Oe.setExtensionXhrType("dds",Oe.XHR_RESPONSE_TYPE.BUFFER);var UR=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,ng(e.name||e.url,IR(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=he.Loader,t}();Oe.setExtensionXhrType("ktx",Oe.XHR_RESPONSE_TYPE.BUFFER);var GR=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=FR(n,e.data,this.loadKeyValueData),o=i.compressed,a=i.uncompressed,s=i.kvData;if(o){var l=ng(n,o,e.metadata);if(s&&l.textures)for(var u in l.textures)l.textures[u].baseTexture.ktxKeyValueData=s;Object.assign(e,l)}else if(a){var h={};a.forEach(function(c,f){var d=new K(new ne(c.resource,{mipmap:Ut.OFF,alphaMode:Gt.NO_PREMULTIPLIED_ALPHA,type:c.type,format:c.format})),p=n+"-"+(f+1);s&&(d.baseTexture.ktxKeyValueData=s),ne.addToCache(d.baseTexture,p),K.addToCache(d,p),f===0&&(h[n]=d,ne.addToCache(d.baseTexture,n),K.addToCache(d,n)),h[p]=d}),Object.assign(e,{textures:h})}}catch(c){r(c);return}r()},t.extension=he.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uf=function(t,e){return uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uf(t,e)};function ig(t,e){uf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){ig(e,t);function e(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=t.call(this)||this,s=16384;return i>s&&(i=s),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=W.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Ei(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e})(er);var xv=function(){function t(e,r,n){this.geometry=new Yo,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var o=e[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||V.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new ke(Kb(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new ke(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ke(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===V.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===V.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(e,r,n,o.type===V.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(e,r,n,o.type===V.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),jR=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,HR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,zR=function(t){ig(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Ge,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:V.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=jr.from(HR,jR,{}),n.state=On.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var l=r._buffers;l||(l=r._buffers=this.generateBuffers(r));var u=n[0]._texture.baseTexture,h=u.alphaMode>0;this.state.blendMode=Ny(r.blendMode,h),a.state.set(this.state);var c=a.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=qb(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,h),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var d=!1,p=0,v=0;p<s;p+=o,v+=1){var _=s-p;_>o&&(_=o),v>=l.length&&l.push(this._generateOneMoreBuffer(r));var m=l[v];m.uploadDynamic(n,p,_);var g=r._bufferUpdateIDs[v]||0;d=d||m._updateID<g,d&&(m._updateID=r._updateID,m.uploadStatic(n,p,_)),a.geometry.bind(m.geometry),c.drawElements(c.TRIANGLES,_*6,c.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,s=0;s<i;s+=o)n.push(new xv(this.properties,a,o));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new xv(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,o,a,s){for(var l=0,u=0,h=0,c=0,f=0;f<i;++f){var d=r[n+f],p=d._texture,v=d.scale.x,_=d.scale.y,m=p.trim,g=p.orig;m?(u=m.x-d.anchor.x*g.width,l=u+m.width,c=m.y-d.anchor.y*g.height,h=c+m.height):(l=g.width*(1-d.anchor.x),u=g.width*-d.anchor.x,h=g.height*(1-d.anchor.y),c=g.height*-d.anchor.y),o[s]=u*v,o[s+1]=c*_,o[s+a]=l*v,o[s+a+1]=c*_,o[s+a*2]=l*v,o[s+a*2+1]=h*_,o[s+a*3]=u*v,o[s+a*3+1]=h*_,s+=a*4}},e.prototype.uploadPosition=function(r,n,i,o,a,s){for(var l=0;l<i;l++){var u=r[n+l].position;o[s]=u.x,o[s+1]=u.y,o[s+a]=u.x,o[s+a+1]=u.y,o[s+a*2]=u.x,o[s+a*2+1]=u.y,o[s+a*3]=u.x,o[s+a*3+1]=u.y,s+=a*4}},e.prototype.uploadRotation=function(r,n,i,o,a,s){for(var l=0;l<i;l++){var u=r[n+l].rotation;o[s]=u,o[s+a]=u,o[s+a*2]=u,o[s+a*3]=u,s+=a*4}},e.prototype.uploadUvs=function(r,n,i,o,a,s){for(var l=0;l<i;++l){var u=r[n+l]._texture._uvs;u?(o[s]=u.x0,o[s+1]=u.y0,o[s+a]=u.x1,o[s+a+1]=u.y1,o[s+a*2]=u.x2,o[s+a*2+1]=u.y2,o[s+a*3]=u.x3,o[s+a*3+1]=u.y3,s+=a*4):(o[s]=0,o[s+1]=0,o[s+a]=0,o[s+a+1]=0,o[s+a*2]=0,o[s+a*2+1]=0,o[s+a*3]=0,o[s+a*3+1]=0,s+=a*4)}},e.prototype.uploadTint=function(r,n,i,o,a,s){for(var l=0;l<i;++l){var u=r[n+l],h=u._texture.baseTexture.alphaMode>0,c=u.alpha,f=c<1&&h?Cc(u._tintRGB,c):u._tintRGB+(c*255<<24);o[s]=f,o[s+a]=f,o[s+a*2]=f,o[s+a*3]=f,s+=a*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:he.RendererPlugin},e}(gl);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ur;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(ur||(ur={}));var Mr;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Mr||(Mr={}));var Do={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},og=function(){function t(){this.color=16777215,this.alpha=1,this.texture=K.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=K.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hf=function(t,e){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hf(t,e)};function Oc(t,e){hf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ev(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var o=0,a=0,s=t[i-2],l=t[i-1];a<i;a+=2){var u=t[a],h=t[a+1];o+=(u-s)*(h+l),s=u,l=h}if(!e&&o>0||e&&o<=0)for(var c=i/2,a=c+c%2;a<i;a+=2){var f=i-a-2,d=i-a-1,p=a,v=a+1;r=[t[p],t[f]],t[f]=r[0],t[p]=r[1],n=[t[v],t[d]],t[d]=n[0],t[v]=n[1]}}}var ag={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,o=e.indices;if(r.length>=6){Ev(r,!1);for(var a=[],s=0;s<n.length;s++){var l=n[s];Ev(l.points,!0),a.push(r.length/2),r=r.concat(l.points)}var u=iy(r,a,2);if(!u)return;for(var h=i.length/2,s=0;s<u.length;s+=3)o.push(u[s]+h),o.push(u[s+1]+h),o.push(u[s+2]+h);for(var s=0;s<r.length;s++)i.push(r[s])}}},Vs={build:function(t){var e=t.points,r,n,i,o,a,s;if(t.type===ze.CIRC){var l=t.shape;r=l.x,n=l.y,a=s=l.radius,i=o=0}else if(t.type===ze.ELIP){var u=t.shape;r=u.x,n=u.y,a=u.width,s=u.height,i=o=0}else{var h=t.shape,c=h.width/2,f=h.height/2;r=h.x+c,n=h.y+f,a=s=Math.max(0,Math.min(h.radius,Math.min(c,f))),i=c-a,o=f-s}if(!(a>=0&&s>=0&&i>=0&&o>=0)){e.length=0;return}var d=Math.ceil(2.3*Math.sqrt(a+s)),p=d*8+(i?4:0)+(o?4:0);if(e.length=p,p!==0){if(d===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+o,e[2]=e[4]=r-i,e[5]=e[7]=n-o;return}var v=0,_=d*4+(i?2:0)+2,m=_,g=p;{var y=i+a,x=o,E=r+y,w=r-y,T=n+x;if(e[v++]=E,e[v++]=T,e[--_]=T,e[--_]=w,o){var R=n-x;e[m++]=w,e[m++]=R,e[--g]=R,e[--g]=E}}for(var A=1;A<d;A++){var b=Math.PI/2*(A/d),y=i+Math.cos(b)*a,x=o+Math.sin(b)*s,E=r+y,w=r-y,T=n+x,R=n-x;e[v++]=E,e[v++]=T,e[--_]=T,e[--_]=w,e[m++]=w,e[m++]=R,e[--g]=R,e[--g]=E}{var y=i,x=o+s,E=r+y,w=r-y,T=n+x,R=n-x;e[v++]=E,e[v++]=T,e[--g]=R,e[--g]=E,i&&(e[v++]=w,e[v++]=T,e[--g]=R,e[--g]=w)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var o=n.length/2,a=o,s,l;if(t.type!==ze.RREC){var u=t.shape;s=u.x,l=u.y}else{var h=t.shape;s=h.x+h.width/2,l=h.y+h.height/2}var c=t.matrix;n.push(t.matrix?c.a*s+c.c*l+c.tx:s,t.matrix?c.b*s+c.d*l+c.ty:l),o++,n.push(r[0],r[1]);for(var f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(o++,a,o);i.push(a+1,a,o)}}},XR={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Bn(t,e,r){var n=e-t;return t+n*r}function Ba(t,e,r,n,i,o,a){a===void 0&&(a=[]);for(var s=20,l=a,u=0,h=0,c=0,f=0,d=0,p=0,v=0,_=0;v<=s;++v)_=v/s,u=Bn(t,r,_),h=Bn(e,n,_),c=Bn(r,i,_),f=Bn(n,o,_),d=Bn(u,c,_),p=Bn(h,f,_),!(v===0&&l[l.length-2]===d&&l[l.length-1]===p)&&l.push(d,p);return l}var VR={build:function(t){if(Ws.nextRoundedRectBehavior){Vs.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,a=e.height,s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));r.length=0,s?(Ba(n,i+s,n,i,n+s,i,r),Ba(n+o-s,i,n+o,i,n+o,i+s,r),Ba(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),Ba(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(t,e){if(Ws.nextRoundedRectBehavior){Vs.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=iy(r,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var s=0,l=r.length;s<l;s++)n.push(r[s],r[++s])}};function wv(t,e,r,n,i,o,a,s){var l=t-r*i,u=e-n*i,h=t+r*o,c=e+n*o,f,d;a?(f=n,d=-r):(f=-n,d=r);var p=l+f,v=u+d,_=h+f,m=c+d;return s.push(p,v),s.push(_,m),2}function Jr(t,e,r,n,i,o,a,s){var l=r-t,u=n-e,h=Math.atan2(l,u),c=Math.atan2(i-t,o-e);s&&h<c?h+=Math.PI*2:!s&&h>c&&(c+=Math.PI*2);var f=h,d=c-h,p=Math.abs(d),v=Math.sqrt(l*l+u*u),_=(15*p*Math.sqrt(v)/Math.PI>>0)+1,m=d/_;if(f+=m,s){a.push(t,e),a.push(r,n);for(var g=1,y=f;g<_;g++,y+=m)a.push(t,e),a.push(t+Math.sin(y)*v,e+Math.cos(y)*v);a.push(t,e),a.push(i,o)}else{a.push(r,n),a.push(t,e);for(var g=1,y=f;g<_;g++,y+=m)a.push(t+Math.sin(y)*v,e+Math.cos(y)*v),a.push(t,e);a.push(i,o),a.push(t,e)}return _*2}function WR(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var o=t.lineStyle,a=new ye(n[0],n[1]),s=new ye(n[n.length-2],n[n.length-1]),l=r.type!==ze.POLY||r.closeStroke,u=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var h=(a.x+s.x)*.5,c=(s.y+a.y)*.5;n.unshift(h,c),n.push(h,c)}var f=e.points,d=n.length/2,p=n.length,v=f.length/2,_=o.width/2,m=_*_,g=o.miterLimit*o.miterLimit,y=n[0],x=n[1],E=n[2],w=n[3],T=0,R=0,A=-(x-w),b=y-E,O=0,F=0,G=Math.sqrt(A*A+b*b);A/=G,b/=G,A*=_,b*=_;var X=o.alignment,L=(1-X)*2,U=X*2;l||(o.cap===Mr.ROUND?p+=Jr(y-A*(L-U)*.5,x-b*(L-U)*.5,y-A*L,x-b*L,y+A*U,x+b*U,f,!0)+2:o.cap===Mr.SQUARE&&(p+=wv(y,x,A,b,L,U,!0,f))),f.push(y-A*L,x-b*L),f.push(y+A*U,x+b*U);for(var $=1;$<d-1;++$){y=n[($-1)*2],x=n[($-1)*2+1],E=n[$*2],w=n[$*2+1],T=n[($+1)*2],R=n[($+1)*2+1],A=-(x-w),b=y-E,G=Math.sqrt(A*A+b*b),A/=G,b/=G,A*=_,b*=_,O=-(w-R),F=E-T,G=Math.sqrt(O*O+F*F),O/=G,F/=G,O*=_,F*=_;var D=E-y,k=x-w,S=E-T,C=R-w,I=D*S+k*C,Y=k*S-C*D,M=Y<0;if(Math.abs(Y)<.001*Math.abs(I)){f.push(E-A*L,w-b*L),f.push(E+A*U,w+b*U),I>=0&&(o.join===ur.ROUND?p+=Jr(E,w,E-A*L,w-b*L,E-O*L,w-F*L,f,!1)+4:p+=2,f.push(E-O*U,w-F*U),f.push(E+O*L,w+F*L));continue}var q=(-A+y)*(-b+w)-(-A+E)*(-b+x),Z=(-O+T)*(-F+w)-(-O+E)*(-F+R),te=(D*Z-S*q)/Y,Ne=(C*q-k*Z)/Y,ge=(te-E)*(te-E)+(Ne-w)*(Ne-w),de=E+(te-E)*L,ue=w+(Ne-w)*L,pe=E-(te-E)*U,_e=w-(Ne-w)*U,re=Math.min(D*D+k*k,S*S+C*C),et=M?L:U,at=re+et*et*m,ae=ge<=at;ae?o.join===ur.BEVEL||ge/m>g?(M?(f.push(de,ue),f.push(E+A*U,w+b*U),f.push(de,ue),f.push(E+O*U,w+F*U)):(f.push(E-A*L,w-b*L),f.push(pe,_e),f.push(E-O*L,w-F*L),f.push(pe,_e)),p+=2):o.join===ur.ROUND?M?(f.push(de,ue),f.push(E+A*U,w+b*U),p+=Jr(E,w,E+A*U,w+b*U,E+O*U,w+F*U,f,!0)+4,f.push(de,ue),f.push(E+O*U,w+F*U)):(f.push(E-A*L,w-b*L),f.push(pe,_e),p+=Jr(E,w,E-A*L,w-b*L,E-O*L,w-F*L,f,!1)+4,f.push(E-O*L,w-F*L),f.push(pe,_e)):(f.push(de,ue),f.push(pe,_e)):(f.push(E-A*L,w-b*L),f.push(E+A*U,w+b*U),o.join===ur.ROUND?M?p+=Jr(E,w,E+A*U,w+b*U,E+O*U,w+F*U,f,!0)+2:p+=Jr(E,w,E-A*L,w-b*L,E-O*L,w-F*L,f,!1)+2:o.join===ur.MITER&&ge/m<=g&&(M?(f.push(pe,_e),f.push(pe,_e)):(f.push(de,ue),f.push(de,ue)),p+=2),f.push(E-O*L,w-F*L),f.push(E+O*U,w+F*U),p+=2)}y=n[(d-2)*2],x=n[(d-2)*2+1],E=n[(d-1)*2],w=n[(d-1)*2+1],A=-(x-w),b=y-E,G=Math.sqrt(A*A+b*b),A/=G,b/=G,A*=_,b*=_,f.push(E-A*L,w-b*L),f.push(E+A*U,w+b*U),l||(o.cap===Mr.ROUND?p+=Jr(E-A*(L-U)*.5,w-b*(L-U)*.5,E-A*L,w-b*L,E+A*U,w+b*U,f,!1)+2:o.cap===Mr.SQUARE&&(p+=wv(E,w,A,b,L,U,!1,f)));for(var jt=e.indices,In=Do.epsilon*Do.epsilon,$=v;$<p+v-2;++$)y=f[$*2],x=f[$*2+1],E=f[($+1)*2],w=f[($+1)*2+1],T=f[($+2)*2],R=f[($+2)*2+1],!(Math.abs(y*(w-R)+E*(R-x)+T*(x-w))<In)&&jt.push($,$+1,$+2)}}function $R(t,e){var r=0,n=t.shape,i=t.points||n.points,o=n.type!==ze.POLY||n.closeStroke;if(i.length!==0){var a=e.points,s=e.indices,l=i.length/2,u=a.length/2,h=u;for(a.push(i[0],i[1]),r=1;r<l;r++)a.push(i[r*2],i[r*2+1]),s.push(h,h+1),h++;o&&s.push(h,u)}}function Tv(t,e){t.lineStyle.native?$R(t,e):WR(t,e)}var Sv=function(){function t(){}return t.curveTo=function(e,r,n,i,o,a){var s=a[a.length-2],l=a[a.length-1],u=l-r,h=s-e,c=i-r,f=n-e,d=Math.abs(u*f-h*c);if(d<1e-8||o===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;var p=u*u+h*h,v=c*c+f*f,_=u*c+h*f,m=o*Math.sqrt(p)/d,g=o*Math.sqrt(v)/d,y=m*_/p,x=g*_/v,E=m*f+g*h,w=m*c+g*u,T=h*(g+y),R=u*(g+y),A=f*(m+x),b=c*(m+x),O=Math.atan2(R-w,T-E),F=Math.atan2(b-w,A-E);return{cx:E+e,cy:w+r,radius:o,startAngle:O,endAngle:F,anticlockwise:h*c>f*u}},t.arc=function(e,r,n,i,o,a,s,l,u){for(var h=s-a,c=Do._segmentsCount(Math.abs(h)*o,Math.ceil(Math.abs(h)/js)*40),f=h/(c*2),d=f*2,p=Math.cos(f),v=Math.sin(f),_=c-1,m=_%1/_,g=0;g<=_;++g){var y=g+m*g,x=f+a+d*y,E=Math.cos(x),w=-Math.sin(x);u.push((p*E+v*w)*o+n,(p*-w+v*E)*o+i)}},t}(),YR=function(){function t(){}return t.curveLength=function(e,r,n,i,o,a,s,l){for(var u=10,h=0,c=0,f=0,d=0,p=0,v=0,_=0,m=0,g=0,y=0,x=0,E=e,w=r,T=1;T<=u;++T)c=T/u,f=c*c,d=f*c,p=1-c,v=p*p,_=v*p,m=_*e+3*v*c*n+3*p*f*o+d*s,g=_*r+3*v*c*i+3*p*f*a+d*l,y=E-m,x=w-g,E=m,w=g,h+=Math.sqrt(y*y+x*x);return h},t.curveTo=function(e,r,n,i,o,a,s){var l=s[s.length-2],u=s[s.length-1];s.length-=2;var h=Do._segmentsCount(t.curveLength(l,u,e,r,n,i,o,a)),c=0,f=0,d=0,p=0,v=0;s.push(l,u);for(var _=1,m=0;_<=h;++_)m=_/h,c=1-m,f=c*c,d=f*c,p=m*m,v=p*m,s.push(d*l+3*f*m*e+3*c*p*n+v*o,d*u+3*f*m*r+3*c*p*i+v*a)},t}(),qR=function(){function t(){}return t.curveLength=function(e,r,n,i,o,a){var s=e-2*n+o,l=r-2*i+a,u=2*n-2*e,h=2*i-2*r,c=4*(s*s+l*l),f=4*(s*u+l*h),d=u*u+h*h,p=2*Math.sqrt(c+f+d),v=Math.sqrt(c),_=2*c*v,m=2*Math.sqrt(d),g=f/v;return(_*p+v*f*(p-m)+(4*d*c-f*f)*Math.log((2*v+g+p)/(g+m)))/(4*_)},t.curveTo=function(e,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],l=Do._segmentsCount(t.curveLength(a,s,e,r,n,i)),u=0,h=0,c=1;c<=l;++c){var f=c/l;u=a+(e-a)*f,h=s+(r-s)*f,o.push(u+(e+(n-e)*f-u)*f,h+(r+(i-r)*f-h)*f)}},t}(),KR=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),en,Fu=(en={},en[ze.POLY]=ag,en[ze.CIRC]=Vs,en[ze.ELIP]=Vs,en[ze.RECT]=XR,en[ze.RREC]=VR,en),bv=[],ka=[],Pv=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),kn=new ye,QR=function(t){Oc(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Hs,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),ka.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),bv.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new Pv(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new Pv(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,kn):kn.copyFrom(r),o.shape.contains(kn.x,kn.y))){var a=!1;if(o.holes)for(var s=0;s<o.holes.length;s++){var l=o.holes[s];if(l.shape.contains(kn.x,kn.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,o=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],o=i.style);for(var a=this.shapeIndex;a<n.length;a++){this.shapeIndex++;var s=n[a],l=s.fillStyle,u=s.lineStyle,h=Fu[s.type];h.build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(l.visible||u.visible)&&this.processHoles(s.holes);for(var c=0;c<2;c++){var f=c===0?l:u;if(f.visible){var d=f.texture.baseTexture,p=this.indices.length,v=this.points.length/2;d.wrapMode=Zt.REPEAT,c===0?this.processFill(s):this.processLine(s);var _=this.points.length/2-v;_!==0&&(i&&!this._compareStyles(o,f)&&(i.end(p,v),i=null),i||(i=bv.pop()||new KR,i.begin(f,p,v),this.batches.push(i),o=f),this.addUvs(this.points,r,f.texture,v,_,f.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(i&&i.end(m,g),this.batches.length===0){this.batchable=!0;return}var y=g>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&y===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var s=o.start+a;this.indicesUint16[s]=this.indicesUint16[s]-o.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++ne._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),ka.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=ka.pop();a||(a=new ef,a.texArray=new tf),a.texArray.count=0,a.start=0,a.size=0,a.type=Nt.TRIANGLES;var s=0,l=null,u=0,h=!1,c=Nt.TRIANGLES,f=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,v=d.style,_=v.texture.baseTexture;h!==!!v.native&&(h=!!v.native,c=h?Nt.LINES:Nt.TRIANGLES,l=null,s=p,r++),l!==_&&(l=_,_._batchEnabled!==r&&(s===p&&(r++,s=0,a.size>0&&(a=ka.pop(),a||(a=new ef,a.texArray=new tf),this.drawCalls.push(a)),a.start=f,a.size=0,a.texArray.count=0,a.type=c),_.touched=1,_._batchEnabled=r,_._batchLocation=s,_.wrapMode=Zt.REPEAT,a.texArray.elements[a.texArray.count++]=_,s++)),a.size+=d.size,f+=d.size,u=_._batchLocation,this.addColors(i,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(o,u,d.attribSize,d.attribStart)}ne._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),s=new Float32Array(a),l=new Uint32Array(a),u=0,h=0;h<r.length/2;h++)s[u++]=r[h*2],s[u++]=r[h*2+1],s[u++]=n[h*2],s[u++]=n[h*2+1],l[u++]=i[h],s[u++]=o[h];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)ag.triangulate(r,this);else{var n=Fu[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){Tv(r,this);for(var n=0;n<r.holes.length;n++)Tv(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=Fu[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},e.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var s=(n>>16)+(n&65280)+((n&255)<<16),l=Cc(s,i);r.length=Math.max(r.length,a+o);for(var u=0;u<o;u++)r[a+u]=l},e.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},e.prototype.addUvs=function(r,n,i,o,a,s){s===void 0&&(s=null);for(var l=0,u=n.length,h=i.frame;l<a;){var c=r[(o+l)*2],f=r[(o+l)*2+1];if(s){var d=s.a*c+s.c*f+s.tx;f=s.b*c+s.d*f+s.ty,c=d}l++,n.push(c/h.width,f/h.height)}var p=i.baseTexture;(h.width<p.width||h.height<p.height)&&this.adjustUvs(n,i,u,a)},e.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,s=1e-6,l=i+o*2,u=n.frame,h=u.width/a.width,c=u.height/a.height,f=u.x/u.width,d=u.y/u.height,p=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),_=i+2;_<l;_+=2)p=Math.min(p,Math.floor(r[_]+s)),v=Math.min(v,Math.floor(r[_+1]+s));f-=p,d-=v;for(var _=i;_<l;_+=2)r[_]=(r[_]+f)*h,r[_+1]=(r[_+1]+d)*c},e.BATCHABLE_SIZE=100,e}(Jy),ZR=function(t){Oc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Mr.BUTT,r.join=ur.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(og),JR=new Float32Array(3),Lu={},Ws=function(t){Oc(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new og,n._lineStyle=new ZR,n._matrix=null,n._holeMode=!1,n.state=On.for2d(),n._geometry=r||new QR,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=W.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,o,a){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:K.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Mr.BUTT,join:ur.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new ns,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new ns,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),qR.curveTo(r,n,i,o,a),this},e.prototype.bezierCurveTo=function(r,n,i,o,a,s){return this._initCurve(),YR.curveTo(r,n,i,o,a,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var s=this.currentPath.points,l=Sv.curveTo(r,n,i,o,a,s);if(l){var u=l.cx,h=l.cy,c=l.radius,f=l.startAngle,d=l.endAngle,p=l.anticlockwise;this.arc(u,h,c,f,d,p)}return this},e.prototype.arc=function(r,n,i,o,a,s){if(s===void 0&&(s=!1),o===a)return this;!s&&a<=o?a+=js:s&&o<=a&&(o+=js);var l=a-o;if(l===0)return this;var u=r+Math.cos(o)*i,h=n+Math.sin(o)*i,c=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var d=Math.abs(f[f.length-2]-u),p=Math.abs(f[f.length-1]-h);d<c&&p<c||f.push(u,h)}else this.moveTo(u,h),f=this.currentPath.points;return Sv.arc(u,h,r,n,i,o,a,s,f),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:K.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:K.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,o){return this.drawShape(new ie(r,n,i,o))},e.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new iP(r,n,i,o,a))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new rP(r,n,i))},e.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new nP(r,n,i,o))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,s=n[0];s.points?(a=s.closeStroke,o=s.points):Array.isArray(n[0])?o=n[0]:o=n;var l=new ns(o);return l.closeStroke=a,this.drawShape(l),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===ze.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],s=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),u=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),h=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),c={vertexData:l,blendMode:n,indices:h,uvs:u,_batchRGB:Ei(s),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=c}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,s=n.uniforms,l=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(o>>16&255)/255*a,s.tint[1]=(o>>8&255)/255*a,s.tint[2]=(o&255)/255*a,s.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var u=0,h=l.length;u<h;u++)this._renderDrawCallDirect(r,i.drawCalls[u])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,s=n.start,l=i.count,u=0;u<l;u++)r.texture.bind(i.elements[u],u);r.geometry.draw(o,a,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Lu[i]){for(var o=r.plugins[i].MAX_TEXTURES,a=new Int32Array(o),s=0;s<o;s++)a[s]=s;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ge,default:yn.from({uSamplers:a},!0)},u=r.plugins[i]._shader.program;Lu[i]=new jr(u,l)}n=Lu[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,o,a,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Ei(this.tint,JR),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,s=r[1]*o[1]*255,l=r[2]*o[2]*255,u=(a<<16)+(s<<8)+(l|0);i._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,l=n.tx,u=n.ty,h=this._geometry.points,c=this.vertexData,f=0,d=0;d<h.length;d+=2){var p=h[d],v=h[d+1];c[f++]=i*p+a*v+l,c[f++]=s*v+o*p+u}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new ye,e}(er);/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ff=function(t,e){return ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ff(t,e)};function eA(t,e){ff(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Hi=new ye,tA=new Uint16Array([0,1,2,0,2,3]),Ko=function(t){eA(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new ti(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=W.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||K.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=tA,n.pluginName="batch",n.isSprite=!0,n._roundPixels=j.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ei(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ei(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,l=n.tx,u=n.ty,h=this.vertexData,c=r.trim,f=r.orig,d=this._anchor,p=0,v=0,_=0,m=0;if(c?(v=c.x-d._x*f.width,p=v+c.width,m=c.y-d._y*f.height,_=m+c.height):(v=-d._x*f.width,p=v+f.width,m=-d._y*f.height,_=m+f.height),h[0]=i*v+a*m+l,h[1]=s*m+o*v+u,h[2]=i*p+a*m+l,h[3]=s*m+o*p+u,h[4]=i*p+a*_+l,h[5]=s*_+o*p+u,h[6]=i*v+a*_+l,h[7]=s*_+o*v+u,this._roundPixels)for(var g=j.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,s=a.a,l=a.b,u=a.c,h=a.d,c=a.tx,f=a.ty,d=-o._x*i.width,p=d+i.width,v=-o._y*i.height,_=v+i.height;n[0]=s*d+u*v+c,n[1]=h*v+l*d+f,n[2]=s*p+u*v+c,n[3]=h*v+l*p+f,n[4]=s*p+u*_+c,n[5]=h*_+l*p+f,n[6]=s*d+u*_+c,n[7]=h*_+l*d+f},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Hs),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ie),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Hi);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return Hi.x>=o&&Hi.x<o+n&&(a=-i*this.anchor.y,Hi.y>=a&&Hi.y<a+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof K?r:K.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=ei(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=ei(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||K.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(er);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cf=function(t,e){return cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cf(t,e)};function rA(t,e){cf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fo;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Fo||(Fo={}));var Bu={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Fo.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},nA=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],wi=function(){function t(e){this.styleID=0,this.reset(),Uu(this,e,e)}return t.prototype.clone=function(){var e={};return Uu(e,this,Bu),new t(e)},t.prototype.reset=function(){Uu(this,Bu,Bu)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=ku(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=ku(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){iA(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=ku(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&nA.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function Cv(t){return typeof t=="number"?Oy(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function ku(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Cv(t[e]);return t}else return Cv(t)}function iA(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Uu(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Ua={willReadFrequently:!0},tr=function(){function t(e,r,n,i,o,a,s,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=l,this.fontProperties=u}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var o=r.toFontString(),a=t.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d",Ua);s.font=o;for(var l=n?t.wordWrap(e,r,i):e,u=l.split(/(?:\r\n|\r|\n)/),h=new Array(u.length),c=0,f=0;f<u.length;f++){var d=s.measureText(u[f]).width+(u[f].length-1)*r.letterSpacing;h[f]=d,c=Math.max(c,d)}var p=c+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||a.fontSize+r.strokeThickness,_=Math.max(v,a.fontSize+r.strokeThickness)+(u.length-1)*(v+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,p,_,u,h,v+r.leading,c,a)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",Ua),o=0,a="",s="",l=Object.create(null),u=r.letterSpacing,h=r.whiteSpace,c=t.collapseSpaces(h),f=t.collapseNewlines(h),d=!c,p=r.wordWrapWidth+u,v=t.tokenize(e),_=0;_<v.length;_++){var m=v[_];if(t.isNewline(m)){if(!f){s+=t.addLine(a),d=!c,a="",o=0;continue}m=" "}if(c){var g=t.isBreakingSpace(m),y=t.isBreakingSpace(a[a.length-1]);if(g&&y)continue}var x=t.getFromCache(m,u,l,i);if(x>p)if(a!==""&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(m,r.breakWords))for(var E=t.wordWrapSplit(m),w=0;w<E.length;w++){for(var T=E[w],R=1;E[w+R];){var A=E[w+R],b=T[T.length-1];if(!t.canBreakChars(b,A,m,w,r.breakWords))T+=A;else break;R++}w+=T.length-1;var O=t.getFromCache(T,u,l,i);O+o>p&&(s+=t.addLine(a),d=!1,a="",o=0),a+=T,o+=O}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var F=_===v.length-1;s+=t.addLine(m,!F),d=!1,a="",o=0}else x+o>p&&(d=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(m)||d)&&(a+=m,o+=x)}return s+=t.addLine(a,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var o=n[e];if(typeof o!="number"){var a=e.length*r;o=i.measureText(e).width+a,n[e]=o}return o},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var o=e[i],a=e[i+1];if(t.isBreakingSpace(o,a)||t.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,o){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),l=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=a,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a,l).data,h=u.length,c=a*4,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<c;v+=4)if(u[d+v]!==255){p=!0;break}if(!p)d+=c;else break}for(r.ascent=s-f,d=h-c,p=!1,f=l;f>s;--f){for(var v=0;v<c;v+=4)if(u[d+v]!==255){p=!0;break}if(!p)d-=c;else break}return r.descent=f-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",Ua);if(n&&n.measureText)return t.__canvas=r,r;e=j.ADAPTER.createCanvas()}catch{e=j.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",Ua)),t.__context},enumerable:!1,configurable:!0}),t}();tr._fonts={};tr.METRICS_STRING="|q";tr.BASELINE_SYMBOL="M";tr.BASELINE_MULTIPLIER=1.4;tr.HEIGHT_MULTIPLIER=2;tr._newlines=[10,13];tr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var oA={texture:!0,children:!1,baseTexture:!0},sg=function(t){rA(e,t);function e(r,n,i){var o=this,a=!1;i||(i=j.ADAPTER.createCanvas(),a=!0),i.width=3,i.height=3;var s=K.from(i);return s.orig=new ie,s.trim=new ie,o=t.call(this,s)||this,o._ownCanvas=a,o.canvas=i,o.context=i.getContext("2d",{willReadFrequently:!0}),o._resolution=j.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=tr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,l=o.lines,u=o.lineHeight,h=o.lineWidths,c=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,v=n.dropShadow?2:1,_=0;_<v;++_){var m=n.dropShadow&&_===0,g=m?Math.ceil(Math.max(1,s)+n.padding*2):0,y=g*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,E=Ei(typeof x=="number"?x:Iy(x)),w=n.dropShadowBlur*this._resolution,T=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+E[0]*255+","+E[1]*255+","+E[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=w,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*T,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*T+y}else i.fillStyle=this._generateFillStyle(n,l,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var R=(u-f.fontSize)/2;(!e.nextLineHeightBehavior||u-f.fontSize<0)&&(R=0);for(var A=0;A<l.length;A++)d=n.strokeThickness/2,p=n.strokeThickness/2+A*u+f.ascent+R,n.align==="right"?d+=c-h[A]:n.align==="center"&&(d+=(c-h[A])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[A],d+n.padding,p+n.padding-g,!0),n.fill&&this.drawLetterSpacing(l[A],d+n.padding,p+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,s=a.letterSpacing,l=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||l){l&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var u=n,h=Array.from?Array.from(r):r.split(""),c=this.context.measureText(r).width,f=0,d=0;d<h.length;++d){var p=h[d];o?this.context.strokeText(p,u,i):this.context.fillText(p,u,i);for(var v="",_=d+1;_<h.length;++_)v+=h[_];f=this.context.measureText(v).width,u+=c-f+s,c=f}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=Zb(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,s=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=this.canvas.width/this._resolution-s-l*2,h=this.canvas.height/this._resolution-s-l*2,c=o.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var d=c.length+1,p=1;p<d;++p)f.push(p/d);if(c.unshift(o[0]),f.unshift(0),c.push(o[o.length-1]),f.push(1),r.fillGradientType===Fo.LINEAR_VERTICAL){a=this.context.createLinearGradient(u/2,l,u/2,h+l);for(var v=i.fontProperties.fontSize+r.strokeThickness,p=0;p<n.length;p++){var _=i.lineHeight*(p-1)+v,m=i.lineHeight*p,g=m;p>0&&_>m&&(g=(m+_)/2);var y=m+v,x=i.lineHeight*(p+1),E=y;p+1<n.length&&x<y&&(E=(y+x)/2);for(var w=(E-g)/h,T=0;T<c.length;T++){var R=0;typeof f[T]=="number"?R=f[T]:R=T/c.length;var A=Math.min(1,Math.max(0,g/h+R*w));A=Number(A.toFixed(5)),a.addColorStop(A,c[T])}}}else{a=this.context.createLinearGradient(l,h/2,u+l,h/2);for(var b=c.length+1,O=1,p=0;p<c.length;p++){var F=void 0;typeof f[p]=="number"?F=f[p]:F=O/b,a.addColorStop(F,c[p]),O++}}return a},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},oA,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=ei(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=ei(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof wi?this._style=r:this._style=new wi(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Ko);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */j.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var df=function(t,e){return df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},df(t,e)};function aA(t,e){df(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sA=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function lA(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof K){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function uA(t,e){if(t.baseTexture instanceof ne){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function hA(t,e){if(t._texture&&t._texture instanceof K){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function fA(t,e){return e instanceof sg?(e.updateText(!0),!0):!1}function cA(t,e){if(e instanceof wi){var r=e.toFontString();return tr.measureFont(r),!0}return!1}function dA(t,e){if(t instanceof sg){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function pA(t,e){return t instanceof wi?(e.indexOf(t)===-1&&e.push(t),!0):!1}var vA=function(){function t(e){var r=this;this.limiter=new sA(j.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(dA),this.registerFindHook(pA),this.registerFindHook(lA),this.registerFindHook(uA),this.registerFindHook(hA),this.registerUploadHook(fA),this.registerUploadHook(cA)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&Bt("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var o=function(){r==null||r(),i()};n.queue.length?(n.completes.push(o),n.ticking||(n.ticking=!0,$e.system.addOnce(n.tick,n,gr.UTILITY))):o()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)$e.system.addOnce(this.tick,this,gr.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof er)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&$e.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function lg(t,e){return e instanceof ne?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function mA(t,e){if(!(e instanceof Ws))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&lg(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function yA(t,e){return t instanceof Ws?(e.push(t),!0):!1}var gA=function(t){aA(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(yA),n.registerUploadHook(lg),n.registerUploadHook(mA),n}return e.extension={name:"prepare",type:he.RendererPlugin},e}(vA);/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _A=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof K?e:null,this.baseTexture=e instanceof ne?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Gs(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&Bt("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,l=null,u=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,h=new ie(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);o.rotated?s=new ie(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):s=new ie(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(l=new ie(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new K(this.baseTexture,s,h,l,o.rotated?2:0,o.anchor),K.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),xA=function(){function t(){}return t.use=function(e,r){var n,i,o=this,a=e.name+"_image";if(!e.data||e.type!==Oe.TYPE.JSON||!e.data.frames||o.resources[a]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var l=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),_=Jn.resolve(e.url.replace(o.baseUrl,""),p);if(o.resources[v]||Object.values(o.resources).some(function(g){return Jn.format(Jn.parse(g.url))===_}))return"continue";var m={crossOrigin:e.crossOrigin,loadType:Oe.LOAD_TYPE.XHR,xhrType:Oe.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};o.add(v,_,m)},u=0,h=s;u<h.length;u++){var c=h[u];l(c)}var f={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,o.baseUrl);o.add(a,d,f,function(v){if(v.error){r(v.error);return}var _=new _A(v.texture,e.data,e.url);_.parse().then(function(){e.spritesheet=_,e.textures=_.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Jn.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=he.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pf=function(t,e){return pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pf(t,e)};function ug(t,e){pf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zi=new ye;(function(t){ug(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=t.call(this,r)||this;return o.tileTransform=new By,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new Ac(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ie),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,zi);var n=this._width,i=this._height,o=-n*this.anchor._x;if(zi.x>=o&&zi.x<o+n){var a=-i*this.anchor._y;if(zi.y>=a&&zi.y<a+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof K?r:K.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e})(Ko);var EA=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Rv=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,wA=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,TA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,SA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Ga=new Ge,bA=function(t){ug(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new Xy,n.state=On.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=jr.from(Rv,EA,n),this.shader=r.context.webGLVersion>1?jr.from(TA,SA,n):jr.from(Rv,wA,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var a=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-s,o[2]=o[4]=1-a,o[5]=o[7]=1-s,i.invalidate();var l=r._texture,u=l.baseTexture,h=u.alphaMode>0,c=r.tileTransform.localTransform,f=r.uvMatrix,d=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;d&&(u._glTextures[n.CONTEXT_UID]?d=u.wrapMode!==Zt.CLAMP:u.wrapMode===Zt.CLAMP&&(u.wrapMode=Zt.REPEAT));var p=d?this.simpleShader:this.shader,v=l.width,_=l.height,m=r._width,g=r._height;Ga.set(c.a*v/m,c.b*v/g,c.c*_/m,c.d*_/g,c.tx/m,c.ty/g),Ga.invert(),d?Ga.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=Ga.toArray(!0),p.uniforms.uColor=Dy(r.tint,r.worldAlpha,p.uniforms.uColor,h),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=l,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=Ny(r.blendMode,h),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:he.RendererPlugin},e}(gl);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vf=function(t,e){return vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vf(t,e)};function Ic(t,e){vf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PA=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),Gu=new ye,Av=new ns,Lo=function(t){Ic(e,t);function e(r,n,i,o){o===void 0&&(o=Nt.TRIANGLES);var a=t.call(this)||this;return a.geometry=r,a.shader=n,a.state=i||On.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=j.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Nt.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,s=a.a,l=a.b,u=a.c,h=a.d,c=a.tx,f=a.ty,d=this.vertexData,p=0;p<d.length/2;p++){var v=i[p*2],_=i[p*2+1];d[p*2]=s*v+u*_+c,d[p*2+1]=l*v+h*_+f}if(this._roundPixels)for(var m=j.RESOLUTION,p=0;p<d.length;++p)d[p]=Math.round((d[p]*m|0)/m);this.vertexDirty=o}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new PA(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Gu);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=Av.points,o=this.geometry.getIndex().data,a=o.length,s=this.drawMode===4?3:1,l=0;l+2<a;l+=s){var u=o[l]*2,h=o[l+1]*2,c=o[l+2]*2;if(i[0]=n[u],i[1]=n[u+1],i[2]=n[h],i[3]=n[h+1],i[4]=n[c],i[5]=n[c+1],Av.contains(Gu.x,Gu.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(er),CA=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,RA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Bo=function(t){Ic(e,t);function e(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:Ge.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=t.call(this,n.program||qo.from(RA,CA),o)||this,i._colorDirty=!1,i.uvMatrix=new Ac(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;Dy(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(jr),_l=function(t){Ic(e,t);function e(r,n,i){var o=t.call(this)||this,a=new ke(r),s=new ke(n,!0),l=new ke(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,V.FLOAT).addAttribute("aTextureCoord",s,2,!1,V.FLOAT).addIndex(l),o._updateId=-1,o}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Yo);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mf=function(t,e){return mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mf(t,e)};function AA(t,e){mf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $s=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),OA=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var l in a){var u=a[l].split("="),h=u[0],c=u[1].replace(/"/gm,""),f=parseFloat(c),d=isNaN(f)?c:f;s[h]=d}n[o].push(s)}var p=new $s;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),yf=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new $s,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(var u=0;u<o.length;u++)r.page.push({id:parseInt(o[u].getAttribute("id"),10)||0,file:o[u].getAttribute("file")});for(var u=0;u<a.length;u++){var h=a[u];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(var u=0;u<s.length;u++)r.kerning.push({first:parseInt(s[u].getAttribute("first"),10),second:parseInt(s[u].getAttribute("second"),10),amount:parseInt(s[u].getAttribute("amount"),10)});for(var u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r},t}(),IA=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return yf.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return yf.parse(r)},t}(),ju=[OA,yf,IA];function hg(t){for(var e=0;e<ju.length;e++)if(ju[e].test(t))return ju[e];return null}function MA(t,e,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-l-u*2,c=t.height/n-l-u*2,f=a.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,v=1;v<p;++v)d.push(v/p);if(f.unshift(a[0]),d.unshift(0),f.push(a[a.length-1]),d.push(1),r.fillGradientType===Fo.LINEAR_VERTICAL){s=e.createLinearGradient(h/2,u,h/2,c+u);for(var _=0,m=o.fontProperties.fontSize+r.strokeThickness,g=m/c,v=0;v<i.length;v++)for(var y=o.lineHeight*v,x=0;x<f.length;x++){var E=0;typeof d[x]=="number"?E=d[x]:E=x/f.length;var w=y/c+E*g,T=Math.max(_,w);T=Math.min(T,1),s.addColorStop(T,f[x]),_=T}}else{s=e.createLinearGradient(u,c/2,h+u,c/2);for(var R=f.length+1,A=1,v=0;v<f.length;v++){var b=void 0;typeof d[v]=="number"?b=d[v]:b=A/R,s.addColorStop(b,f[v]),A++}}return s}function NA(t,e,r,n,i,o,a){var s=r.text,l=r.fontProperties;e.translate(n,i),e.scale(o,o);var u=a.strokeThickness/2,h=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=MA(t,e,a,o,[s],r),e.strokeStyle=a.stroke,a.dropShadow){var c=a.dropShadowColor,f=Ei(typeof c=="number"?c:Iy(c)),d=a.dropShadowBlur*o,p=a.dropShadowDistance*o;e.shadowColor="rgba("+f[0]*255+","+f[1]*255+","+f[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(s,u,h+r.lineHeight-l.descent),a.fill&&e.fillText(s,u,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function fg(t){return Array.from?Array.from(t):t.split("")}function DA(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,l=a;s<=l;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,fg(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function is(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Sr=function(){function t(e,r,n){var i,o,a=e.info[0],s=e.common[0],l=e.page[0],u=e.distanceField[0],h=Gs(l.file),c={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(var f=0;f<e.page.length;f++){var d=e.page[f],p=d.id,v=d.file;c[p]=r instanceof Array?r[f]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(c[p].baseTexture.alphaMode=Gt.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=Ut.OFF)}for(var f=0;f<e.char.length;f++){var _=e.char[f],p=_.id,m=_.page,g=e.char[f],y=g.x,x=g.y,E=g.width,w=g.height,T=g.xoffset,R=g.yoffset,A=g.xadvance;y/=h,x/=h,E/=h,w/=h,T/=h,R/=h,A/=h;var b=new ie(y+c[m].frame.x/h,x+c[m].frame.y/h,E,w);this.chars[p]={xOffset:T,yOffset:R,xAdvance:A,kerning:{},texture:new K(c[m].baseTexture,b),page:m}}for(var f=0;f<e.kerning.length;f++){var O=e.kerning[f],F=O.first,G=O.second,X=O.amount;F/=h,G/=h,X/=h,this.chars[G]&&(this.chars[G].kerning[F]=X)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=(o=(i=u==null?void 0:u.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof $s)i=e;else{var o=hg(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof K&&(r=[r]);var a=new t(i,r,n);return t.available[a.font]=a,a},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,l=i.textureWidth,u=i.textureHeight,h=DA(o),c=r instanceof wi?r:new wi(r),f=l,d=new $s;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};for(var p=0,v=0,_,m,g,y=0,x=[],E=0;E<h.length;E++){_||(_=j.ADAPTER.createCanvas(),_.width=l,_.height=u,m=_.getContext("2d"),g=new ne(_,{resolution:s}),x.push(new K(g)),d.page.push({id:x.length-1,file:""}));var w=h[E],T=tr.measureText(w,c,!1,_),R=T.width,A=Math.ceil(T.height),b=Math.ceil((c.fontStyle==="italic"?2:1)*R);if(v>=u-A*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+u+"px is too small "+("(fontFamily: '"+c.fontFamily+"', fontSize: "+c.fontSize+"px, char: '"+w+"')"));--E,_=null,m=null,g=null,v=0,p=0,y=0;continue}if(y=Math.max(A+T.fontProperties.descent,y),b*s+p>=f){if(p===0)throw new Error("[BitmapFont] textureWidth "+l+"px is too small "+("(fontFamily: '"+c.fontFamily+"', fontSize: "+c.fontSize+"px, char: '"+w+"')"));--E,v+=y*s,v=Math.ceil(v),p=0,y=0;continue}NA(_,m,T,p,v,s,c);var O=is(T.text);d.char.push({id:O,page:x.length-1,x:p/s,y:v/s,width:b,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(R-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),p+=(b+2*a)*s,p=Math.ceil(p)}for(var E=0,F=h.length;E<F;E++)for(var G=h[E],X=0;X<F;X++){var L=h[X],U=m.measureText(G).width,$=m.measureText(L).width,D=m.measureText(G+L).width,k=D-(U+$);k&&d.kerning.push({first:is(G),second:is(L),amount:k})}var S=new t(d,x,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=S,S},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),FA=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,LA=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,Ov=[],Iv=[],Mv=[];(function(t){AA(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var o=Object.assign({},e.styleDefaults,n),a=o.align,s=o.tint,l=o.maxWidth,u=o.letterSpacing,h=o.fontName,c=o.fontSize;if(!Sr.available[h])throw new Error('Missing BitmapFont "'+h+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._font=void 0,i._fontName=h,i._fontSize=c,i.text=r,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new ti(function(){i.dirty=!0},i,0,0),i._roundPixels=j.ROUND_PIXELS,i.dirty=!0,i._resolution=j.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=Sr.available[this._fontName],i=this.fontSize,o=i/n.size,a=new ye,s=[],l=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=fg(h),f=this._maxWidth*n.size/i,d=n.distanceFieldType==="none"?Ov:Iv,p=null,v=0,_=0,m=0,g=-1,y=0,x=0,E=0,w=0,T=0;T<c.length;T++){var R=c[T],A=is(R);if(/(?:\s)/.test(R)&&(g=T,y=v,w++),R==="\r"||R===`
`){l.push(v),u.push(-1),_=Math.max(_,v),++m,++x,a.x=0,a.y+=n.lineHeight,p=null,w=0;continue}var b=n.chars[A];if(b){p&&b.kerning[p]&&(a.x+=b.kerning[p]);var O=Mv.pop()||{texture:K.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ye};O.texture=b.texture,O.line=m,O.charCode=A,O.position.x=a.x+b.xOffset+this._letterSpacing/2,O.position.y=a.y+b.yOffset,O.prevSpaces=w,s.push(O),v=O.position.x+Math.max(b.xAdvance-b.xOffset,b.texture.orig.width),a.x+=b.xAdvance+this._letterSpacing,E=Math.max(E,b.yOffset+b.texture.height),p=A,g!==-1&&f>0&&a.x>f&&(++x,hi(s,1+g-x,1+T-g),T=g,g=-1,l.push(y),u.push(s.length>0?s[s.length-1].prevSpaces:0),_=Math.max(_,y),m++,a.x=0,a.y+=n.lineHeight,p=null,w=0)}}var F=c[c.length-1];F!=="\r"&&F!==`
`&&(/(?:\s)/.test(F)&&(v=y),l.push(v),_=Math.max(_,v),u.push(-1));for(var G=[],T=0;T<=m;T++){var X=0;this._align==="right"?X=_-l[T]:this._align==="center"?X=(_-l[T])/2:this._align==="justify"&&(X=u[T]<0?0:(_-l[T])/u[T]),G.push(X)}var L=s.length,U={},$=[],D=this._activePagesMeshData;d.push.apply(d,D);for(var T=0;T<L;T++){var k=s[T].texture,S=k.baseTexture.uid;if(!U[S]){var C=d.pop();if(!C){var I=new _l,Y=void 0,M=void 0;n.distanceFieldType==="none"?(Y=new Bo(K.EMPTY),M=W.NORMAL):(Y=new Bo(K.EMPTY,{program:qo.from(LA,FA),uniforms:{uFWidth:0}}),M=W.NORMAL_NPM);var q=new Lo(I,Y);q.blendMode=M,C={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:q,vertices:null,uvs:null,indices:null}}C.index=0,C.indexCount=0,C.vertexCount=0,C.uvsCount=0,C.total=0;var Z=this._textureCache;Z[S]=Z[S]||new K(k.baseTexture),C.mesh.texture=Z[S],C.mesh.tint=this._tint,$.push(C),U[S]=C}U[S].total++}for(var T=0;T<D.length;T++)$.indexOf(D[T])===-1&&this.removeChild(D[T].mesh);for(var T=0;T<$.length;T++)$[T].mesh.parent!==this&&this.addChild($[T].mesh);this._activePagesMeshData=$;for(var T in U){var C=U[T],te=C.total;if(!(((r=C.indices)===null||r===void 0?void 0:r.length)>6*te)||C.vertices.length<Lo.BATCHABLE_SIZE*2)C.vertices=new Float32Array(4*2*te),C.uvs=new Float32Array(4*2*te),C.indices=new Uint16Array(6*te);else for(var Ne=C.total,ge=C.vertices,de=Ne*4*2;de<ge.length;de++)ge[de]=0;C.mesh.size=6*te}for(var T=0;T<L;T++){var R=s[T],ue=R.position.x+G[R.line]*(this._align==="justify"?R.prevSpaces:1);this._roundPixels&&(ue=Math.round(ue));var pe=ue*o,_e=R.position.y*o,k=R.texture,re=U[k.baseTexture.uid],et=k.frame,at=k._uvs,ae=re.index++;re.indices[ae*6+0]=0+ae*4,re.indices[ae*6+1]=1+ae*4,re.indices[ae*6+2]=2+ae*4,re.indices[ae*6+3]=0+ae*4,re.indices[ae*6+4]=2+ae*4,re.indices[ae*6+5]=3+ae*4,re.vertices[ae*8+0]=pe,re.vertices[ae*8+1]=_e,re.vertices[ae*8+2]=pe+et.width*o,re.vertices[ae*8+3]=_e,re.vertices[ae*8+4]=pe+et.width*o,re.vertices[ae*8+5]=_e+et.height*o,re.vertices[ae*8+6]=pe,re.vertices[ae*8+7]=_e+et.height*o,re.uvs[ae*8+0]=at.x0,re.uvs[ae*8+1]=at.y0,re.uvs[ae*8+2]=at.x1,re.uvs[ae*8+3]=at.y1,re.uvs[ae*8+4]=at.x2,re.uvs[ae*8+5]=at.y2,re.uvs[ae*8+6]=at.x3,re.uvs[ae*8+7]=at.y3}this._textWidth=_*o,this._textHeight=(a.y+n.lineHeight)*o;for(var T in U){var C=U[T];if(this.anchor.x!==0||this.anchor.y!==0)for(var jt=0,In=this._textWidth*this.anchor.x,Qo=this._textHeight*this.anchor.y,Mc=0;Mc<C.total;Mc++)C.vertices[jt++]-=In,C.vertices[jt++]-=Qo,C.vertices[jt++]-=In,C.vertices[jt++]-=Qo,C.vertices[jt++]-=In,C.vertices[jt++]-=Qo,C.vertices[jt++]-=In,C.vertices[jt++]-=Qo;this._maxLineHeight=E*o;var Nc=C.mesh.geometry.getBuffer("aVertexPosition"),Dc=C.mesh.geometry.getBuffer("aTextureCoord"),Fc=C.mesh.geometry.getIndex();Nc.data=C.vertices,Dc.data=C.uvs,Fc.data=C.indices,Nc.update(),Dc.update(),Fc.update()}for(var T=0;T<s.length;T++)Mv.push(s[T]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=Sr.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var s=this.worldTransform,l=s.a,u=s.b,h=s.c,c=s.d,f=Math.sqrt(l*l+u*u),d=Math.sqrt(h*h+c*c),p=(Math.abs(f)+Math.abs(d))/2,v=this.fontSize/a,_=0,m=this._activePagesMeshData;_<m.length;_++){var g=m[_];g.mesh.shader.uniforms.uFWidth=p*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=Sr.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!Sr.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:Sr.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=Sr.available[this._fontName],o=i.distanceFieldType==="none"?Ov:Iv;o.push.apply(o,this._activePagesMeshData);for(var a=0,s=this._activePagesMeshData;a<s.length;a++){var l=s[a];this.removeChild(l.mesh)}this._activePagesMeshData=[],o.filter(function(c){return n[c.mesh.texture.baseTexture.uid]}).forEach(function(c){c.mesh.texture=K.EMPTY});for(var u in n){var h=n[u];h.destroy(),delete n[u]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e})(er);var BA=function(){function t(){}return t.add=function(){Oe.setExtensionXhrType("fnt",Oe.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=hg(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),o=n.parse(e.data),a={},s=function(v){a[v.metadata.pageFile]=v.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=Sr.install(o,a,!0),r())},l=0;l<o.page.length;++l){var u=o.page[l].file,h=i+u,c=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===h){d.metadata.pageFile=u,d.texture?s(d):d.onAfterMiddleware.add(s),c=!0;break}}if(!c){var p={crossOrigin:e.crossOrigin,loadType:Oe.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(h,p,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=he.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gf=function(t,e){return gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gf(t,e)};function kA(t,e){gf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var UA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){kA(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,MC,UA,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e})(qr);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _f=function(t,e){return _f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_f(t,e)};function cg(t,e){_f(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function jA(t,e){var r=Math.ceil(t/2),n=GA,i="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var HA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},zA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function XA(t){for(var e=HA[t],r=e.length,n=zA,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,s=0;s<t;s++){var l=o.replace("%index%",s.toString());a=s,s>=r&&(a=t-s-1),l=l.replace("%value%",e[a].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var Nv=function(t){cg(e,t);function e(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=j.FILTER_RESOLUTION),a===void 0&&(a=5);var s=this,l=jA(a,r),u=XA(a);return s=t.call(this,l,u)||this,s.horizontal=r,s.resolution=o,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),s=r.renderer,l=n,u=a;this.state.blend=!1,r.applyFilter(this,l,u,Mt.CLEAR);for(var h=1;h<this.passes-1;h++){r.bindAndClear(l,Mt.BLIT),this.uniforms.uSampler=u;var c=u;u=l,l=c,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,u,i,o),r.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(qr);(function(t){cg(e,t);function e(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=j.FILTER_RESOLUTION),o===void 0&&(o=5);var a=t.call(this)||this;return a.blurXFilter=new Nv(!0,r,n,i,o),a.blurYFilter=new Nv(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){var l=r.getFilterTexture();this.blurXFilter.apply(r,n,l,Mt.CLEAR),this.blurYFilter.apply(r,l,i,o),r.returnFilterTexture(l)}else s?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e})(qr);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xf=function(t,e){return xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xf(t,e)};function VA(t,e){xf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WA=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Dv=function(t){VA(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,Zy,WA,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,o=r>>8&255,a=r&255,s=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,s=1/3,l=a(s),u=i+(1-i)*s,h=s*(1-i)-l*o,c=s*(1-i)+l*o,f=s*(1-i)+l*o,d=i+s*(1-i),p=s*(1-i)-l*o,v=s*(1-i)-l*o,_=s*(1-i)+l*o,m=i+s*(1-i),g=[u,h,c,0,0,f,d,p,0,0,v,_,m,0,0,0,0,0,1,0];this._loadMatrix(g,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var s=(i>>16&255)/255,l=(i>>8&255)/255,u=(i&255)/255,h=(o>>16&255)/255,c=(o>>8&255)/255,f=(o&255)/255,d=[.3,.59,.11,0,0,s,l,u,r,0,h,c,f,n,0,s-h,l-c,u-f,0,0];this._loadMatrix(d,a)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(qr);Dv.prototype.grayscale=Dv.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ef=function(t,e){return Ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ef(t,e)};function $A(t,e){Ef(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var YA=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,qA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){$A(e,t);function e(r,n){var i=this,o=new Ge;return r.renderable=!1,i=t.call(this,qA,YA,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new ye(n,n),i}return e.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),r.applyFilter(this,n,i,o)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e})(qr);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wf=function(t,e){return wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wf(t,e)};function KA(t,e){wf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var QA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,ZA=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){KA(e,t);function e(){return t.call(this,QA,ZA)||this}return e})(qr);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tf=function(t,e){return Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Tf(t,e)};function JA(t,e){Tf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eO=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){JA(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,Zy,eO,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e})(qr);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dg=new Ge;Me.prototype._cacheAsBitmap=!1;Me.prototype._cacheData=null;Me.prototype._cacheAsBitmapResolution=null;Me.prototype._cacheAsBitmapMultisample=xe.NONE;var tO=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Me.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new tO),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Me.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Me.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(j.RESOLUTION);var a=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,h=Pn.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),c="cacheAsBitmap_"+bn();this._cacheData.textureCacheId=c,ne.addToCache(h.baseTexture,c),K.addToCache(h,c);var f=this.transform.localTransform.copyTo(dg).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(a,s,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new Ko(h);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};Me.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Me.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,o=e._projTransform;r.ceil(j.RESOLUTION);var a=Pn.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+bn();this._cacheData.textureCacheId=s,ne.addToCache(a.baseTexture,s),K.addToCache(a,s);var l=dg;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var u=new Ko(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Me.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Me.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Me.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ne.removeFromCache(this._cacheData.textureCacheId),K.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Me.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Me.prototype.name=null;er.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(o.getChildByName){var a=o.getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Me.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new ye),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rO=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,s=o.clientHeight;n=a,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=he.Application,t}(),pg=function(){function t(e){var r=this;this.stage=new er,e=Object.assign({forceCanvas:!1},e),this.renderer=AC(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){Bt("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),xr.add({type:he.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();xr.handleByList(he.Application,pg._plugins);xr.add(rO);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sf=function(t,e){return Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Sf(t,e)};function Ci(t,e){Sf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nO=function(t){Ci(e,t);function e(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=t.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,s=this.segHeight-1,l=this.width/a,u=this.height/s,h=0;h<r;h++){var c=h%this.segWidth,f=h/this.segWidth|0;n.push(c*l,f*u),i.push(c/a,f/s)}for(var d=a*s,h=0;h<d;h++){var p=h%a,v=h/a|0,_=v*this.segWidth+p,m=v*this.segWidth+p+1,g=(v+1)*this.segWidth+p,y=(v+1)*this.segWidth+p+1;o.push(_,m,g,m,y,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(_l),iO=function(t){Ci(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,s=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var l=0,u=r[0],h=this._width*this.textureScale,c=r.length,f=0;f<c;f++){var d=f*4;if(this.textureScale>0){var p=u.x-r[f].x,v=u.y-r[f].y,_=Math.sqrt(p*p+v*v);u=r[f],l+=_/h}else l=f/(c-1);a[d]=l,a[d+1]=0,a[d+2]=l,a[d+3]=1}for(var m=0,f=0;f<c-1;f++){var d=f*2;s[m++]=d,s[m++]=d+1,s[m++]=d+2,s[m++]=d+2,s[m++]=d+1,s[m++]=d+3}i.update(),o.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,s=this.buffers[0].data,l=r.length,u=0;u<l;u++){var h=r[u],c=u*4;u<r.length-1?i=r[u+1]:i=h,a=-(i.x-n.x),o=i.y-n.y;var f=Math.sqrt(o*o+a*a),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=f,a/=f,o*=d,a*=d,s[c]=h.x+o,s[c+1]=h.y+a,s[c+2]=h.x-o,s[c+3]=h.y-a,n=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(_l);(function(t){Ci(e,t);function e(r,n,i){i===void 0&&(i=0);var o=this,a=new iO(r.height,n,i),s=new Bo(r);return i>0&&(r.baseTexture.wrapMode=Zt.REPEAT),o=t.call(this,a,s)||this,o.autoUpdate=!0,o}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e})(Lo);var oO=function(t){Ci(e,t);function e(r,n,i){var o=this,a=new nO(r.width,r.height,n,i),s=new Bo(K.WHITE);return o=t.call(this,a,s)||this,o.texture=r,o.autoResize=!0,o}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(r.width!==i||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Lo);(function(t){Ci(e,t);function e(r,n,i,o,a){r===void 0&&(r=K.EMPTY);var s=this,l=new _l(n,i,o);l.getBuffer("aVertexPosition").static=!1;var u=new Bo(r);return s=t.call(this,l,u,null,a)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e})(Lo);var ja=10;(function(t){Ci(e,t);function e(r,n,i,o,a){n===void 0&&(n=ja),i===void 0&&(i=ja),o===void 0&&(o=ja),a===void 0&&(a=ja);var s=t.call(this,K.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=o,s._topHeight=i,s._bottomHeight=a,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e})(oO);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bf=function(t,e){return bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bf(t,e)};function aO(t,e){bf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){aO(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof K?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&($e.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&($e.shared.add(this.update,this,gr.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(K.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(K.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof K)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?($e.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&($e.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e})(Ko);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xr.add(zC,QC,YC,zR,gA,eg,bA,BA,pR,UR,GR,xA,sP,oR);const sO=z.forwardRef(({modelPath:t},e)=>{const r=z.useRef(),n=z.useRef(),i=z.useRef(),o=z.useRef(),a=z.useRef(),s=z.useRef(),l=z.useRef(),u=z.useRef(!1),[h,c]=z.useState(!1);z.useEffect(()=>{var E,w,T,R,A;if(u.current=!1,!t)return;if(r.current&&r.current.parentElement){const b=r.current,O=b.parentElement,F=document.createElement("canvas");F.className=b.className,F.tabIndex=b.tabIndex,F.setAttribute("aria-label",b.getAttribute("aria-label")),O.replaceChild(F,b),r.current=F}n.current&&(n.current.destroy(!0,{children:!0}),n.current=null);const m=new pg({view:r.current,width:((w=(E=r.current)==null?void 0:E.parentElement)==null?void 0:w.clientWidth)||400,height:((R=(T=r.current)==null?void 0:T.parentElement)==null?void 0:R.clientHeight)||600,transparent:!0,autoStart:!0,backgroundAlpha:0,resizeTo:((A=r.current)==null?void 0:A.parentElement)||void 0});m.stage.interactive=!1,r.current&&(r.current.style.pointerEvents="none"),n.current=m;const g=t.endsWith(".model3.json");function y(b){const O=m.screen.width,F=m.screen.height,G=b.width||b.internalModel&&b.internalModel.width||1,X=b.height||b.internalModel&&b.internalModel.height||1,L=Math.min(O/G,F/.45/X)*1.25;b.scale.set(L,L),b.x=O/2,b.y=F*.38,b.anchor.set(.5,.15)}async function x(b){const O=t.replace(/\.model3\.json$/,".pose3.json");try{const F=await fetch(O);if(F.ok){const G=await F.json();b.internalModel&&b.internalModel.poseManager&&(b.internalModel.poseManager.setup(G),m.ticker.add(()=>b.internalModel.poseManager.update(b.internalModel.coreModel,1/60)))}}catch{}if(!h&&b.animator&&b.animator.getMotionGroups){const G=b.animator.getMotionGroups().find(X=>X.toLowerCase().includes("idle"));G&&b.animator.startRandomMotion(G,1)}}return g?Jd(()=>import("./cubism4.es-d2dfcbca.js"),["assets/cubism4.es-d2dfcbca.js","assets/display-8222c2c4.js"]).then(({Live2DModel:b})=>{b.from(t).then(async O=>{O.interactive=!1,i.current=O,y(O),m.stage.addChild(O),u.current=!0,m.renderer.on("resize",()=>y(O)),await x(O)})}):Jd(()=>import("./index.es-20c37502.js"),["assets/index.es-20c37502.js","assets/display-8222c2c4.js"]).then(({Live2DModel:b})=>{b.from(t).then(async O=>{O.interactive=!1,i.current=O,y(O),m.stage.addChild(O),u.current=!0,m.renderer.on("resize",()=>y(O)),await x(O)})}),()=>{n.current&&(n.current.destroy(!0,{children:!0}),n.current=null)}},[t]),z.useEffect(()=>{r.current;function m(g){if(!u.current||!i.current||!r.current||h)return;const y=r.current.getBoundingClientRect(),x=g.clientX-y.left,E=g.clientY-y.top,w=y.width/2,T=y.height/2,R=(x-w)/w,A=(E-T)/T,b=(F,G,X)=>Math.max(G,Math.min(X,F)),O=i.current;O.internalModel&&O.internalModel.coreModel&&(O.internalModel.coreModel.setParameterValueById("ParamAngleX",b(R*30,-30,30)),O.internalModel.coreModel.setParameterValueById("ParamAngleY",b(-A*30,-30,30)),O.internalModel.coreModel.setParameterValueById("ParamAngleZ",b(R*-10,-10,10)),O.internalModel.coreModel.setParameterValueById("ParamEyeBallX",b(R,-1,1)),O.internalModel.coreModel.setParameterValueById("ParamEyeBallY",b(A,-1,1)))}return window.addEventListener("pointermove",m),()=>{window.removeEventListener("pointermove",m)}},[t,h]),z.useImperativeHandle(e,()=>({async playTTSAndAnimate(m,g,y,x,E,w,T,R,A){if(i.current)try{const b=await fetch("/api/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:m,pitch:g,speed:y,voice:x,gender:E,language:w,mood:T})});if(!b.ok)throw new Error("TTS failed");const O=await b.blob(),F=URL.createObjectURL(O),G=new Audio(F);G.onplay=()=>{R&&R(),d(G),_(m)},G.onended=()=>{A&&A(),v(),URL.revokeObjectURL(F)},G.onerror=X=>{console.error("Audio playback error",X),alert("Audio playback error: The TTS audio could not be played.")},G.play()}catch{if("speechSynthesis"in window){const O=new window.SpeechSynthesisUtterance(m);O.lang=w||"en-US",O.pitch=g,O.rate=y,O.onstart=()=>{R&&R(),p(),_()},O.onend=()=>{A&&A(),v()},window.speechSynthesis.speak(O)}else R&&R(),p(),_(),setTimeout(()=>{v(),A&&A()},2e3)}},setExpression(m){if(i.current)if(i.current.internalModel&&i.current.internalModel.motionManager&&i.current.internalModel.motionManager._expressions){const g=i.current.internalModel.motionManager._expressions;g[m]&&(i.current.expression=g[m])}else i.current.expressions&&i.current.expressions[m]&&(i.current.expression=i.current.expressions[m])},playMotion(m,g="NORMAL"){if(i.current){if(c(!0),console.log("[Live2D] playMotion called:",m,g),typeof i.current.motion=="function"){i.current.motion(m,g),setTimeout(()=>c(!1),2e3);return}if(i.current.internalModel&&i.current.internalModel.motionManager&&i.current.internalModel.motionManager._motions){const y=i.current.internalModel.motionManager._motions;for(const x in y)for(let E=0;E<y[x].length;E++){const w=y[x][E];if(w.name&&w.name.toLowerCase().includes(m.toLowerCase())||w.file&&w.file.replace(/\..+$/,"").toLowerCase().includes(m.toLowerCase())){i.current.internalModel.motionManager.startMotion(x,E,2),setTimeout(()=>c(!1),2e3);return}}if(y[""])for(let x=0;x<y[""].length;x++){const E=y[""][x];if(E.name&&E.name.toLowerCase().includes(m.toLowerCase())||E.file&&E.file.replace(/\..+$/,"").toLowerCase().includes(m.toLowerCase())){i.current.internalModel.motionManager.startMotion("",x,2),setTimeout(()=>c(!1),2e3);return}}y[m]&&(i.current.internalModel.motionManager.startMotion(m,0,2),setTimeout(()=>c(!1),2e3))}}}}));function f(m){i.current&&(m=Math.max(0,Math.min(1,m)),i.current.internalModel.coreModel.setParameterValueById("ParamMouthOpenY",m))}function d(m){v(),a.current||(a.current=new(window.AudioContext||window.webkitAudioContext)),l.current&&l.current.disconnect(),l.current=a.current.createMediaElementSource(m),s.current=a.current.createAnalyser(),s.current.fftSize=2048,l.current.connect(s.current),s.current.connect(a.current.destination);const g=new Uint8Array(s.current.fftSize);function y(){s.current.getByteTimeDomainData(g);let x=0;for(let T=0;T<g.length;T++){const R=(g[T]-128)/128;x+=R*R}const E=Math.sqrt(x/g.length),w=Math.min(1,Math.max(0,E*3+.1));f(w),o.current=requestAnimationFrame(y)}y()}function p(){v(),o.current=setInterval(()=>{const m=.3+.7*Math.abs(Math.sin(Date.now()/120));f(m)},40)}function v(){o.current&&(typeof o.current=="number"?clearInterval(o.current):cancelAnimationFrame(o.current),o.current=null),f(0)}function _(m){if(!i.current)return;let g=0;const y=i.current,x=y.y,E=y.internalModel.coreModel.getParameterValueById("ParamAngleY"),w=y.internalModel.coreModel.getParameterValueById("ParamBrowLY"),T=setInterval(()=>{y.y=x+Math.sin(g/2)*6,y.internalModel.coreModel.setParameterValueById("ParamAngleY",E+Math.sin(g/3)*10),y.internalModel.coreModel.setParameterValueById("ParamBrowLY",w+Math.sin(g/4)*.2),g++,g>40&&(y.y=x,y.internalModel.coreModel.setParameterValueById("ParamAngleY",E),y.internalModel.coreModel.setParameterValueById("ParamBrowLY",w),clearInterval(T))},33)}return P.jsx("div",{className:"w-full h-full min-w-[350px] min-h-[500px] flex items-center justify-center max-w-full max-h-full p-0 md:p-0",style:{position:"relative",width:"50vw",height:"80vh"},children:P.jsx("canvas",{ref:r,className:"block w-full h-full max-h-full max-w-full rounded-xl shadow-lg bg-transparent",tabIndex:0,"aria-label":"Live2D Model Canvas",style:{width:"100%",height:"100%"}})})});function lO({name:t,avatar:e,role:r}){return P.jsxs("div",{className:"flex items-center mb-2 gap-2 sm:gap-3",children:[P.jsx("img",{src:e,alt:"avatar",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full mr-2 sm:mr-3"}),P.jsxs("div",{children:[P.jsx("div",{className:"font-bold text-base sm:text-lg",children:t}),P.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:r})]})]})}function uO(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const hO={haru_greeter_t05:"/assets/haru_pro/avatar.png"},fO="/assets/user/avatar.png",cO=[{code:":)",emoji:""},{code:":(",emoji:""},{code:":D",emoji:""},{code:";)",emoji:""},{code:":P",emoji:""},{code:"<3",emoji:""},{code:"xD",emoji:""},{code:"",emoji:""},{code:"",emoji:""},{code:"",emoji:""},{code:"",emoji:""}];function dO({onSend:t,messages:e,agentKey:r="haru_greeter_t05"}){const[n,i]=z.useState(""),[o,a]=z.useState(!1),s=z.useRef(),l=z.useRef();function u(c){c.preventDefault(),n.trim()&&(t(n),i(""),a(!1))}function h(c){const f=s.current,d=f.selectionStart,p=f.selectionEnd,v=f.value;i(v.substring(0,d)+c+v.substring(p)),setTimeout(()=>{f.focus(),f.selectionStart=f.selectionEnd=d+c.length},0),a(!1)}return z.useEffect(()=>{function c(f){l.current&&!l.current.contains(f.target)&&a(!1)}if(o)return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[o]),P.jsxs("div",{className:"flex flex-col h-full max-h-[60vh] md:max-h-[70vh]",children:[P.jsx("div",{className:"flex-1 overflow-y-auto pr-1 scrollbar-thin",children:e.map((c,f)=>P.jsxs("div",{className:`flex items-end mb-2 ${c.role==="user"?"justify-end":"justify-start"} chat-row-anim animate-slide-in`,children:[c.role==="assistant"&&P.jsx("img",{src:hO[r],alt:"AI",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full mr-2 ai-avatar border-2"}),P.jsxs("div",{className:`chat-bubble px-3 py-2 rounded-2xl max-w-[80vw] sm:max-w-[60%] text-sm sm:text-base ${c.role==="user"?"user-bubble ml-2":"ai-bubble mr-2"}`,children:[c.content,P.jsx("span",{className:"block text-xs text-gray-400 mt-1 text-right",children:uO(new Date)})]}),c.role==="user"&&P.jsx("img",{src:fO,alt:"You",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full ml-2 user-avatar border-2"})]},f))}),P.jsxs("form",{onSubmit:u,className:"flex items-center gap-2 mt-2 sticky bottom-0 bg-white/80 py-2 px-1 rounded-xl shadow-inner",children:[P.jsx("button",{type:"button",className:"text-xl px-2",onClick:()=>a(c=>!c),"aria-label":"Emoji picker",children:""}),o&&P.jsx("div",{ref:l,className:"absolute bottom-14 left-2 z-20 bg-white border rounded-xl shadow-lg p-2 flex flex-wrap gap-1 w-56",children:cO.map(c=>P.jsx("button",{type:"button",className:"text-2xl p-1 hover:bg-fuchsia-100 rounded",onClick:()=>h(c.emoji),children:c.emoji},c.code))}),P.jsx("input",{ref:s,type:"text",value:n,onChange:c=>i(c.target.value),className:"flex-1 rounded-full border px-3 py-2 text-sm sm:text-base focus:ring-2 focus:ring-fuchsia-400",placeholder:"Type a message...",autoComplete:"off"}),P.jsx("button",{type:"submit",className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-4 py-2 rounded-full font-bold transition text-xs sm:text-base",children:"Send"})]})]})}function pO({message:t,onClose:e}){return t?P.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white p-4 rounded-xl min-w-[220px] max-w-xs w-full shadow-xl flex flex-col items-center",children:[P.jsx("div",{className:"mb-3 text-center text-sm text-gray-800",children:t}),P.jsx("button",{onClick:e,className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-4 py-1 rounded transition text-xs sm:text-base",children:"Close"})]})}):null}function vO(t){let e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return Object.entries({":)":"",":(":"",":D":"",";)":"",":P":"","<3":"",xD:""}).forEach(([n,i])=>{const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp(o,"g"),i)}),e}function mO({onLogin:t,error:e}){const[r,n]=z.useState(""),[i,o]=z.useState(""),[a,s]=z.useState(!1);async function l(u){u.preventDefault(),s(!0),await t(r,i),s(!1)}return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-fuchsia-900 to-blue-900 p-2",children:P.jsxs("form",{onSubmit:l,className:"bg-white/90 rounded-2xl shadow-2xl p-4 sm:p-8 flex flex-col gap-4 w-full max-w-xs sm:max-w-sm",children:[P.jsx("div",{className:"text-xl sm:text-2xl font-bold text-fuchsia-700 mb-2 text-center",children:"Live2D AI Agent Login"}),P.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Username",className:"p-2 rounded border border-gray-300 text-sm sm:text-base",autoComplete:"username"}),P.jsx("input",{type:"password",value:i,onChange:u=>o(u.target.value),placeholder:"Password",className:"p-2 rounded border border-gray-300 text-sm sm:text-base",autoComplete:"current-password"}),P.jsx("button",{type:"submit",className:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white px-4 py-2 rounded transition text-sm sm:text-base",disabled:a,children:a?"Logging in...":"Login"}),e&&P.jsx("div",{className:"text-red-600 text-xs sm:text-sm text-center",children:e}),P.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Demo account: demo / demo"})]})})}function yO({pitch:t,speed:e,voice:r,gender:n,mood:i,onSave:o}){const[a,s]=z.useState(t),[l,u]=z.useState(e),[h,c]=z.useState(r),[f,d]=z.useState(n),[p,v]=z.useState(i),[_,m]=z.useState(!1),g=[{value:"",label:"Default"},{value:"en-US",label:"English (US)"},{value:"en-GB",label:"English (UK)"},{value:"ja-JP",label:"Japanese"},{value:"zh-CN",label:"Chinese"}],y=[{value:"",label:"Any"},{value:"female",label:"Female"},{value:"male",label:"Male"},{value:"neutral",label:"Neutral"}],x=[{value:"",label:"Default"},{value:"happy",label:"Happy"},{value:"sad",label:"Sad"},{value:"angry",label:"Angry"},{value:"excited",label:"Excited"},{value:"calm",label:"Calm"},{value:"serious",label:"Serious"}],E=()=>{o({pitch:a,speed:l,voice:h,gender:f,mood:p}),m(!0),setTimeout(()=>m(!1),1800)};return P.jsxs("div",{className:"flex flex-col gap-6 p-4 max-w-lg mx-auto animate-fade-in",children:[P.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[P.jsx(K1,{className:"text-fuchsia-600 text-2xl"}),P.jsx("span",{className:"text-xl font-bold text-fuchsia-700",children:"Text-to-Speech Options"})]}),P.jsxs("div",{className:"flex flex-col gap-4 bg-white rounded-2xl shadow p-6",children:[P.jsx("label",{className:"font-semibold text-fuchsia-700 mt-4",children:"Voice"}),P.jsx("select",{value:h,onChange:w=>c(w.target.value),className:"rounded border p-2 focus:ring-2 focus:ring-fuchsia-400",children:g.map(w=>P.jsx("option",{value:w.value,children:w.label},w.value))}),P.jsxs("label",{className:"font-semibold text-fuchsia-700 flex items-center gap-2 mt-2",children:[P.jsx(nx,{className:"text-fuchsia-400"})," Gender"]}),P.jsx("select",{value:f,onChange:w=>d(w.target.value),className:"rounded border p-2 focus:ring-2 focus:ring-fuchsia-400",children:y.map(w=>P.jsx("option",{value:w.value,children:w.label},w.value))}),P.jsxs("label",{className:"font-semibold text-fuchsia-700 flex items-center gap-2 mt-2",children:[P.jsx(Q1,{className:"text-fuchsia-400"})," Mood"]}),P.jsx("select",{value:p,onChange:w=>v(w.target.value),className:"rounded border p-2 focus:ring-2 focus:ring-fuchsia-400",children:x.map(w=>P.jsx("option",{value:w.value,children:w.label},w.value))}),P.jsxs("label",{className:"font-semibold text-fuchsia-700 mt-4",children:["Pitch: ",P.jsx("span",{className:"font-normal text-gray-700",children:a})]}),P.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.01",value:a,onChange:w=>s(Number(w.target.value)),className:"w-full accent-fuchsia-600"}),P.jsxs("label",{className:"font-semibold text-fuchsia-700 mt-4",children:["Speed: ",P.jsx("span",{className:"font-normal text-gray-700",children:l})]}),P.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.01",value:l,onChange:w=>u(Number(w.target.value)),className:"w-full accent-fuchsia-600"}),P.jsxs("button",{onClick:E,className:"mt-6 bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-all text-lg flex items-center justify-center gap-2",children:[P.jsx($d,{className:"text-white text-xl"})," Save"]}),_&&P.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl px-8 py-6 flex flex-col items-center animate-fade-in border-2 border-fuchsia-400",children:[P.jsx($d,{className:"text-green-500 text-4xl mb-2 animate-bounce"}),P.jsx("span",{className:"text-lg font-semibold text-fuchsia-700",children:"Settings saved!"})]})})]}),P.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: none; } }
        .animate-fade-in { animation: fade-in 0.5s; }
      `})]})}function gO({motions:t,onPlay:e}){var i;const[r,n]=z.useState(((i=t[0])==null?void 0:i.name)||"");return P.jsxs("div",{className:"flex flex-col gap-6 p-4 max-w-lg mx-auto animate-fade-in",children:[P.jsx("div",{className:"flex items-center gap-3 mb-2",children:P.jsx("span",{className:"text-xl font-bold text-blue-700",children:"Motion Player"})}),P.jsxs("div",{className:"flex flex-col gap-4 bg-white rounded-2xl shadow p-6",children:[P.jsx("label",{className:"font-semibold text-blue-700 mt-2",children:"Select a Motion"}),P.jsx("select",{value:r,onChange:o=>n(o.target.value),className:"rounded border p-2 focus:ring-2 focus:ring-blue-400 text-lg",children:t.map(o=>P.jsx("option",{value:o.name,children:o.displayName},o.name))}),P.jsx("button",{onClick:()=>e(r),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-all text-lg flex items-center justify-center gap-2",children:" Play Motion"})]})]})}const _O={haru_greeter_t05:{name:"Haru",role:"Friendly AI Assistant",avatar:"/assets/haru_pro/avatar.png"}},xO={haru_greeter_t05:["Hi there! I'm Haru, your cheerful AI assistant! ","Hello! Haru here, ready to help and chat!","Hey! I'm Haru. How can I brighten your day?","Welcome! I'm Haru, your friendly AI buddy!","Yo! Haru at your service! What can I do for you today?"]};function EO(t){const e=xO[t];return e&&e.length>0?e[Math.floor(Math.random()*e.length)]:"Hello! I'm your AI assistant."}function wO(){const[t,e]=z.useState("/assets/haru_pro/haru_greeter_t05.model3.json"),[r,n]=z.useState("haru_greeter_t05"),[i,o]=z.useState([]),[a,s]=z.useState(""),[l,u]=z.useState(1),[h,c]=z.useState(1),[f,d]=z.useState("chat"),[p,v]=z.useState(!1),[_,m]=z.useState(""),[g,y]=z.useState(!1),[x,E]=z.useState(""),[w,T]=z.useState(""),[R,A]=z.useState(""),[b]=z.useState([{name:"haru_g_idle",displayName:"Idle"},{name:"haru_g_m01",displayName:"Motion 01"},{name:"haru_g_m02",displayName:"Motion 02"},{name:"haru_g_m03",displayName:"Motion 03"},{name:"haru_g_m04",displayName:"Motion 04"},{name:"haru_g_m05",displayName:"Motion 05"},{name:"haru_g_m06",displayName:"Motion 06"},{name:"haru_g_m07",displayName:"Motion 07"},{name:"haru_g_m08",displayName:"Motion 08"},{name:"haru_g_m09",displayName:"Motion 09"},{name:"haru_g_m10",displayName:"Motion 10"},{name:"haru_g_m11",displayName:"Motion 11"},{name:"haru_g_m12",displayName:"Motion 12"},{name:"haru_g_m13",displayName:"Motion 13"},{name:"haru_g_m14",displayName:"Motion 14"},{name:"haru_g_m15",displayName:"Motion 15"},{name:"haru_g_m16",displayName:"Motion 16"},{name:"haru_g_m17",displayName:"Motion 17"},{name:"haru_g_m18",displayName:"Motion 18"},{name:"haru_g_m19",displayName:"Motion 19"},{name:"haru_g_m20",displayName:"Motion 20"},{name:"haru_g_m21",displayName:"Motion 21"},{name:"haru_g_m22",displayName:"Motion 22"},{name:"haru_g_m23",displayName:"Motion 23"},{name:"haru_g_m24",displayName:"Motion 24"},{name:"haru_g_m25",displayName:"Motion 25"},{name:"haru_g_m26",displayName:"Motion 26"}]),O=z.useRef(),F=async S=>{y(!0),O.current&&O.current.playTTSAndAnimate?await O.current.playTTSAndAnimate(S,l,h,x,w,R,void 0,()=>y(!1)):y(!1)};z.useEffect(()=>{const S=EO(r);o([{role:"assistant",content:S}]),F(S)},[r,t]),z.useEffect(()=>{fetch("/api/assets/list",{credentials:"include"}).then(S=>v(S.status===200))},[]);async function G(S,C){m(""),(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,password:C}),credentials:"include"})).ok?v(!0):m("Invalid username or password.")}async function X(){await fetch("/api/logout",{method:"POST",credentials:"include"}),v(!1)}async function L(S){const C=$(S);if(C){if(C.type==="switch-model"){e(C.path),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Switched to model: ${C.path}`}]);return}if(C.type==="show-models"){o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Available models:
`+(Array.isArray(window.availableModels)?window.availableModels.join(`
`):"Use the Asset tab to see all models.")}]);return}if(C.type==="delete-asset"){o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Requested deletion of asset: ${C.path}`}]);return}if(C.type==="download-asset"){window.open(`/api/assets/download?path=${encodeURIComponent(C.path)}`),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Started download for asset: ${C.path}`}]);return}if(C.type==="play-audio"){new Audio(`/api/assets/preview?path=${encodeURIComponent(C.path)}`).play(),o(Y=>[...Y,{role:"user",content:S},{role:"assistant",content:`Playing audio: ${C.path}`}]);return}if(C.type==="read-aloud"){O.current&&O.current.playTTSAndAnimate&&O.current.playTTSAndAnimate(C.text,l,h),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Reading aloud: ${C.text}`}]);return}if(C.type==="reminder"){setTimeout(()=>{o(I=>[...I,{role:"assistant",content:` Reminder: ${C.task}`}])},(C.unit.startsWith("hour")?C.time*60:C.time)*6e4),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Reminder set for ${C.time} ${C.unit}: ${C.task}`}]);return}if(C.type==="change-expression"){O.current&&O.current.setExpression&&O.current.setExpression(C.expression),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Changed expression to: ${C.expression}`}]);return}if(C.type==="animate"){O.current&&O.current.playMotion&&O.current.playMotion(C.motion),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Animating: ${C.motion}`}]);return}if(C.type==="set-voice-pitch"){u(C.value),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Voice pitch set to: ${C.value}`}]);return}if(C.type==="set-voice-speed"){c(C.value),o(I=>[...I,{role:"user",content:S},{role:"assistant",content:`Voice speed set to: ${C.value}`}]);return}}o(I=>[...I,{role:"user",content:S}]),y(!0);try{const I=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:S,model:"Qwen3-1.7B"})});if(!I.ok)throw new Error("Chat API error");const Y=await I.json();o(M=>[...M,{role:"assistant",content:Y.response}]),await F(Y.response)}catch(I){s(I.message),y(!1)}}function U(S){const C=S.target.value;e(C),n("haru_greeter_t05")}function $(S){const C=S.toLowerCase();if(C.startsWith("switch to ")){const I=S.match(/switch to (.+)/i);if(I)return{type:"switch-model",path:I[1].trim()}}if(C.startsWith("load model ")){const I=S.match(/load model (.+)/i);if(I)return{type:"switch-model",path:I[1].trim()}}if(C.startsWith("show all models"))return{type:"show-models"};if(C.startsWith("delete asset ")){const I=S.match(/delete asset (.+)/i);if(I)return{type:"delete-asset",path:I[1].trim()}}if(C.startsWith("download asset ")){const I=S.match(/download asset (.+)/i);if(I)return{type:"download-asset",path:I[1].trim()}}if(C.startsWith("play audio ")){const I=S.match(/play audio (.+)/i);if(I)return{type:"play-audio",path:I[1].trim()}}if(C.startsWith("read aloud ")){const I=S.match(/read aloud (.+)/i);if(I)return{type:"read-aloud",text:I[1].trim()}}if(C.startsWith("remind me to ")){const I=S.match(/remind me to (.+) in (\d+) (minute|minutes|hour|hours)/i);if(I)return{type:"reminder",task:I[1].trim(),time:parseInt(I[2]),unit:I[3]}}if(C.startsWith("change expression to ")){const I=S.match(/change expression to (.+)/i);if(I)return{type:"change-expression",expression:I[1].trim()}}if(C.startsWith("animate ")||C.startsWith("do animation ")){const I=S.match(/(?:animate|do animation) (.+)/i);if(I)return{type:"animate",motion:I[1].trim()}}if(C.startsWith("set voice pitch to ")){const I=S.match(/set voice pitch to ([\d.]+)/i);if(I)return{type:"set-voice-pitch",value:parseFloat(I[1])}}if(C.startsWith("set voice speed to ")){const I=S.match(/set voice speed to ([\d.]+)/i);if(I)return{type:"set-voice-speed",value:parseFloat(I[1])}}return null}z.useEffect(()=>{p&&f==="options"&&fetch("/api/settings/tts",{credentials:"include"}).then(S=>S.json()).then(S=>{S.pitch!==void 0&&u(S.pitch),S.speed!==void 0&&c(S.speed),S.voice!==void 0&&E(S.voice),S.gender!==void 0&&T(S.gender),S.mood!==void 0&&A(S.mood)})},[p,f]);async function D(S){await fetch("/api/settings/tts",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)}),u(S.pitch),c(S.speed),E(S.voice),T(S.gender),A(S.mood)}function k(){return P.jsxs("div",{className:"flex items-center gap-2 mt-2 animate-pulse text-fuchsia-600 font-semibold",children:[P.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[P.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),P.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),P.jsx("span",{children:"Agent is thinking..."})]})}return p?P.jsxs("div",{className:"flex flex-col md:flex-row w-full h-screen min-h-0",children:[P.jsx("div",{className:"flex-1 flex items-center justify-center bg-black h-80 md:h-full min-h-0",children:P.jsx("div",{className:"w-full h-full flex items-center justify-center max-w-full max-h-full",children:P.jsx(sO,{ref:O,modelPath:t})})}),P.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white/90 p-0 min-h-0",children:[P.jsxs("div",{className:"flex border-b border-fuchsia-400 bg-gradient-to-r from-fuchsia-100/60 to-blue-100/60 rounded-none p-2 shadow text-xs sm:text-base",children:[P.jsx("button",{className:`tab-btn tab-button px-3 sm:px-6 py-2 font-bold rounded-full transition-all duration-200 neon-black ${f==="chat"?"bg-fuchsia-600 shadow ring-2 ring-fuchsia-400/40 text-white":"bg-white border border-fuchsia-200 hover:bg-fuchsia-50 hover:text-fuchsia-800"}`,onClick:()=>d("chat"),children:"Chat"}),P.jsx("button",{className:`tab-btn tab-button px-3 sm:px-6 py-2 font-bold rounded-full transition-all duration-200 neon-black ml-2 ${f==="assets"?"bg-blue-600 shadow ring-2 ring-blue-400/40 text-white":"bg-white border border-blue-200 hover:bg-blue-50 hover:text-blue-800"}`,onClick:()=>d("assets"),children:"Asset"}),P.jsx("button",{className:`tab-btn tab-button px-3 sm:px-6 py-2 font-bold rounded-full transition-all duration-200 neon-black ml-2 ${f==="options"?"bg-green-600 shadow ring-2 ring-green-400/40 text-white":"bg-white border border-green-200 hover:bg-green-50 hover:text-green-800"}`,onClick:()=>d("options"),children:"Option"}),P.jsx("button",{className:`tab-btn tab-button px-3 sm:px-6 py-2 font-bold rounded-full transition-all duration-200 neon-black ml-2 ${f==="motion"?"bg-blue-700 shadow ring-2 ring-blue-400/40 text-white":"bg-white border border-blue-200 hover:bg-blue-50 hover:text-blue-800"}`,onClick:()=>d("motion"),children:"Motion"}),P.jsxs("button",{onClick:X,className:"ml-auto flex items-center gap-1 px-2 sm:px-3 py-1 bg-gray-200 hover:bg-fuchsia-600 hover:text-white text-fuchsia-700 rounded-lg font-semibold transition text-xs sm:text-base",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h4a2 2 0 012 2v1"})}),"Logout"]})]}),P.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto p-2 sm:p-6 min-h-0",children:[P.jsxs("div",{className:"mb-2",children:[P.jsx(lO,{..._O[r]}),P.jsx("label",{className:"block mt-2 font-semibold text-fuchsia-700",children:"Switch Model: "}),P.jsx("select",{value:t,onChange:U,className:"rounded border p-1 mt-1 focus:ring-2 focus:ring-fuchsia-400 w-full max-w-xs",children:P.jsx("option",{value:"/assets/haru_pro/haru_greeter_t05.model3.json",children:"Haru (Live2D v4)"})})]}),f==="chat"&&P.jsxs(P.Fragment,{children:[P.jsx(dO,{onSend:L,messages:i.map(S=>({...S,content:vO(S.content)})),agentKey:r}),g&&P.jsx(k,{})]}),f==="assets"&&P.jsx(ox,{onLoadModel:S=>e(S)}),f==="options"&&P.jsx(yO,{pitch:l,speed:h,voice:x,gender:w,mood:R,onSave:D}),f==="motion"&&P.jsx(gO,{motions:b,onPlay:S=>O.current&&O.current.playMotion&&O.current.playMotion(S)}),P.jsx(pO,{message:a,onClose:()=>s("")})]})]})]}):P.jsx(mO,{onLogin:G,error:_})}const TO=document.getElementById("root"),SO=$0(TO);SO.render(P.jsx(wO,{}));export{zo as E,iT as f,rT as p,nT as r};
